"use strict";(self.webpackChunkslack_clone=self.webpackChunkslack_clone||[]).push([[179],{2313:(xt,Re,O)=>{O.d(Re,{nm:()=>Fi});var y=O(2122),ae=(O(4650),O(3692),O(259),O(5861)),ce=O(9681),ee=O(4859),L=O(2090),q=O(1877);const j=new Map,Y={activated:!1,tokenObservers:[]},re={initialized:!1,enabled:!1};function _e(Fe){return j.get(Fe)||Object.assign({},Y)}function ye(){return re}const ot="https://content-firebaseappcheck.googleapis.com/v1",Ce="exchangeDebugToken",Ze={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class de{constructor(Te,ze,et,Ct,Jt){if(this.operation=Te,this.retryPolicy=ze,this.getWaitDuration=et,this.lowerBound=Ct,this.upperBound=Jt,this.pending=null,this.nextErrorWaitInterval=Ct,Ct>Jt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Te){var ze=this;return(0,ae.Z)(function*(){ze.stop();try{ze.pending=new L.BH,yield function Ae(Fe){return new Promise(Te=>{setTimeout(Te,Fe)})}(ze.getNextRun(Te)),ze.pending.resolve(),yield ze.pending.promise,ze.pending=new L.BH,yield ze.operation(),ze.pending.resolve(),yield ze.pending.promise,ze.process(!0).catch(()=>{})}catch(et){ze.retryPolicy(et)?ze.process(!1).catch(()=>{}):ze.stop()}})()}getNextRun(Te){if(Te)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ze=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ze}}}const we=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function on(Fe,Te){return kt.apply(this,arguments)}function kt(){return(kt=(0,ae.Z)(function*({url:Fe,body:Te},ze){const et={"Content-Type":"application/json"},Ct=ze.getImmediate({optional:!0});if(Ct){const dr=yield Ct.getHeartbeatsHeader();dr&&(et["X-Firebase-Client"]=dr)}const Jt={method:"POST",body:JSON.stringify(Te),headers:et};let Vt,nr;try{Vt=yield fetch(Fe,Jt)}catch(dr){throw we.create("fetch-network-error",{originalErrorMessage:dr?.message})}if(200!==Vt.status)throw we.create("fetch-status-error",{httpStatus:Vt.status});try{nr=yield Vt.json()}catch(dr){throw we.create("fetch-parse-error",{originalErrorMessage:dr?.message})}const _n=nr.ttl.match(/^([\d.]+)(s)$/);if(!_n||!_n[2]||isNaN(Number(_n[1])))throw we.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${nr.ttl}`});const ti=1e3*Number(_n[1]),Di=Date.now();return{token:nr.token,expireTimeMillis:Di+ti,issuedAtTimeMillis:Di}})).apply(this,arguments)}const mt="firebase-app-check-database",bt=1,_t="firebase-app-check-store";let Lt=null;function Vn(Fe,Te){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,ae.Z)(function*(Fe,Te){const et=(yield function Rn(){return Lt||(Lt=new Promise((Fe,Te)=>{try{const ze=indexedDB.open(mt,bt);ze.onsuccess=et=>{Fe(et.target.result)},ze.onerror=et=>{var Ct;Te(we.create("storage-open",{originalErrorMessage:null===(Ct=et.target.error)||void 0===Ct?void 0:Ct.message}))},ze.onupgradeneeded=et=>{0===et.oldVersion&&et.target.result.createObjectStore(_t,{keyPath:"compositeKey"})}}catch(ze){Te(we.create("storage-open",{originalErrorMessage:ze?.message}))}}),Lt)}()).transaction(_t,"readwrite"),Jt=et.objectStore(_t).put({compositeKey:Fe,value:Te});return new Promise((Vt,nr)=>{Jt.onsuccess=_n=>{Vt()},et.onerror=_n=>{var ti;nr(we.create("storage-set",{originalErrorMessage:null===(ti=_n.target.error)||void 0===ti?void 0:ti.message}))}})})).apply(this,arguments)}const rr=new q.Yd("@firebase/app-check");function Or(Fe,Te){return(0,L.hl)()?function un(Fe,Te){return Vn(function fr(Fe){return`${Fe.options.appId}-${Fe.name}`}(Fe),Te)}(Fe,Te).catch(ze=>{rr.warn(`Failed to write token to IndexedDB. Error: ${ze}`)}):Promise.resolve()}function yr(){return vr.apply(this,arguments)}function vr(){return(vr=(0,ae.Z)(function*(){const Fe=ye();if(Fe.enabled&&Fe.token)return Fe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ir={error:"UNKNOWN_ERROR"};function Gr(Fe){return L.US.encodeString(JSON.stringify(Fe),!1)}function an(Fe){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,ae.Z)(function*(Fe,Te=!1){const ze=Fe.app;!function Ke(Fe){if(!_e(Fe).activated)throw we.create("use-before-activation",{appName:Fe.name})}(ze);const et=_e(ze);let Jt,Ct=et.token;if(Ct&&!Yn(Ct)&&(et.token=void 0,Ct=void 0),!Ct){const _n=yield et.cachedTokenPromise;_n&&(Yn(_n)?Ct=_n:yield Or(ze,void 0))}if(!Te&&Ct&&Yn(Ct))return{token:Ct.token};let nr,Vt=!1;if(function Qt(){return ye().enabled}()){et.exchangeTokenPromise||(et.exchangeTokenPromise=on(function ut(Fe,Te){const{projectId:ze,appId:et,apiKey:Ct}=Fe.options;return{url:`${ot}/projects/${ze}/apps/${et}:${Ce}?key=${Ct}`,body:{debug_token:Te}}}(ze,yield yr()),Fe.heartbeatServiceProvider).finally(()=>{et.exchangeTokenPromise=void 0}),Vt=!0);const _n=yield et.exchangeTokenPromise;return yield Or(ze,_n),et.token=_n,{token:_n.token}}try{et.exchangeTokenPromise||(et.exchangeTokenPromise=et.provider.getToken().finally(()=>{et.exchangeTokenPromise=void 0}),Vt=!0),Ct=yield _e(ze).exchangeTokenPromise}catch(_n){"appCheck/throttled"===_n.code?rr.warn(_n.message):rr.error(_n),Jt=_n}return Ct?Jt?nr=Yn(Ct)?{token:Ct.token,internalError:Jt}:ke(Jt):(nr={token:Ct.token},et.token=Ct,yield Or(ze,Ct)):nr=ke(Jt),Vt&&function nn(Fe,Te){const ze=_e(Fe).tokenObservers;for(const et of ze)try{"EXTERNAL"===et.type&&null!=Te.error?et.error(Te.error):et.next(Te)}catch{}}(ze,nr),nr})).apply(this,arguments)}function $n(Fe,Te){const ze=_e(Fe),et=ze.tokenObservers.filter(Ct=>Ct.next!==Te);0===et.length&&ze.tokenRefresher&&ze.tokenRefresher.isRunning()&&ze.tokenRefresher.stop(),ze.tokenObservers=et}function jn(Fe){const{app:Te}=Fe,ze=_e(Te);let et=ze.tokenRefresher;et||(et=function Wn(Fe){const{app:Te}=Fe;return new de((0,ae.Z)(function*(){let et;if(et=_e(Te).token?yield an(Fe,!0):yield an(Fe),et.error)throw et.error;if(et.internalError)throw et.internalError}),()=>!0,()=>{const ze=_e(Te);if(ze.token){let et=ze.token.issuedAtTimeMillis+.5*(ze.token.expireTimeMillis-ze.token.issuedAtTimeMillis)+3e5;return et=Math.min(et,ze.token.expireTimeMillis-3e5),Math.max(0,et-Date.now())}return 0},Ze.RETRIAL_MIN_WAIT,Ze.RETRIAL_MAX_WAIT)}(Fe),ze.tokenRefresher=et),!et.isRunning()&&ze.isTokenAutoRefreshEnabled&&et.start()}function Yn(Fe){return Fe.expireTimeMillis-Date.now()>0}function ke(Fe){return{token:Gr(ir),error:Fe}}class tt{constructor(Te,ze){this.app=Te,this.heartbeatServiceProvider=ze}_delete(){const{tokenObservers:Te}=_e(this.app);for(const ze of Te)$n(this.app,ze.next);return Promise.resolve()}}const Ii="app-check-internal";!function ns(){(0,ce.Xd)(new ee.wA("app-check",Fe=>function Et(Fe,Te){return new tt(Fe,Te)}(Fe.getProvider("app").getImmediate(),Fe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Fe,Te,ze)=>{Fe.getProvider(Ii).initialize()})),(0,ce.Xd)(new ee.wA(Ii,Fe=>function ht(Fe){return{getToken:Te=>an(Fe,Te),addTokenListener:Te=>function Ut(Fe,Te,ze,et){const{app:Ct}=Fe,Jt=_e(Ct);if(Jt.tokenObservers=[...Jt.tokenObservers,{next:ze,error:et,type:Te}],Jt.token&&Yn(Jt.token)){const nr=Jt.token;Promise.resolve().then(()=>{ze({token:nr.token}),jn(Fe)}).catch(()=>{})}Jt.cachedTokenPromise.then(()=>jn(Fe))}(Fe,"INTERNAL",Te),removeTokenListener:Te=>$n(Fe.app,Te)}}(Fe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ce.KN)("@firebase/app-check","0.6.4")}();class Fi{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},3692:(xt,Re,O)=>{O.d(Re,{Ot:()=>se,ZF:()=>Se,hX:()=>_e,z6:()=>ae});var y=O(259),V=O(4650),X=O(2122);class se{constructor(de){return de}}class ae{constructor(){return(0,y.C6)()}}const L=new V.OlP("angularfire2._apps"),q={provide:se,useFactory:function ee(Pe){return Pe&&1===Pe.length?Pe[0]:new se((0,y.Mq)())},deps:[[new V.FiY,L]]},j={provide:ae,deps:[[new V.FiY,L]]};function Y(Pe){return(de,Ae)=>{const it=de.runOutsideAngular(()=>Pe(Ae));return new se(it)}}let re=(()=>{class Pe{constructor(Ae){(0,y.KN)("angularfire",X.q4.full,"core"),(0,y.KN)("angularfire",X.q4.full,"app"),(0,y.KN)("angular",V.q4F.full,Ae.toString())}}return Pe.\u0275fac=function(Ae){return new(Ae||Pe)(V.LFG(V.Lbi))},Pe.\u0275mod=V.oAB({type:Pe}),Pe.\u0275inj=V.cJS({providers:[q,j]}),Pe})();function _e(Pe,...de){return{ngModule:re,providers:[{provide:L,useFactory:Y(Pe),multi:!0,deps:[V.R0b,V.zs3,X.HU,...de]}]}}const Se=(0,X.u3)(y.ZF,!0)},7158:(xt,Re,O)=>{O.d(Re,{AR:()=>Se,dh:()=>q,gx:()=>L,rh:()=>ir,v0:()=>on,w7:()=>an});var y=O(2122),V=O(4650),X=O(3692),se=O(259),ae=O(2313),ce=O(5407);class L{constructor(ht){return ht}}class q{constructor(){return(0,y.vb)("auth")}}const Y=new V.OlP("angularfire2.auth-instances");function _e(Et){return(ht,hn)=>{const Dn=ht.runOutsideAngular(()=>Et(hn));return new L(Dn)}}const je={provide:q,deps:[[new V.FiY,Y]]},ye={provide:L,useFactory:function re(Et,ht){const hn=(0,y.JM)("auth",Et,ht);return hn&&new L(hn)},deps:[[new V.FiY,Y],X.Ot]};let ot=(()=>{class Et{constructor(){(0,se.KN)("angularfire",y.q4.full,"auth")}}return Et.\u0275fac=function(hn){return new(hn||Et)},Et.\u0275mod=V.oAB({type:Et}),Et.\u0275inj=V.cJS({providers:[ye,je]}),Et})();function Se(Et,...ht){return{ngModule:ot,providers:[{provide:Y,useFactory:_e(Et),multi:!0,deps:[V.R0b,V.zs3,y.HU,X.z6,[new V.FiY,ae.nm],...ht]}]}}const on=(0,y.u3)(ce.v0,!0),ir=(0,y.u3)(ce.rh,!0),an=(0,y.u3)(ce.w7,!0)},2282:(xt,Re,O)=>{O.d(Re,{gg:()=>L,ET:()=>Ft,JU:()=>Bt,QT:()=>Vn,ad:()=>mr,cf:()=>vr,Xo:()=>ir,Cm:()=>He,pl:()=>jn});var y=O(2122),V=O(4650),X=O(7158),se=O(3692),ae=O(259),ce=O(2313),ee=O(5525);class L{constructor(nt){return nt}}const q="firestore",re=new V.OlP("angularfire2.firestore-instances");function je(ct){return(nt,De)=>{const ie=nt.runOutsideAngular(()=>ct(De));return new L(ie)}}const ye={provide:class j{constructor(){return(0,y.vb)(q)}},deps:[[new V.FiY,re]]},ot={provide:L,useFactory:function _e(ct,nt){const De=(0,y.JM)(q,ct,nt);return De&&new L(De)},deps:[[new V.FiY,re],se.Ot]};let Se=(()=>{class ct{constructor(){(0,ae.KN)("angularfire",y.q4.full,"fst")}}return ct.\u0275fac=function(De){return new(De||ct)},ct.\u0275mod=V.oAB({type:ct}),ct.\u0275inj=V.cJS({providers:[ot,ye]}),ct})();function He(ct,...nt){return{ngModule:Se,providers:[{provide:re,useFactory:je(ct),multi:!0,deps:[V.R0b,V.zs3,y.HU,se.z6,[new V.FiY,X.dh],[new V.FiY,ce.nm],...nt]}]}}const Ft=(0,y.u3)(ee.ET,!0),Bt=(0,y.u3)(ee.JU,!0),Vn=(0,y.u3)(ee.QT,!0),mr=(0,y.u3)(ee.ad,!0),vr=(0,y.u3)(ee.cf,!0),ir=(0,y.u3)(ee.Xo,!0),jn=(0,y.u3)(ee.pl,!0)},2122:(xt,Re,O)=>{O.d(Re,{q4:()=>_s,HU:()=>Zt,vb:()=>Q,JM:()=>z,u3:()=>Ca});var y=O(4650),V=O(259),X=O(5861),se=O(9681),ae=O(2090),ce=O(4859),ee=O(1877),L=O(8766);const q="@firebase/installations",j="0.6.4",Y=1e4,re=`w:${j}`,_e="FIS_v2",je="https://firebaseinstallations.googleapis.com/v1",ye=36e5,Ce=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ze(P){return P instanceof ae.ZR&&P.code.includes("request-failed")}function Pe({projectId:P}){return`${je}/projects/${P}/installations`}function de(P){return{token:P.token,requestStatus:2,expiresIn:Pt(P.expiresIn),creationTime:Date.now()}}function Ae(P,k){return it.apply(this,arguments)}function it(){return(it=(0,X.Z)(function*(P,k){const ge=(yield k.json()).error;return Ce.create("request-failed",{requestName:P,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function we({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function Ke(P){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,X.Z)(function*(P){const k=yield P();return k.status>=500&&k.status<600?P():k})).apply(this,arguments)}function Pt(P){return Number(P.replace("s","000"))}function Ve(){return(Ve=(0,X.Z)(function*({appConfig:P,heartbeatServiceProvider:k},{fid:W}){const ge=Pe(P),Be=we(P),Xe=k.getImmediate({optional:!0});if(Xe){const yn=yield Xe.getHeartbeatsHeader();yn&&Be.append("x-firebase-client",yn)}const fn={method:"POST",headers:Be,body:JSON.stringify({fid:W,authVersion:_e,appId:P.appId,sdkVersion:re})},En=yield Ke(()=>fetch(ge,fn));if(En.ok){const yn=yield En.json();return{fid:yn.fid||W,registrationStatus:2,refreshToken:yn.refreshToken,authToken:de(yn.authToken)}}throw yield Ae("Create Installation",En)})).apply(this,arguments)}function Ye(P){return new Promise(k=>{setTimeout(k,P)})}const mt=/^[cdef][\w-]{21}$/,bt="";function _t(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const W=function Bt(P){return function ut(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return mt.test(W)?W:bt}catch{return bt}}function Lt(P){return`${P.appName}!${P.appId}`}const Rn=new Map;function ln(P,k){const W=Lt(P);$t(W,k),function Vn(P,k){const W=function Kt(){return!Ln&&"BroadcastChannel"in self&&(Ln=new BroadcastChannel("[Firebase] FID Change"),Ln.onmessage=P=>{$t(P.data.key,P.data.fid)}),Ln}();W&&W.postMessage({key:P,fid:k}),function ar(){0===Rn.size&&Ln&&(Ln.close(),Ln=null)}()}(W,k)}function $t(P,k){const W=Rn.get(P);if(W)for(const ge of W)ge(k)}let Ln=null;const fr="firebase-installations-database",rr=1,mr="firebase-installations-store";let wr=null;function Or(){return wr||(wr=(0,L.X3)(fr,rr,{upgrade:(P,k)=>{0===k&&P.createObjectStore(mr)}})),wr}function Bn(P,k){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,X.Z)(function*(P,k){const W=Lt(P),Be=(yield Or()).transaction(mr,"readwrite"),Xe=Be.objectStore(mr),St=yield Xe.get(W);return yield Xe.put(k,W),yield Be.done,(!St||St.fid!==k.fid)&&ln(P,k.fid),k})).apply(this,arguments)}function Qt(P){return yr.apply(this,arguments)}function yr(){return(yr=(0,X.Z)(function*(P){const k=Lt(P),ge=(yield Or()).transaction(mr,"readwrite");yield ge.objectStore(mr).delete(k),yield ge.done})).apply(this,arguments)}function vr(P,k){return cr.apply(this,arguments)}function cr(){return(cr=(0,X.Z)(function*(P,k){const W=Lt(P),Be=(yield Or()).transaction(mr,"readwrite"),Xe=Be.objectStore(mr),St=yield Xe.get(W),fn=k(St);return void 0===fn?yield Xe.delete(W):yield Xe.put(fn,W),yield Be.done,fn&&(!St||St.fid!==fn.fid)&&ln(P,fn.fid),fn})).apply(this,arguments)}function ir(P){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,X.Z)(function*(P){let k;const W=yield vr(P.appConfig,ge=>{const Be=function an(P){return Yn(P||{fid:_t(),registrationStatus:0})}(ge),Xe=function Yt(P,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Ce.create("app-offline"))};const W={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},ge=function Ut(P,k){return $n.apply(this,arguments)}(P,W);return{installationEntry:W,registrationPromise:ge}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:jn(P)}:{installationEntry:k}}(P,Be);return k=Xe.registrationPromise,Xe.installationEntry});return W.fid===bt?{installationEntry:yield k}:{installationEntry:W,registrationPromise:k}}),Gr.apply(this,arguments)}function $n(){return $n=(0,X.Z)(function*(P,k){try{const W=yield function kt(P,k){return Ve.apply(this,arguments)}(P,k);return Bn(P.appConfig,W)}catch(W){throw Ze(W)&&409===W.customData.serverCode?yield Qt(P.appConfig):yield Bn(P.appConfig,{fid:k.fid,registrationStatus:0}),W}}),$n.apply(this,arguments)}function jn(P){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,X.Z)(function*(P){let k=yield nn(P.appConfig);for(;1===k.registrationStatus;)yield Ye(100),k=yield nn(P.appConfig);if(0===k.registrationStatus){const{installationEntry:W,registrationPromise:ge}=yield ir(P);return ge||W}return k})).apply(this,arguments)}function nn(P){return vr(P,k=>{if(!k)throw Ce.create("installation-not-found");return Yn(k)})}function Yn(P){return function ke(P){return 1===P.registrationStatus&&P.registrationTime+Y<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function Et(){return(Et=(0,X.Z)(function*({appConfig:P,heartbeatServiceProvider:k},W){const ge=function ht(P,{fid:k}){return`${Pe(P)}/${k}/authTokens:generate`}(P,W),Be=function Me(P,{refreshToken:k}){const W=we(P);return W.append("Authorization",function on(P){return`${_e} ${P}`}(k)),W}(P,W),Xe=k.getImmediate({optional:!0});if(Xe){const yn=yield Xe.getHeartbeatsHeader();yn&&Be.append("x-firebase-client",yn)}const fn={method:"POST",headers:Be,body:JSON.stringify({installation:{sdkVersion:re,appId:P.appId}})},En=yield Ke(()=>fetch(ge,fn));if(En.ok)return de(yield En.json());throw yield Ae("Generate Auth Token",En)})).apply(this,arguments)}function hn(P){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,X.Z)(function*(P,k=!1){let W;const ge=yield vr(P.appConfig,Xe=>{if(!at(Xe))throw Ce.create("not-registered");const St=Xe.authToken;if(!k&&function lt(P){return 2===P.requestStatus&&!function ue(P){const k=Date.now();return k<P.creationTime||P.creationTime+P.expiresIn<k+ye}(P)}(St))return Xe;if(1===St.requestStatus)return W=function ct(P,k){return nt.apply(this,arguments)}(P,k),Xe;{if(!navigator.onLine)throw Ce.create("app-offline");const fn=function oe(P){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:k})}(Xe);return W=function ie(P,k){return me.apply(this,arguments)}(P,fn),fn}});return W?yield W:ge.authToken}),Dn.apply(this,arguments)}function nt(){return(nt=(0,X.Z)(function*(P,k){let W=yield De(P.appConfig);for(;1===W.authToken.requestStatus;)yield Ye(100),W=yield De(P.appConfig);const ge=W.authToken;return 0===ge.requestStatus?hn(P,k):ge})).apply(this,arguments)}function De(P){return vr(P,k=>{if(!at(k))throw Ce.create("not-registered");return function Ee(P){return 1===P.requestStatus&&P.requestTime+Y<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function me(){return me=(0,X.Z)(function*(P,k){try{const W=yield function tt(P,k){return Et.apply(this,arguments)}(P,k),ge=Object.assign(Object.assign({},k),{authToken:W});return yield Bn(P.appConfig,ge),W}catch(W){if(!Ze(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const ge=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield Bn(P.appConfig,ge)}else yield Qt(P.appConfig);throw W}}),me.apply(this,arguments)}function at(P){return void 0!==P&&2===P.registrationStatus}function Le(){return(Le=(0,X.Z)(function*(P){const k=P,{installationEntry:W,registrationPromise:ge}=yield ir(k);return ge?ge.catch(console.error):hn(k).catch(console.error),W.fid})).apply(this,arguments)}function fe(){return fe=(0,X.Z)(function*(P,k=!1){const W=P;return yield function ve(P){return te.apply(this,arguments)}(W),(yield hn(W,k)).token}),fe.apply(this,arguments)}function te(){return(te=(0,X.Z)(function*(P){const{registrationPromise:k}=yield ir(P);k&&(yield k)})).apply(this,arguments)}function ns(P){return Ce.create("missing-app-config-values",{valueName:P})}const Ri="installations",Fi=P=>{const k=P.getProvider("app").getImmediate(),W=function Ii(P){if(!P||!P.options)throw ns("App Configuration");if(!P.name)throw ns("App Name");const k=["projectId","apiKey","appId"];for(const W of k)if(!P.options[W])throw ns(W);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(k);return{app:k,appConfig:W,heartbeatServiceProvider:(0,se.qX)(k,"heartbeat"),_delete:()=>Promise.resolve()}},ho=P=>{const k=P.getProvider("app").getImmediate(),W=(0,se.qX)(k,Ri).getImmediate();return{getId:()=>function Ge(P){return Le.apply(this,arguments)}(W),getToken:Be=>function Nt(P){return fe.apply(this,arguments)}(W,Be)}};(function ri(){(0,se.Xd)(new ce.wA(Ri,Fi,"PUBLIC")),(0,se.Xd)(new ce.wA("installations-internal",ho,"PRIVATE"))})(),(0,se.KN)(q,j),(0,se.KN)(q,j,"esm2017");const Hn="@firebase/remote-config",Vr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ui{constructor(k,W,ge,Be){this.client=k,this.storage=W,this.storageCache=ge,this.logger=Be}isCachedDataFresh(k,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-W,Be=ge<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Be}.`),Be}fetch(k){var W=this;return(0,X.Z)(function*(){const[ge,Be]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Be&&W.isCachedDataFresh(k.cacheMaxAgeMillis,ge))return Be;k.eTag=Be&&Be.eTag;const Xe=yield W.client.fetch(k),St=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Xe.status&&St.push(W.storage.setLastSuccessfulFetchResponse(Xe)),yield Promise.all(St),Xe})()}}function rs(P=navigator){return P.languages&&P.languages[0]||P.language}class Ar{constructor(k,W,ge,Be,Xe,St){this.firebaseInstallations=k,this.sdkVersion=W,this.namespace=ge,this.projectId=Be,this.apiKey=Xe,this.appId=St}fetch(k){var W=this;return(0,X.Z)(function*(){const[ge,Be]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),St=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,fn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},En={sdk_version:W.sdkVersion,app_instance_id:ge,app_instance_id_token:Be,app_id:W.appId,language_code:rs()},yn={method:"POST",headers:fn,body:JSON.stringify(En)},zn=fetch(St,yn),kn=new Promise((Es,li)=>{k.signal.addEventListener(()=>{const Er=new Error("The operation was aborted.");Er.name="AbortError",li(Er)})});let Vo;try{yield Promise.race([zn,kn]),Vo=yield zn}catch(Es){let li="fetch-client-network";throw"AbortError"===Es?.name&&(li="fetch-timeout"),Vr.create(li,{originalErrorMessage:Es?.message})}let ji=Vo.status;const Qo=Vo.headers.get("ETag")||void 0;let bc,Qr;if(200===Vo.status){let Es;try{Es=yield Vo.json()}catch(li){throw Vr.create("fetch-client-parse",{originalErrorMessage:li?.message})}bc=Es.entries,Qr=Es.state}if("INSTANCE_STATE_UNSPECIFIED"===Qr?ji=500:"NO_CHANGE"===Qr?ji=304:("NO_TEMPLATE"===Qr||"EMPTY_CONFIG"===Qr)&&(bc={}),304!==ji&&200!==ji)throw Vr.create("fetch-status",{httpStatus:ji});return{status:ji,eTag:Qo,config:bc}})()}}class On{constructor(k,W){this.client=k,this.storage=W}fetch(k){var W=this;return(0,X.Z)(function*(){const ge=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(k,ge)})()}attemptFetch(k,{throttleEndTimeMillis:W,backoffCount:ge}){var Be=this;return(0,X.Z)(function*(){yield function Gi(P,k){return new Promise((W,ge)=>{const Be=Math.max(k-Date.now(),0),Xe=setTimeout(W,Be);P.addEventListener(()=>{clearTimeout(Xe),ge(Vr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,W);try{const Xe=yield Be.client.fetch(k);return yield Be.storage.deleteThrottleMetadata(),Xe}catch(Xe){if(!function Ea(P){if(!(P instanceof ae.ZR&&P.customData))return!1;const k=Number(P.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Xe))throw Xe;const St={throttleEndTimeMillis:Date.now()+(0,ae.$s)(ge),backoffCount:ge+1};return yield Be.storage.setThrottleMetadata(St),Be.attemptFetch(k,St)}})()}}class po{constructor(k,W,ge,Be,Xe){this.app=k,this._client=W,this._storageCache=ge,this._storage=Be,this._logger=Xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function br(P,k){const W=P.target.error||void 0;return Vr.create(k,{originalErrorMessage:W&&W?.message})}const ii="app_namespace_store";class fi{constructor(k,W,ge,Be=function Qa(){return new Promise((P,k)=>{try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=ge=>{k(br(ge,"storage-open"))},W.onsuccess=ge=>{P(ge.target.result)},W.onupgradeneeded=ge=>{0===ge.oldVersion&&ge.target.result.createObjectStore(ii,{keyPath:"compositeKey"})}}catch(W){k(Vr.create("storage-open",{originalErrorMessage:W?.message}))}})}()){this.appId=k,this.appName=W,this.namespace=ge,this.openDbPromise=Be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var W=this;return(0,X.Z)(function*(){const ge=yield W.openDbPromise;return new Promise((Be,Xe)=>{const fn=ge.transaction([ii],"readonly").objectStore(ii),En=W.createCompositeKey(k);try{const yn=fn.get(En);yn.onerror=zn=>{Xe(br(zn,"storage-get"))},yn.onsuccess=zn=>{const kn=zn.target.result;Be(kn?kn.value:void 0)}}catch(yn){Xe(Vr.create("storage-get",{originalErrorMessage:yn?.message}))}})})()}set(k,W){var ge=this;return(0,X.Z)(function*(){const Be=yield ge.openDbPromise;return new Promise((Xe,St)=>{const En=Be.transaction([ii],"readwrite").objectStore(ii),yn=ge.createCompositeKey(k);try{const zn=En.put({compositeKey:yn,value:W});zn.onerror=kn=>{St(br(kn,"storage-set"))},zn.onsuccess=()=>{Xe()}}catch(zn){St(Vr.create("storage-set",{originalErrorMessage:zn?.message}))}})})()}delete(k){var W=this;return(0,X.Z)(function*(){const ge=yield W.openDbPromise;return new Promise((Be,Xe)=>{const fn=ge.transaction([ii],"readwrite").objectStore(ii),En=W.createCompositeKey(k);try{const yn=fn.delete(En);yn.onerror=zn=>{Xe(br(zn,"storage-delete"))},yn.onsuccess=()=>{Be()}}catch(yn){Xe(Vr.create("storage-delete",{originalErrorMessage:yn?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class oi{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,X.Z)(function*(){const W=k.storage.getLastFetchStatus(),ge=k.storage.getLastSuccessfulFetchTimestampMillis(),Be=k.storage.getActiveConfig(),Xe=yield W;Xe&&(k.lastFetchStatus=Xe);const St=yield ge;St&&(k.lastSuccessfulFetchTimestampMillis=St);const fn=yield Be;fn&&(k.activeConfig=fn)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function Pi(){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,X.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function zo(){(0,se.Xd)(new ce.wA("remote-config",function P(k,{instanceIdentifier:W}){const ge=k.getProvider("app").getImmediate(),Be=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vr.create("registration-window");if(!(0,ae.hl)())throw Vr.create("indexed-db-unavailable");const{projectId:Xe,apiKey:St,appId:fn}=ge.options;if(!Xe)throw Vr.create("registration-project-id");if(!St)throw Vr.create("registration-api-key");if(!fn)throw Vr.create("registration-app-id");const En=new fi(fn,ge.name,W=W||"firebase"),yn=new oi(En),zn=new ee.Yd(Hn);zn.logLevel=ee.in.ERROR;const kn=new Ar(Be,se.Jn,W,Xe,St,fn),Vo=new On(kn,En),ji=new Ui(Vo,En,yn,zn),Qo=new po(ge,ji,yn,En,zn);return function ze(P){const k=(0,ae.m9)(P);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(Qo),Qo},"PUBLIC").setMultipleInstances(!0)),(0,se.KN)(Hn,"0.4.4"),(0,se.KN)(Hn,"0.4.4","esm2017")}();const Fs="/firebase-messaging-sw.js",Jn="/firebase-cloud-messaging-push-scope",Wi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Do="https://fcmregistrations.googleapis.com/v1",bs="google.c.a.c_id",Xa="google.c.a.c_l",bo="google.c.a.ts",go="google.c.a.e";var is=(()=>{return(P=is||(is={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",is;var P})();function mo(P){const k=new Uint8Array(P);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Us(P){const W=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob(W),Be=new Uint8Array(ge.length);for(let Xe=0;Xe<ge.length;++Xe)Be[Xe]=ge.charCodeAt(Xe);return Be}const ss="fcm_token_details_db",Vi=5,os="fcm_token_object_Store";function Oi(){return Oi=(0,X.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Xe=>Xe.name).includes(ss))return null;let k=null;return(yield(0,L.X3)(ss,Vi,{upgrade:(ge=(0,X.Z)(function*(Be,Xe,St,fn){var En;if(Xe<2||!Be.objectStoreNames.contains(os))return;const yn=fn.objectStore(os),zn=yield yn.index("fcmSenderId").get(P);if(yield yn.clear(),zn)if(2===Xe){const kn=zn;if(!kn.auth||!kn.p256dh||!kn.endpoint)return;k={token:kn.fcmToken,createTime:null!==(En=kn.createTime)&&void 0!==En?En:Date.now(),subscriptionOptions:{auth:kn.auth,p256dh:kn.p256dh,endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:"string"==typeof kn.vapidKey?kn.vapidKey:mo(kn.vapidKey)}}}else if(3===Xe){const kn=zn;k={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:mo(kn.auth),p256dh:mo(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:mo(kn.vapidKey)}}}else if(4===Xe){const kn=zn;k={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:mo(kn.auth),p256dh:mo(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:mo(kn.vapidKey)}}}}),function(Xe,St,fn,En){return ge.apply(this,arguments)})})).close(),yield(0,L.Lj)(ss),yield(0,L.Lj)("fcm_vapid_details_db"),yield(0,L.Lj)("undefined"),function Zs(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:k}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}(k)?k:null;var ge}),Oi.apply(this,arguments)}const Ra="firebase-messaging-database",xa=1,bi="firebase-messaging-store";let Bs=null;function ms(){return Bs||(Bs=(0,L.X3)(Ra,xa,{upgrade:(P,k)=>{0===k&&P.createObjectStore(bi)}})),Bs}function Ts(P){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,X.Z)(function*(P){const k=Cs(P),ge=yield(yield ms()).transaction(bi).objectStore(bi).get(k);if(ge)return ge;{const Be=yield function To(P){return Oi.apply(this,arguments)}(P.appConfig.senderId);if(Be)return yield as(P,Be),Be}}),Ss.apply(this,arguments)}function as(P,k){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,X.Z)(function*(P,k){const W=Cs(P),Be=(yield ms()).transaction(bi,"readwrite");return yield Be.objectStore(bi).put(k,W),yield Be.done,k})).apply(this,arguments)}function wa(){return(wa=(0,X.Z)(function*(P){const k=Cs(P),ge=(yield ms()).transaction(bi,"readwrite");yield ge.objectStore(bi).delete(k),yield ge.done})).apply(this,arguments)}function Cs({appConfig:P}){return P.appId}const Qn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function js(P,k){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,X.Z)(function*(P,k){const W=yield Sr(P),ge=gi(k),Be={method:"POST",headers:W,body:JSON.stringify(ge)};let Xe;try{Xe=yield(yield fetch(Ys(P.appConfig),Be)).json()}catch(St){throw Qn.create("token-subscribe-failed",{errorInfo:St?.toString()})}if(Xe.error)throw Qn.create("token-subscribe-failed",{errorInfo:Xe.error.message});if(!Xe.token)throw Qn.create("token-subscribe-no-token");return Xe.token})).apply(this,arguments)}function zs(){return(zs=(0,X.Z)(function*(P,k){const W=yield Sr(P),ge=gi(k.subscriptionOptions),Be={method:"PATCH",headers:W,body:JSON.stringify(ge)};let Xe;try{Xe=yield(yield fetch(`${Ys(P.appConfig)}/${k.token}`,Be)).json()}catch(St){throw Qn.create("token-update-failed",{errorInfo:St?.toString()})}if(Xe.error)throw Qn.create("token-update-failed",{errorInfo:Xe.error.message});if(!Xe.token)throw Qn.create("token-update-no-token");return Xe.token})).apply(this,arguments)}function Mr(P,k){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,X.Z)(function*(P,k){const ge={method:"DELETE",headers:yield Sr(P)};try{const Xe=yield(yield fetch(`${Ys(P.appConfig)}/${k}`,ge)).json();if(Xe.error)throw Qn.create("token-unsubscribe-failed",{errorInfo:Xe.error.message})}catch(Be){throw Qn.create("token-unsubscribe-failed",{errorInfo:Be?.toString()})}})).apply(this,arguments)}function Ys({projectId:P}){return`${Do}/projects/${P}/registrations`}function Sr(P){return us.apply(this,arguments)}function us(){return(us=(0,X.Z)(function*({appConfig:P,installations:k}){const W=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function gi({p256dh:P,auth:k,endpoint:W,vapidKey:ge}){const Be={web:{endpoint:W,auth:k,p256dh:P}};return ge!==Wi&&(Be.web.applicationPubKey=ge),Be}const Qs=6048e5;function So(){return So=(0,X.Z)(function*(P){const k=yield function ia(P,k){return Xs.apply(this,arguments)}(P.swRegistration,P.vapidKey),W={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:k.endpoint,auth:mo(k.getKey("auth")),p256dh:mo(k.getKey("p256dh"))},ge=yield Ts(P.firebaseDependencies);if(ge){if(function Go(P,k){return k.vapidKey===P.vapidKey&&k.endpoint===P.endpoint&&k.auth===P.auth&&k.p256dh===P.p256dh}(ge.subscriptionOptions,W))return Date.now()>=ge.createTime+Qs?function Co(P,k){return bn.apply(this,arguments)}(P,{token:ge.token,createTime:Date.now(),subscriptionOptions:W}):ge.token;try{yield Mr(P.firebaseDependencies,ge.token)}catch(Be){console.warn(Be)}return Ti(P.firebaseDependencies,W)}return Ti(P.firebaseDependencies,W)}),So.apply(this,arguments)}function Ki(){return Ki=(0,X.Z)(function*(P){const k=yield Ts(P.firebaseDependencies);k&&(yield Mr(P.firebaseDependencies,k.token),yield function $s(P){return wa.apply(this,arguments)}(P.firebaseDependencies));const W=yield P.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()}),Ki.apply(this,arguments)}function bn(){return bn=(0,X.Z)(function*(P,k){try{const W=yield function Ur(P,k){return zs.apply(this,arguments)}(P.firebaseDependencies,k),ge=Object.assign(Object.assign({},k),{token:W,createTime:Date.now()});return yield as(P.firebaseDependencies,ge),W}catch(W){throw yield function Ni(P){return Ki.apply(this,arguments)}(P),W}}),bn.apply(this,arguments)}function Ti(P,k){return As.apply(this,arguments)}function As(){return(As=(0,X.Z)(function*(P,k){const ge={token:yield js(P,k),createTime:Date.now(),subscriptionOptions:k};return yield as(P,ge),ge.token})).apply(this,arguments)}function Xs(){return(Xs=(0,X.Z)(function*(P,k){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Us(k)})})).apply(this,arguments)}function Ao(P){const k={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function Ia(P,k){if(!k.notification)return;P.notification={};const W=k.notification.title;W&&(P.notification.title=W);const ge=k.notification.body;ge&&(P.notification.body=ge);const Be=k.notification.image;Be&&(P.notification.image=Be);const Xe=k.notification.icon;Xe&&(P.notification.icon=Xe)}(k,P),function xr(P,k){k.data&&(P.data=k.data)}(k,P),function wt(P,k){var W,ge,Be,Xe,St;if(!(k.fcmOptions||null!==(W=k.notification)&&void 0!==W&&W.click_action))return;P.fcmOptions={};const fn=null!==(Be=null===(ge=k.fcmOptions)||void 0===ge?void 0:ge.link)&&void 0!==Be?Be:null===(Xe=k.notification)||void 0===Xe?void 0:Xe.click_action;fn&&(P.fcmOptions.link=fn);const En=null===(St=k.fcmOptions)||void 0===St?void 0:St.analytics_label;En&&(P.fcmOptions.analyticsLabel=En)}(k,P),k}function Mo(P,k){const W=[];for(let ge=0;ge<P.length;ge++)W.push(P.charAt(ge)),ge<k.length&&W.push(k.charAt(ge));return W.join("")}function ur(P){return Qn.create("missing-app-config-values",{valueName:P})}Mo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Mo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wo{constructor(k,W,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Be=function cs(P){if(!P||!P.options)throw ur("App Configuration Object");if(!P.name)throw ur("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:W}=P;for(const ge of k)if(!W[ge])throw ur(ge);return{appName:P.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Be,installations:W,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function yo(P){return mi.apply(this,arguments)}function mi(){return(mi=(0,X.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(Fs,{scope:Jn}),P.swRegistration.update().catch(()=>{})}catch(k){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function Js(){return(Js=(0,X.Z)(function*(P,k){if(!k&&!P.swRegistration&&(yield yo(P)),k||!P.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");P.swRegistration=k}})).apply(this,arguments)}function Ro(){return(Ro=(0,X.Z)(function*(P,k){k?P.vapidKey=k:P.vapidKey||(P.vapidKey=Wi)})).apply(this,arguments)}function hr(){return hr=(0,X.Z)(function*(P,k){if(!navigator)throw Qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qn.create("permission-blocked");return yield function eo(P,k){return Ro.apply(this,arguments)}(P,k?.vapidKey),yield function sa(P,k){return Js.apply(this,arguments)}(P,k?.serviceWorkerRegistration),function ra(P){return So.apply(this,arguments)}(P)}),hr.apply(this,arguments)}function yi(){return(yi=(0,X.Z)(function*(P,k,W){const ge=function qi(P){switch(P){case is.NOTIFICATION_CLICKED:return"notification_open";case is.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:W[bs],message_name:W[Xa],message_time:W[bo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ys(){return ys=(0,X.Z)(function*(P,k){const W=k.data;if(!W.isFirebaseMessaging)return;P.onMessageHandler&&W.messageType===is.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Ao(W)):P.onMessageHandler.next(Ao(W)));const ge=W.data;(function Mn(P){return"object"==typeof P&&!!P&&bs in P})(ge)&&"1"===ge[go]&&(yield function Si(P,k,W){return yi.apply(this,arguments)}(P,W.messageType,ge))}),ys.apply(this,arguments)}const Wr="@firebase/messaging",Po=P=>{const k=new Wo(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function ls(P,k){return ys.apply(this,arguments)}(k,W)),k},ds=P=>{const k=P.getProvider("messaging").getImmediate();return{getToken:ge=>function xo(P,k){return hr.apply(this,arguments)}(k,ge)}};function Oo(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,X.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ba(){(0,se.Xd)(new ce.wA("messaging",Po,"PUBLIC")),(0,se.Xd)(new ce.wA("messaging-internal",ds,"PRIVATE")),(0,se.KN)(Wr,"0.12.4"),(0,se.KN)(Wr,"0.12.4","esm2017")}();const Rs="analytics",no="firebase_id",Kr="origin",Zi=6e4,dt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jr="https://www.googletagmanager.com/gtag/js",Hr=new ee.Yd("@firebase/analytics");function aa(P){return Promise.all(P.map(k=>k.catch(W=>W)))}function jt(){return(jt=(0,X.Z)(function*(P,k,W,ge,Be,Xe){const St=ge[Be];try{if(St)yield k[St];else{const En=(yield aa(W)).find(yn=>yn.measurementId===Be);En&&(yield k[En.appId])}}catch(fn){Hr.error(fn)}P("config",Be,Xe)})).apply(this,arguments)}function D(){return(D=(0,X.Z)(function*(P,k,W,ge,Be){try{let Xe=[];if(Be&&Be.send_to){let St=Be.send_to;Array.isArray(St)||(St=[St]);const fn=yield aa(W);for(const En of St){const yn=fn.find(kn=>kn.measurementId===En),zn=yn&&k[yn.appId];if(!zn){Xe=[];break}Xe.push(zn)}}0===Xe.length&&(Xe=Object.values(k)),yield Promise.all(Xe),P("event",ge,Be||{})}catch(Xe){Hr.error(Xe)}})).apply(this,arguments)}const g=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),C=30,he=new class Z{constructor(k={},W=1e3){this.throttleMetadata=k,this.intervalMillis=W}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,W){this.throttleMetadata[k]=W}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function pe(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function We(){return(We=(0,X.Z)(function*(P){var k;const{appId:W,apiKey:ge}=P,Be={method:"GET",headers:pe(ge)},Xe=dt.replace("{app-id}",W),St=yield fetch(Xe,Be);if(200!==St.status&&304!==St.status){let fn="";try{const En=yield St.json();null!==(k=En.error)&&void 0!==k&&k.message&&(fn=En.error.message)}catch{}throw g.create("config-fetch-failed",{httpStatus:St.status,responseMessage:fn})}return St.json()})).apply(this,arguments)}function Tt(){return(Tt=(0,X.Z)(function*(P,k=he,W){const{appId:ge,apiKey:Be,measurementId:Xe}=P.options;if(!ge)throw g.create("no-app-id");if(!Be){if(Xe)return{measurementId:Xe,appId:ge};throw g.create("no-api-key")}const St=k.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},fn=new Xt;return setTimeout((0,X.Z)(function*(){fn.abort()}),void 0!==W?W:Zi),Sn({appId:ge,apiKey:Be,measurementId:Xe},St,fn,k)})).apply(this,arguments)}function Sn(P,k,W){return Wt.apply(this,arguments)}function Wt(){return Wt=(0,X.Z)(function*(P,{throttleEndTimeMillis:k,backoffCount:W},ge,Be=he){var Xe;const{appId:St,measurementId:fn}=P;try{yield function gt(P,k){return new Promise((W,ge)=>{const Be=Math.max(k-Date.now(),0),Xe=setTimeout(W,Be);P.addEventListener(()=>{clearTimeout(Xe),ge(g.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(ge,k)}catch(En){if(fn)return Hr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fn} provided in the "measurementId" field in the local Firebase config. [${En?.message}]`),{appId:St,measurementId:fn};throw En}try{const En=yield function Ne(P){return We.apply(this,arguments)}(P);return Be.deleteThrottleMetadata(St),En}catch(En){const yn=En;if(!function dn(P){if(!(P instanceof ae.ZR&&P.customData))return!1;const k=Number(P.customData.httpStatus);return 429===k||500===k||503===k||504===k}(yn)){if(Be.deleteThrottleMetadata(St),fn)return Hr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fn} provided in the "measurementId" field in the local Firebase config. [${yn?.message}]`),{appId:St,measurementId:fn};throw En}const zn=503===Number(null===(Xe=yn?.customData)||void 0===Xe?void 0:Xe.httpStatus)?(0,ae.$s)(W,Be.intervalMillis,C):(0,ae.$s)(W,Be.intervalMillis),kn={throttleEndTimeMillis:Date.now()+zn,backoffCount:W+1};return Be.setThrottleMetadata(St,kn),Hr.debug(`Calling attemptFetch again in ${zn} millis`),Sn(P,kn,ge,Be)}}),Wt.apply(this,arguments)}class Xt{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let Xn,vs;function At(){return(At=(0,X.Z)(function*(P,k,W,ge,Be){if(Be&&Be.global)P("event",W,ge);else{const Xe=yield k;P("event",W,Object.assign(Object.assign({},ge),{send_to:Xe}))}})).apply(this,arguments)}function Gt(){return(Gt=(0,X.Z)(function*(){if(!(0,ae.hl)())return Hr.warn(g.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(P){return Hr.warn(g.create("indexeddb-unavailable",{errorInfo:P?.toString()}).message),!1}return!0})).apply(this,arguments)}function mn(){return mn=(0,X.Z)(function*(P,k,W,ge,Be,Xe,St){var fn;const En=function rt(P){return Tt.apply(this,arguments)}(P);En.then(ji=>{W[ji.measurementId]=ji.appId,P.options.measurementId&&ji.measurementId!==P.options.measurementId&&Hr.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${ji.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ji=>Hr.error(ji)),k.push(En);const yn=function Ta(){return Gt.apply(this,arguments)}().then(ji=>{if(ji)return ge.getId()}),[zn,kn]=yield Promise.all([En,yn]);(function w(P){const k=window.document.getElementsByTagName("script");for(const W of Object.values(k))if(W.src&&W.src.includes(jr)&&W.src.includes(P))return W;return null})(Xe)||function rn(P,k){const W=document.createElement("script");W.src=`${jr}?l=${P}&id=${k}`,W.async=!0,document.head.appendChild(W)}(Xe,zn.measurementId),vs&&(Be("consent","default",vs),function Zr(P){vs=P}(void 0)),Be("js",new Date);const Vo=null!==(fn=St?.config)&&void 0!==fn?fn:{};return Vo[Kr]="firebase",Vo.update=!0,null!=kn&&(Vo[no]=kn),Be("config",zn.measurementId,Vo),Xn&&(Be("set",Xn),function Ko(P){Xn=P}(void 0)),zn.measurementId}),mn.apply(this,arguments)}class Ue{constructor(k){this.app=k}_delete(){return delete sr[this.app.options.appId],Promise.resolve()}}let sr={},zr=[];const Yi={};let ca,ui,Ei="dataLayer",qn="gtag",or=!1;function ko(P,k,W){!function Ai(){const P=[];if((0,ae.ru)()&&P.push("This is a browser extension environment."),(0,ae.zI)()||P.push("Cookies are not available."),P.length>0){const k=P.map((ge,Be)=>`(${Be+1}) ${ge}`).join(" "),W=g.create("invalid-analytics-context",{errorInfo:k});Hr.warn(W.message)}}();const ge=P.options.appId;if(!ge)throw g.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw g.create("no-api-key");Hr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=sr[ge])throw g.create("already-exists",{id:ge});if(!or){!function cn(P){let k=[];Array.isArray(window[P])?k=window[P]:window[P]=k}(Ei);const{wrappedGtag:Xe,gtagCore:St}=function x(P,k,W,ge,Be){let Xe=function(...St){window[ge].push(arguments)};return window[Be]&&"function"==typeof window[Be]&&(Xe=window[Be]),window[Be]=function U(P,k,W,ge){function Xe(){return Xe=(0,X.Z)(function*(St,fn,En){try{"event"===St?yield function Je(P,k,W,ge,Be){return D.apply(this,arguments)}(P,k,W,fn,En):"config"===St?yield function ua(P,k,W,ge,Be,Xe){return jt.apply(this,arguments)}(P,k,W,ge,fn,En):"consent"===St?P("consent","update",En):P("set",fn)}catch(yn){Hr.error(yn)}}),Xe.apply(this,arguments)}return function Be(St,fn,En){return Xe.apply(this,arguments)}}(Xe,P,k,W),{gtagCore:Xe,wrappedGtag:window[Be]}}(sr,zr,Yi,Ei,qn);ui=Xe,ca=St,or=!0}return sr[ge]=function pn(P,k,W,ge,Be,Xe,St){return mn.apply(this,arguments)}(P,zr,Yi,k,ca,Ei,W),new Ue(P)}function Sa(){return La.apply(this,arguments)}function La(){return(La=(0,X.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const Ua="@firebase/analytics";!function Yu(){(0,se.Xd)(new ce.wA(Rs,(k,{options:W})=>ko(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,se.Xd)(new ce.wA("analytics-internal",function P(k){try{const W=k.getProvider(Rs).getImmediate();return{logEvent:(ge,Be,Xe)=>function Gs(P,k,W,ge){P=(0,ae.m9)(P),function xn(P,k,W,ge,Be){return At.apply(this,arguments)}(ui,sr[P.app.options.appId],k,W,ge).catch(Be=>Hr.error(Be))}(W,ge,Be,Xe)}}catch(W){throw g.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,se.KN)(Ua,"0.9.4"),(0,se.KN)(Ua,"0.9.4","esm2017")}();var Qi=O(4408),Zo=O(7565);const eu=new class Lr extends Zo.v{}(class Qu extends Qi.o{constructor(k,W){super(k,W),this.scheduler=k,this.work=W}schedule(k,W=0){return W>0?super.schedule(k,W):(this.delay=W,this.state=k,this.scheduler.flush(this),this)}execute(k,W){return W>0||this.closed?super.execute(k,W):this._execute(k,W)}requestAsyncId(k,W,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(k,W,ge):(k.flush(this),0)}});var Ba=O(4986),so=O(9751),Lo=O(8505),ni=O(9468),oo=O(5363);const _s=new y.GfV("7.5.0"),Fo="__angularfire_symbol__analyticsIsSupportedValue",ci="__angularfire_symbol__analyticsIsSupported",ao="__angularfire_symbol__remoteConfigIsSupportedValue",Uo="__angularfire_symbol__remoteConfigIsSupported",Bo="__angularfire_symbol__messagingIsSupportedValue",E="__angularfire_symbol__messagingIsSupported";function z(P,k,W){if(k){if(1===k.length)return k[0];const Xe=k.filter(St=>St.app===W);if(1===Xe.length)return Xe[0]}return W.container.getProvider(P).getImmediate({optional:!0})}globalThis[ci]||(globalThis[ci]=Sa().then(P=>globalThis[Fo]=P).catch(()=>globalThis[Fo]=!1)),globalThis[E]||(globalThis[E]=Oo().then(P=>globalThis[Bo]=P).catch(()=>globalThis[Bo]=!1)),globalThis[Uo]||(globalThis[Uo]=Pi().then(P=>globalThis[ao]=P).catch(()=>globalThis[ao]=!1));const Q=(P,k)=>{const W=k?[k]:(0,V.C6)(),ge=[];return W.forEach(Be=>{Be.container.getProvider(P).instances.forEach(St=>{ge.includes(St)||ge.push(St)})}),ge};function xe(){}class pt{constructor(k,W=eu){this.zone=k,this.delegate=W}now(){return this.delegate.now()}schedule(k,W,ge){const Be=this.zone;return this.delegate.schedule(function(St){Be.runGuarded(()=>{k.apply(this,[St])})},W,ge)}}class qt{constructor(k){this.zone=k,this.task=null}call(k,W){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xe,{},xe,xe)),W.pipe((0,Lo.b)({next:ge,complete:ge,error:ge})).subscribe(k).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zt=(()=>{class P{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new pt(Zone.current)),this.insideAngular=W.run(()=>new pt(Zone.current,Ba.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(W){return new(W||P)(y.LFG(y.R0b))},P.\u0275prov=y.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function Fn(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function ps(P){return Fn().ngZone.run(()=>P())}function Pn(P){return Fn(),function pr(P){return function(W){return(W=W.lift(new qt(P.ngZone))).pipe((0,ni.R)(P.outsideAngular),(0,oo.Q)(P.insideAngular))}}(Fn())(P)}const xs=(P,k)=>function(){const ge=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),ps(()=>P.apply(void 0,ge))},Ca=(P,k)=>function(){let W;const ge=arguments;for(let Xe=0;Xe<arguments.length;Xe++)"function"==typeof ge[Xe]&&(k&&(W||(W=ps(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xe,{},xe,xe)))),ge[Xe]=xs(ge[Xe],W));const Be=function Yr(P){return Fn().ngZone.runOutsideAngular(()=>P())}(()=>P.apply(this,ge));if(!k){if(Be instanceof so.y){const Xe=Fn();return Be.pipe((0,ni.R)(Xe.outsideAngular),(0,oo.Q)(Xe.insideAngular))}return ps(()=>Be)}return Be instanceof so.y?Be.pipe(Pn):Be instanceof Promise?ps(()=>new Promise((Xe,St)=>Be.then(fn=>ps(()=>Xe(fn)),fn=>ps(()=>St(fn))))):"function"==typeof Be&&W?function(){return setTimeout(()=>{W&&"scheduled"===W.state&&W.invoke()},10),Be.apply(this,arguments)}:ps(()=>Be)}},8809:(xt,Re,O)=>{O.d(Re,{T6:()=>re,VD:()=>_e,WE:()=>ee,Yt:()=>je,lC:()=>X,py:()=>ce,rW:()=>V,s:()=>q,ve:()=>ae,vq:()=>L});var y=O(2567);function V(ye,ot,Se){return{r:255*(0,y.sh)(ye,255),g:255*(0,y.sh)(ot,255),b:255*(0,y.sh)(Se,255)}}function X(ye,ot,Se){ye=(0,y.sh)(ye,255),ot=(0,y.sh)(ot,255),Se=(0,y.sh)(Se,255);var He=Math.max(ye,ot,Se),Ce=Math.min(ye,ot,Se),Ze=0,Pe=0,de=(He+Ce)/2;if(He===Ce)Pe=0,Ze=0;else{var Ae=He-Ce;switch(Pe=de>.5?Ae/(2-He-Ce):Ae/(He+Ce),He){case ye:Ze=(ot-Se)/Ae+(ot<Se?6:0);break;case ot:Ze=(Se-ye)/Ae+2;break;case Se:Ze=(ye-ot)/Ae+4}Ze/=6}return{h:Ze,s:Pe,l:de}}function se(ye,ot,Se){return Se<0&&(Se+=1),Se>1&&(Se-=1),Se<1/6?ye+6*Se*(ot-ye):Se<.5?ot:Se<2/3?ye+(ot-ye)*(2/3-Se)*6:ye}function ae(ye,ot,Se){var He,Ce,Ze;if(ye=(0,y.sh)(ye,360),ot=(0,y.sh)(ot,100),Se=(0,y.sh)(Se,100),0===ot)Ce=Se,Ze=Se,He=Se;else{var Pe=Se<.5?Se*(1+ot):Se+ot-Se*ot,de=2*Se-Pe;He=se(de,Pe,ye+1/3),Ce=se(de,Pe,ye),Ze=se(de,Pe,ye-1/3)}return{r:255*He,g:255*Ce,b:255*Ze}}function ce(ye,ot,Se){ye=(0,y.sh)(ye,255),ot=(0,y.sh)(ot,255),Se=(0,y.sh)(Se,255);var He=Math.max(ye,ot,Se),Ce=Math.min(ye,ot,Se),Ze=0,Pe=He,de=He-Ce,Ae=0===He?0:de/He;if(He===Ce)Ze=0;else{switch(He){case ye:Ze=(ot-Se)/de+(ot<Se?6:0);break;case ot:Ze=(Se-ye)/de+2;break;case Se:Ze=(ye-ot)/de+4}Ze/=6}return{h:Ze,s:Ae,v:Pe}}function ee(ye,ot,Se){ye=6*(0,y.sh)(ye,360),ot=(0,y.sh)(ot,100),Se=(0,y.sh)(Se,100);var He=Math.floor(ye),Ce=ye-He,Ze=Se*(1-ot),Pe=Se*(1-Ce*ot),de=Se*(1-(1-Ce)*ot),Ae=He%6;return{r:255*[Se,Pe,Ze,Ze,de,Se][Ae],g:255*[de,Se,Se,Pe,Ze,Ze][Ae],b:255*[Ze,Ze,de,Se,Se,Pe][Ae]}}function L(ye,ot,Se,He){var Ce=[(0,y.FZ)(Math.round(ye).toString(16)),(0,y.FZ)(Math.round(ot).toString(16)),(0,y.FZ)(Math.round(Se).toString(16))];return He&&Ce[0].startsWith(Ce[0].charAt(1))&&Ce[1].startsWith(Ce[1].charAt(1))&&Ce[2].startsWith(Ce[2].charAt(1))?Ce[0].charAt(0)+Ce[1].charAt(0)+Ce[2].charAt(0):Ce.join("")}function q(ye,ot,Se,He,Ce){var Ze=[(0,y.FZ)(Math.round(ye).toString(16)),(0,y.FZ)(Math.round(ot).toString(16)),(0,y.FZ)(Math.round(Se).toString(16)),(0,y.FZ)(Y(He))];return Ce&&Ze[0].startsWith(Ze[0].charAt(1))&&Ze[1].startsWith(Ze[1].charAt(1))&&Ze[2].startsWith(Ze[2].charAt(1))&&Ze[3].startsWith(Ze[3].charAt(1))?Ze[0].charAt(0)+Ze[1].charAt(0)+Ze[2].charAt(0)+Ze[3].charAt(0):Ze.join("")}function Y(ye){return Math.round(255*parseFloat(ye)).toString(16)}function re(ye){return _e(ye)/255}function _e(ye){return parseInt(ye,16)}function je(ye){return{r:ye>>16,g:(65280&ye)>>8,b:255&ye}}},3487:(xt,Re,O)=>{O.d(Re,{R:()=>y});var y={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},7952:(xt,Re,O)=>{O.d(Re,{uA:()=>se});var y=O(8809),V=O(3487),X=O(2567);function se(_e){var je={r:0,g:0,b:0},ye=1,ot=null,Se=null,He=null,Ce=!1,Ze=!1;return"string"==typeof _e&&(_e=function Y(_e){if(0===(_e=_e.trim().toLowerCase()).length)return!1;var je=!1;if(V.R[_e])_e=V.R[_e],je=!0;else if("transparent"===_e)return{r:0,g:0,b:0,a:0,format:"name"};var ye=j.rgb.exec(_e);return ye?{r:ye[1],g:ye[2],b:ye[3]}:(ye=j.rgba.exec(_e))?{r:ye[1],g:ye[2],b:ye[3],a:ye[4]}:(ye=j.hsl.exec(_e))?{h:ye[1],s:ye[2],l:ye[3]}:(ye=j.hsla.exec(_e))?{h:ye[1],s:ye[2],l:ye[3],a:ye[4]}:(ye=j.hsv.exec(_e))?{h:ye[1],s:ye[2],v:ye[3]}:(ye=j.hsva.exec(_e))?{h:ye[1],s:ye[2],v:ye[3],a:ye[4]}:(ye=j.hex8.exec(_e))?{r:(0,y.VD)(ye[1]),g:(0,y.VD)(ye[2]),b:(0,y.VD)(ye[3]),a:(0,y.T6)(ye[4]),format:je?"name":"hex8"}:(ye=j.hex6.exec(_e))?{r:(0,y.VD)(ye[1]),g:(0,y.VD)(ye[2]),b:(0,y.VD)(ye[3]),format:je?"name":"hex"}:(ye=j.hex4.exec(_e))?{r:(0,y.VD)(ye[1]+ye[1]),g:(0,y.VD)(ye[2]+ye[2]),b:(0,y.VD)(ye[3]+ye[3]),a:(0,y.T6)(ye[4]+ye[4]),format:je?"name":"hex8"}:!!(ye=j.hex3.exec(_e))&&{r:(0,y.VD)(ye[1]+ye[1]),g:(0,y.VD)(ye[2]+ye[2]),b:(0,y.VD)(ye[3]+ye[3]),format:je?"name":"hex"}}(_e)),"object"==typeof _e&&(re(_e.r)&&re(_e.g)&&re(_e.b)?(je=(0,y.rW)(_e.r,_e.g,_e.b),Ce=!0,Ze="%"===String(_e.r).substr(-1)?"prgb":"rgb"):re(_e.h)&&re(_e.s)&&re(_e.v)?(ot=(0,X.JX)(_e.s),Se=(0,X.JX)(_e.v),je=(0,y.WE)(_e.h,ot,Se),Ce=!0,Ze="hsv"):re(_e.h)&&re(_e.s)&&re(_e.l)&&(ot=(0,X.JX)(_e.s),He=(0,X.JX)(_e.l),je=(0,y.ve)(_e.h,ot,He),Ce=!0,Ze="hsl"),Object.prototype.hasOwnProperty.call(_e,"a")&&(ye=_e.a)),ye=(0,X.Yq)(ye),{ok:Ce,format:_e.format||Ze,r:Math.min(255,Math.max(je.r,0)),g:Math.min(255,Math.max(je.g,0)),b:Math.min(255,Math.max(je.b,0)),a:ye}}var ee="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),L="[\\s|\\(]+(".concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")\\s*\\)?"),q="[\\s|\\(]+(".concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")\\s*\\)?"),j={CSS_UNIT:new RegExp(ee),rgb:new RegExp("rgb"+L),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+L),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+L),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function re(_e){return Boolean(j.CSS_UNIT.exec(String(_e)))}},5192:(xt,Re,O)=>{O.d(Re,{C:()=>ae});var y=O(8809),V=O(3487),X=O(7952),se=O(2567),ae=function(){function ee(L,q){var j;if(void 0===L&&(L=""),void 0===q&&(q={}),L instanceof ee)return L;"number"==typeof L&&(L=(0,y.Yt)(L)),this.originalInput=L;var Y=(0,X.uA)(L);this.originalInput=L,this.r=Y.r,this.g=Y.g,this.b=Y.b,this.a=Y.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(j=q.format)&&void 0!==j?j:Y.format,this.gradientType=q.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=Y.ok}return ee.prototype.isDark=function(){return this.getBrightness()<128},ee.prototype.isLight=function(){return!this.isDark()},ee.prototype.getBrightness=function(){var L=this.toRgb();return(299*L.r+587*L.g+114*L.b)/1e3},ee.prototype.getLuminance=function(){var L=this.toRgb(),re=L.r/255,_e=L.g/255,je=L.b/255;return.2126*(re<=.03928?re/12.92:Math.pow((re+.055)/1.055,2.4))+.7152*(_e<=.03928?_e/12.92:Math.pow((_e+.055)/1.055,2.4))+.0722*(je<=.03928?je/12.92:Math.pow((je+.055)/1.055,2.4))},ee.prototype.getAlpha=function(){return this.a},ee.prototype.setAlpha=function(L){return this.a=(0,se.Yq)(L),this.roundA=Math.round(100*this.a)/100,this},ee.prototype.isMonochrome=function(){return 0===this.toHsl().s},ee.prototype.toHsv=function(){var L=(0,y.py)(this.r,this.g,this.b);return{h:360*L.h,s:L.s,v:L.v,a:this.a}},ee.prototype.toHsvString=function(){var L=(0,y.py)(this.r,this.g,this.b),q=Math.round(360*L.h),j=Math.round(100*L.s),Y=Math.round(100*L.v);return 1===this.a?"hsv(".concat(q,", ").concat(j,"%, ").concat(Y,"%)"):"hsva(".concat(q,", ").concat(j,"%, ").concat(Y,"%, ").concat(this.roundA,")")},ee.prototype.toHsl=function(){var L=(0,y.lC)(this.r,this.g,this.b);return{h:360*L.h,s:L.s,l:L.l,a:this.a}},ee.prototype.toHslString=function(){var L=(0,y.lC)(this.r,this.g,this.b),q=Math.round(360*L.h),j=Math.round(100*L.s),Y=Math.round(100*L.l);return 1===this.a?"hsl(".concat(q,", ").concat(j,"%, ").concat(Y,"%)"):"hsla(".concat(q,", ").concat(j,"%, ").concat(Y,"%, ").concat(this.roundA,")")},ee.prototype.toHex=function(L){return void 0===L&&(L=!1),(0,y.vq)(this.r,this.g,this.b,L)},ee.prototype.toHexString=function(L){return void 0===L&&(L=!1),"#"+this.toHex(L)},ee.prototype.toHex8=function(L){return void 0===L&&(L=!1),(0,y.s)(this.r,this.g,this.b,this.a,L)},ee.prototype.toHex8String=function(L){return void 0===L&&(L=!1),"#"+this.toHex8(L)},ee.prototype.toHexShortString=function(L){return void 0===L&&(L=!1),1===this.a?this.toHexString(L):this.toHex8String(L)},ee.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},ee.prototype.toRgbString=function(){var L=Math.round(this.r),q=Math.round(this.g),j=Math.round(this.b);return 1===this.a?"rgb(".concat(L,", ").concat(q,", ").concat(j,")"):"rgba(".concat(L,", ").concat(q,", ").concat(j,", ").concat(this.roundA,")")},ee.prototype.toPercentageRgb=function(){var L=function(q){return"".concat(Math.round(100*(0,se.sh)(q,255)),"%")};return{r:L(this.r),g:L(this.g),b:L(this.b),a:this.a}},ee.prototype.toPercentageRgbString=function(){var L=function(q){return Math.round(100*(0,se.sh)(q,255))};return 1===this.a?"rgb(".concat(L(this.r),"%, ").concat(L(this.g),"%, ").concat(L(this.b),"%)"):"rgba(".concat(L(this.r),"%, ").concat(L(this.g),"%, ").concat(L(this.b),"%, ").concat(this.roundA,")")},ee.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var L="#"+(0,y.vq)(this.r,this.g,this.b,!1),q=0,j=Object.entries(V.R);q<j.length;q++){var Y=j[q];if(L===Y[1])return Y[0]}return!1},ee.prototype.toString=function(L){var q=Boolean(L);L=L??this.format;var j=!1;return!q&&this.a<1&&this.a>=0&&(L.startsWith("hex")||"name"===L)?"name"===L&&0===this.a?this.toName():this.toRgbString():("rgb"===L&&(j=this.toRgbString()),"prgb"===L&&(j=this.toPercentageRgbString()),("hex"===L||"hex6"===L)&&(j=this.toHexString()),"hex3"===L&&(j=this.toHexString(!0)),"hex4"===L&&(j=this.toHex8String(!0)),"hex8"===L&&(j=this.toHex8String()),"name"===L&&(j=this.toName()),"hsl"===L&&(j=this.toHslString()),"hsv"===L&&(j=this.toHsvString()),j||this.toHexString())},ee.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},ee.prototype.clone=function(){return new ee(this.toString())},ee.prototype.lighten=function(L){void 0===L&&(L=10);var q=this.toHsl();return q.l+=L/100,q.l=(0,se.V2)(q.l),new ee(q)},ee.prototype.brighten=function(L){void 0===L&&(L=10);var q=this.toRgb();return q.r=Math.max(0,Math.min(255,q.r-Math.round(-L/100*255))),q.g=Math.max(0,Math.min(255,q.g-Math.round(-L/100*255))),q.b=Math.max(0,Math.min(255,q.b-Math.round(-L/100*255))),new ee(q)},ee.prototype.darken=function(L){void 0===L&&(L=10);var q=this.toHsl();return q.l-=L/100,q.l=(0,se.V2)(q.l),new ee(q)},ee.prototype.tint=function(L){return void 0===L&&(L=10),this.mix("white",L)},ee.prototype.shade=function(L){return void 0===L&&(L=10),this.mix("black",L)},ee.prototype.desaturate=function(L){void 0===L&&(L=10);var q=this.toHsl();return q.s-=L/100,q.s=(0,se.V2)(q.s),new ee(q)},ee.prototype.saturate=function(L){void 0===L&&(L=10);var q=this.toHsl();return q.s+=L/100,q.s=(0,se.V2)(q.s),new ee(q)},ee.prototype.greyscale=function(){return this.desaturate(100)},ee.prototype.spin=function(L){var q=this.toHsl(),j=(q.h+L)%360;return q.h=j<0?360+j:j,new ee(q)},ee.prototype.mix=function(L,q){void 0===q&&(q=50);var j=this.toRgb(),Y=new ee(L).toRgb(),re=q/100;return new ee({r:(Y.r-j.r)*re+j.r,g:(Y.g-j.g)*re+j.g,b:(Y.b-j.b)*re+j.b,a:(Y.a-j.a)*re+j.a})},ee.prototype.analogous=function(L,q){void 0===L&&(L=6),void 0===q&&(q=30);var j=this.toHsl(),Y=360/q,re=[this];for(j.h=(j.h-(Y*L>>1)+720)%360;--L;)j.h=(j.h+Y)%360,re.push(new ee(j));return re},ee.prototype.complement=function(){var L=this.toHsl();return L.h=(L.h+180)%360,new ee(L)},ee.prototype.monochromatic=function(L){void 0===L&&(L=6);for(var q=this.toHsv(),j=q.h,Y=q.s,re=q.v,_e=[],je=1/L;L--;)_e.push(new ee({h:j,s:Y,v:re})),re=(re+je)%1;return _e},ee.prototype.splitcomplement=function(){var L=this.toHsl(),q=L.h;return[this,new ee({h:(q+72)%360,s:L.s,l:L.l}),new ee({h:(q+216)%360,s:L.s,l:L.l})]},ee.prototype.onBackground=function(L){var q=this.toRgb(),j=new ee(L).toRgb(),Y=q.a+j.a*(1-q.a);return new ee({r:(q.r*q.a+j.r*j.a*(1-q.a))/Y,g:(q.g*q.a+j.g*j.a*(1-q.a))/Y,b:(q.b*q.a+j.b*j.a*(1-q.a))/Y,a:Y})},ee.prototype.triad=function(){return this.polyad(3)},ee.prototype.tetrad=function(){return this.polyad(4)},ee.prototype.polyad=function(L){for(var q=this.toHsl(),j=q.h,Y=[this],re=360/L,_e=1;_e<L;_e++)Y.push(new ee({h:(j+_e*re)%360,s:q.s,l:q.l}));return Y},ee.prototype.equals=function(L){return this.toRgbString()===new ee(L).toRgbString()},ee}()},2567:(xt,Re,O)=>{function y(L,q){(function X(L){return"string"==typeof L&&-1!==L.indexOf(".")&&1===parseFloat(L)})(L)&&(L="100%");var j=function se(L){return"string"==typeof L&&-1!==L.indexOf("%")}(L);return L=360===q?L:Math.min(q,Math.max(0,parseFloat(L))),j&&(L=parseInt(String(L*q),10)/100),Math.abs(L-q)<1e-6?1:L=360===q?(L<0?L%q+q:L%q)/parseFloat(String(q)):L%q/parseFloat(String(q))}function V(L){return Math.min(1,Math.max(0,L))}function ae(L){return L=parseFloat(L),(isNaN(L)||L<0||L>1)&&(L=1),L}function ce(L){return L<=1?"".concat(100*Number(L),"%"):L}function ee(L){return 1===L.length?"0"+L:String(L)}O.d(Re,{FZ:()=>ee,JX:()=>ce,V2:()=>V,Yq:()=>ae,sh:()=>y})},5525:(xt,Re,O)=>{O.d(Re,{ET:()=>Ky,hJ:()=>im,JU:()=>Dp,QT:()=>zy,PL:()=>a_,ad:()=>Tp,cf:()=>qy,Xo:()=>Fy,IO:()=>vm,pl:()=>u_,ar:()=>_m});var L,y=O(5861),V=O(9681),X=O(4859),se=O(1877),ae=O(2090),ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee={},q=q||{},j=ce||self;function Y(){}function re(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function _e(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ye="closure_uid_"+(1e9*Math.random()>>>0),ot=0;function Se(i,e,t){return i.call.apply(i.bind,arguments)}function He(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ce(i,e,t){return(Ce=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Se:He).apply(null,arguments)}function Ze(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Pe(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,l){for(var m=Array(arguments.length-2),T=2;T<arguments.length;T++)m[T-2]=arguments[T];return e.prototype[u].apply(o,m)}}function de(){this.s=this.s,this.o=this.o}de.prototype.s=!1,de.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function je(i){Object.prototype.hasOwnProperty.call(i,ye)&&i[ye]||(i[ye]=++ot)}(this)},de.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const it=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function we(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Me(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(re(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let m=0;m<l;m++)i[u+m]=o[m]}else i.push(o)}}function Ke(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var Ft=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{j.addEventListener("test",Y,e),j.removeEventListener("test",Y,e)}catch{}return i}();function Pt(i){return/^[\s\xa0]*$/.test(i)}var on=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function kt(i,e){return i<e?-1:i>e?1:0}function Ve(){var i=j.navigator;return i&&(i=i.userAgent)?i:""}function Ye(i){return-1!=Ve().indexOf(i)}function ut(i){return ut[" "](i),i}ut[" "]=Y;var Dt,i,bt=Ye("Opera"),_t=Ye("Trident")||Ye("MSIE"),Bt=Ye("Edge"),Lt=Bt||_t,Rn=Ye("Gecko")&&!(-1!=Ve().toLowerCase().indexOf("webkit")&&!Ye("Edge"))&&!(Ye("Trident")||Ye("MSIE"))&&!Ye("Edge"),ln=-1!=Ve().toLowerCase().indexOf("webkit")&&!Ye("Edge");function un(){var i=j.document;return i?i.documentMode:void 0}e:{var $t="",Vn=(i=Ve(),Rn?/rv:([^\);]+)(\)|;)/.exec(i):Bt?/Edge\/([\d\.]+)/.exec(i):_t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ln?/WebKit\/(\S+)/.exec(i):bt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Vn&&($t=Vn?Vn[1]:""),_t){var Ln=un();if(null!=Ln&&Ln>parseFloat($t)){Dt=String(Ln);break e}}Dt=$t}var Kt={};var mr=j.document&&_t&&(un()||parseInt(Dt,10))||void 0;function wr(i,e){if(Ke.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Rn){e:{try{ut(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Or[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&wr.X.h.call(this)}}Pe(wr,Ke);var Or={2:"touch",3:"pen",4:"mouse"};wr.prototype.h=function(){wr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Bn="closure_listenable_"+(1e6*Math.random()|0),Cn=0;function Qt(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++Cn,this.ba=this.ea=!1}function yr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function vr(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function cr(i){const e={};for(const t in i)e[t]=i[t];return e}const ir="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gr(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let l=0;l<ir.length;l++)t=ir[l],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function an(i){this.src=i,this.g={},this.h=0}function Yt(i,e){var t=e.type;if(t in i.g){var l,o=i.g[t],u=it(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(yr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ut(i,e,t,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==o)return u}return-1}an.prototype.add=function(i,e,t,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var m=Ut(i,e,o,u);return-1<m?(e=i[m],t||(e.ea=!1)):((e=new Qt(e,this.src,l,!!o,u)).ea=t,i.push(e)),e};var $n="closure_lm_"+(1e6*Math.random()|0),jn={};function Wn(i,e,t,o,u){if(o&&o.once)return ke(i,e,t,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Wn(i,e[l],t,o,u);return null}return t=nt(t),i&&i[Bn]?i.N(e,t,_e(o)?!!o.capture:!!o,u):nn(i,e,t,!1,o,u)}function nn(i,e,t,o,u,l){if(!e)throw Error("Invalid event type");var m=_e(u)?!!u.capture:!!u,T=Dn(i);if(T||(i[$n]=T=new an(i)),(t=T.add(e,t,o,m,l)).proxy)return t;if(o=function Yn(){const e=hn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Ft||(u=m),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(ht(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function ke(i,e,t,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)ke(i,e[l],t,o,u);return null}return t=nt(t),i&&i[Bn]?i.O(e,t,_e(o)?!!o.capture:!!o,u):nn(i,e,t,!0,o,u)}function tt(i,e,t,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)tt(i,e[l],t,o,u);else o=_e(o)?!!o.capture:!!o,t=nt(t),i&&i[Bn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ut(l=i.g[e],t,o,u))&&(yr(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Dn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ut(e,t,o,u)),(t=-1<i?e[i]:null)&&Et(t))}function Et(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Bn])Yt(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(ht(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Dn(e))?(Yt(t,i),0==t.h&&(t.src=null,e[$n]=null)):yr(i)}}}function ht(i){return i in jn?jn[i]:jn[i]="on"+i}function hn(i,e){if(i.ba)i=!0;else{e=new wr(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Et(i),i=t.call(o,e)}return i}function Dn(i){return(i=i[$n])instanceof an?i:null}var ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function nt(i){return"function"==typeof i?i:(i[ct]||(i[ct]=function(e){return i.handleEvent(e)}),i[ct])}function De(){de.call(this),this.i=new an(this),this.P=this,this.I=null}function ie(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ke(e,i);else if(e instanceof Ke)e.target=e.target||i;else{var u=e;Gr(e=new Ke(o,i),u)}if(u=!0,t)for(var l=t.length-1;0<=l;l--){var m=e.g=t[l];u=me(m,o,!0,e)&&u}if(u=me(m=e.g=i,o,!0,e)&&u,u=me(m,o,!1,e)&&u,t)for(l=0;l<t.length;l++)u=me(m=e.g=t[l],o,!1,e)&&u}function me(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var m=e[l];if(m&&!m.ba&&m.capture==t){var T=m.listener,N=m.ha||m.src;m.ea&&Yt(i.i,m),u=!1!==T.call(N,o)&&u}}return u&&!o.defaultPrevented}Pe(De,de),De.prototype[Bn]=!0,De.prototype.removeEventListener=function(i,e,t,o){tt(this,i,e,t,o)},De.prototype.M=function(){if(De.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)yr(t[o]);delete i.g[e],i.h--}}this.I=null},De.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},De.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var at=j.JSON.stringify;function lt(){var i=te;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Nt,oe=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ee,i=>i.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ge(i){j.setTimeout(()=>{throw i},0)}function Le(i,e){Nt||function fe(){var i=j.Promise.resolve(void 0);Nt=function(){i.then(be)}}(),ve||(Nt(),ve=!0),te.add(i,e)}var ve=!1,te=new class ue{constructor(){this.h=this.g=null}add(e,t){const o=oe.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function be(){for(var i;i=lt();){try{i.h.call(i.g)}catch(t){Ge(t)}var e=oe;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ve=!1}function st(i,e){De.call(this),this.h=i||1,this.g=e||j,this.j=Ce(this.lb,this),this.l=Date.now()}function yt(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Rt(i,e,t){if("function"==typeof i)t&&(i=Ce(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ce(i.handleEvent,i)}return 2147483647<Number(e)?-1:j.setTimeout(i,e||0)}function In(i){i.g=Rt(()=>{i.g=null,i.i&&(i.i=!1,In(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Pe(st,De),(L=st.prototype).ca=!1,L.R=null,L.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ie(this,"tick"),this.ca&&(yt(this),this.start()))}},L.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.M=function(){st.X.M.call(this),yt(this),delete this.g};class An extends de{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:In(this)}M(){super.M(),this.g&&(j.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(i){de.call(this),this.h=i,this.g={}}Pe(Ir,de);var Ii=[];function ns(i,e,t,o){Array.isArray(t)||(t&&(Ii[0]=t.toString()),t=Ii);for(var u=0;u<t.length;u++){var l=Wn(e,t[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Ri(i){vr(i.g,function(e,t){this.g.hasOwnProperty(t)&&Et(e)},i),i.g={}}function _r(){this.g=!0}function ri(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var m=1;m<u.length;m++)u[m]=""}}}return at(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Ir.prototype.M=function(){Ir.X.M.call(this),Ri(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_r.prototype.Aa=function(){this.g=!1},_r.prototype.info=function(){};var Dr={},hi=null;function Br(){return hi=hi||new De}function Vr(i){Ke.call(this,Dr.Pa,i)}function zi(i){const e=Br();ie(e,new Vr(e))}function xi(i,e){Ke.call(this,Dr.STAT_EVENT,i),this.stat=e}function lr(i){const e=Br();ie(e,new xi(e,i))}function Ht(i,e){Ke.call(this,Dr.Qa,i),this.size=e}function gn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return j.setTimeout(function(){i()},e)}Dr.Pa="serverreachability",Pe(Vr,Ke),Dr.STAT_EVENT="statevent",Pe(xi,Ke),Dr.Qa="timingevent",Pe(Ht,Ke);var Kn={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ei={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Fe(){}function ze(){}Fe.prototype.h=null;var Vt,et={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ct(){Ke.call(this,"d")}function Jt(){Ke.call(this,"c")}function nr(){}function _n(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new Ir(this),this.O=Di,this.T=new st(i=Lt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}Pe(Ct,Ke),Pe(Jt,Ke),Pe(nr,Fe),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},Vt=new nr;var Di=45e3,dr={},Ui={};function rs(i,e,t){i.K=1,i.v=Wi(Tr(e)),i.s=t,i.P=!0,Ar(i,null)}function Ar(i,e){i.F=Date.now(),Ho(i),i.A=Tr(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),To(t.i,"t",o),i.C=0,t=i.l.H,i.h=new ti,i.g=qi(i.l,t?e:null,!i.s),0<i.N&&(i.L=new An(Ce(i.La,i,i.g),i.N)),ns(i.S,i.g,"readystatechange",i.ib),e=i.H?cr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),zi(),function Fi(i,e,t,o,u,l){i.info(function(){if(i.g)if(l)for(var m="",T=l.split("&"),N=0;N<T.length;N++){var H=T[N].split("=");if(1<H.length){var J=H[0];H=H[1];var Ie=J.split("_");m=2<=Ie.length&&"type"==Ie[1]?m+(J+"=")+H+"&":m+(J+"=redacted&")}}else m=null;else m=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+m})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Gi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Ea(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=On(i,t),u==Ui){4==e&&(i.o=4,lr(14),o=!1),ri(i.j,i.m,null,"[Incomplete Response]");break}if(u==dr){i.o=4,lr(15),ri(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}ri(i.j,i.m,u,null),Bi(i,u)}Gi(i)&&u!=Ui&&u!=dr&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,lr(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),sa(e),e.K=!0,lr(11))):(ri(i.j,i.m,t,"[Invalid Chunked Response]"),ii(i),br(i))}function On(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Ui:(t=Number(e.substring(t,o)),isNaN(t)?dr:(o+=1)+t>e.length?Ui:(e=e.substr(o,t),i.C=o+t,e))}function Ho(i){i.V=Date.now()+i.O,fo(i,i.O)}function fo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=gn(Ce(i.gb,i),e)}function po(i){i.B&&(j.clearTimeout(i.B),i.B=null)}function br(i){0==i.l.G||i.I||Ro(i.l,i)}function ii(i){po(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,yt(i.T),Ri(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Bi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Ts(t.h,i)))if(!i.J&&Ts(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;eo(t),xr(t)}mi(t),lr(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=gn(Ce(t.cb,t),6e3));if(1>=ms(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else hr(t,11)}else if((i.J||t.g==i)&&eo(t),!Pt(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let H=u[e];if(t.T=H[0],H=H[1],2==t.G)if("c"==H[0]){t.I=H[1],t.ka=H[2];const J=H[3];null!=J&&(t.ma=J,t.j.info("VER="+t.ma));const Ie=H[4];null!=Ie&&(t.Ca=Ie,t.j.info("SVER="+t.Ca));const qe=H[5];null!=qe&&"number"==typeof qe&&0<qe&&(t.J=o=1.5*qe,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const ft=i.g;if(ft){const Mt=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mt){var l=o.h;l.g||-1==Mt.indexOf("spdy")&&-1==Mt.indexOf("quic")&&-1==Mt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Ss(l,l.h),l.h=null))}if(o.D){const en=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;en&&(o.za=en,Jn(o.F,o.D,en))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var m=i;if((o=t).sa=yi(o,o.H?o.ka:null,o.V),m.J){as(o.h,m);var T=m,N=o.J;N&&T.setTimeout(N),T.B&&(po(T),Ho(T)),o.g=m}else yo(o);0<t.i.length&&Mn(t)}else"stop"!=H[0]&&"close"!=H[0]||hr(t,7);else 3==t.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?hr(t,7):Ia(t):"noop"!=H[0]&&t.l&&t.l.wa(H),t.A=0)}zi()}catch{}}function fi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(re(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Qa(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(re(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function si(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(re(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],t&&t[l],i)}(L=_n.prototype).setTimeout=function(i){this.O=i},L.ib=function(i){i=i.target;const e=this.L;e&&3==Ti(i)?e.l():this.La(i)},L.La=function(i){try{if(i==this.g)e:{const J=Ti(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>J)&&(3!=J||Lt||this.g&&(this.h.h||this.g.fa()||As(this.g)))){this.I||4!=J||7==e||zi(),po(this);var t=this.g.aa();this.Y=t;t:if(Gi(this)){var o=As(this.g);i="";var u=o.length,l=4==Ti(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),br(this);var m="";break t}this.h.i=new j.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.fa();if(this.i=200==t,function ho(i,e,t,o,u,l,m){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+l+" "+m})}(this.j,this.u,this.A,this.m,this.U,J,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var T,N=this.g;if((T=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pt(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,lr(12),ii(this),br(this);break e}ri(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bi(this,t)}this.P?(Ea(this,J,m),Lt&&this.i&&3==J&&(ns(this.S,this.T,"tick",this.hb),this.T.start())):(ri(this.j,this.m,m,null),Bi(this,m)),4==J&&ii(this),this.i&&!this.I&&(4==J?Ro(this.l,this):(this.i=!1,Ho(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,lr(12)):(this.o=0,lr(13)),ii(this),br(this)}}}catch{}},L.hb=function(){if(this.g){var i=Ti(this.g),e=this.g.fa();this.C<e.length&&(po(this),Ea(this,i,e),this.i&&4!=i&&Ho(this))}},L.cancel=function(){this.I=!0,ii(this)},L.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Hn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zi(),lr(17)),ii(this),this.o=2,br(this)):fo(this,this.V-i)};var oi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pi(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof pi){this.h=void 0!==e?e:i.h,Pi(this,i.j),this.s=i.s,this.g=i.g,Ls(this,i.m),this.l=i.l,e=i.i;var t=new Us;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Fs(this,t),this.o=i.o}else i&&(t=String(i).match(oi))?(this.h=!!e,Pi(this,t[1]||"",!0),this.s=Do(t[2]||""),this.g=Do(t[3]||"",!0),Ls(this,t[4]),this.l=Do(t[5]||"",!0),Fs(this,t[6]||"",!0),this.o=Do(t[7]||"")):(this.h=!!e,this.i=new Us(null,this.h))}function Tr(i){return new pi(i)}function Pi(i,e,t){i.j=t?Do(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ls(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Fs(i,e,t){e instanceof Us?(i.i=e,function Zs(i,e){e&&!i.j&&(ss(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Vi(this,o),To(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=bs(e,is)),i.i=new Us(e,i.h))}function Jn(i,e,t){i.i.set(e,t)}function Wi(i){return Jn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Do(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function bs(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Xa),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Xa(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}pi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(bs(e,bo,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(bs(e,bo,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(bs(t,"/"==t.charAt(0)?na:go,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",bs(t,mo)),i.join("")};var bo=/[#\/\?@]/g,go=/[#\?:]/g,na=/[#\?]/g,is=/[#\?@]/g,mo=/#/g;function Us(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ss(i){i.g||(i.g=new Map,i.h=0,i.i&&function zo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var l=i[t].substring(0,o);u=i[t].substring(o+1)}else l=i[t];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Vi(i,e){ss(i),e=Oi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function os(i,e){return ss(i),e=Oi(i,e),i.g.has(e)}function To(i,e,t){Vi(i,e),0<t.length&&(i.i=null,i.g.set(Oi(i,e),we(t)),i.h+=t.length)}function Oi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function xa(i){this.l=i||bi,i=j.PerformanceNavigationTiming?0<(i=j.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(j.g&&j.g.Ga&&j.g.Ga()&&j.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=Us.prototype).add=function(i,e){ss(this),this.i=null,i=Oi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},L.forEach=function(i,e){ss(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},L.oa=function(){ss(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)t.push(e[o])}return t},L.W=function(i){ss(this);let e=[];if("string"==typeof i)os(this,i)&&(e=e.concat(this.g.get(Oi(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},L.set=function(i,e){return ss(this),this.i=null,os(this,i=Oi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},L.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const l=encodeURIComponent(String(o)),m=this.W(o);for(o=0;o<m.length;o++){var u=l;""!==m[o]&&(u+="="+encodeURIComponent(String(m[o]))),i.push(u)}}return this.i=i.join("&")};var bi=10;function Bs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ms(i){return i.h?1:i.g?i.g.size:0}function Ts(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ss(i,e){i.g?i.g.add(e):i.h=e}function as(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Vs(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return we(i.i)}function $s(){}function wa(){this.g=new $s}function Cs(i,e,t){const o=t||"";try{fi(i,function(u,l){let m=u;_e(u)&&(m=at(u)),e.push(o+l+"="+encodeURIComponent(m))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Qn(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function js(i){this.l=i.ac||null,this.j=i.jb||!1}function Hs(i,e){De.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Ur,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xa.prototype.cancel=function(){if(this.i=Vs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},$s.prototype.stringify=function(i){return j.JSON.stringify(i,void 0)},$s.prototype.parse=function(i){return j.JSON.parse(i,void 0)},Pe(js,Fe),js.prototype.g=function(){return new Hs(this.l,this.j)},js.prototype.i=function(i){return function(){return i}}({}),Pe(Hs,De);var Ur=0;function zs(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Mr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Rr(i)}function Rr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(L=Hs.prototype).open=function(i,e){if(this.readyState!=Ur)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Rr(this)},L.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||j).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mr(this)),this.readyState=Ur},L.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof j.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zs(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},L.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Mr(this):Rr(this),3==this.readyState&&zs(this)}},L.Va=function(i){this.g&&(this.response=this.responseText=i,Mr(this))},L.Ua=function(i){this.g&&(this.response=i,Mr(this))},L.ga=function(){this.g&&Mr(this)},L.setRequestHeader=function(i,e){this.v.append(i,e)},L.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ys=j.JSON.parse;function Sr(i){De.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=us,this.K=this.L=!1}Pe(Sr,De);var us="",gi=/^https?$/i,Qs=["POST","PUT"];function So(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ni(i),Co(i)}function Ni(i){i.D||(i.D=!0,ie(i,"complete"),ie(i,"error"))}function Ki(i){if(i.h&&typeof q<"u"&&(!i.C[1]||4!=Ti(i)||2!=i.aa()))if(i.v&&4==Ti(i))Rt(i.Ha,0,i);else if(ie(i,"readystatechange"),4==Ti(i)){i.h=!1;try{const T=i.aa();e:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===T){var u=String(i.H).match(oi)[1]||null;if(!u&&j.self&&j.self.location){var l=j.self.location.protocol;u=l.substr(0,l.length-1)}o=!gi.test(u?u.toLowerCase():"")}t=o}if(t)ie(i,"complete"),ie(i,"success");else{i.m=6;try{var m=2<Ti(i)?i.g.statusText:""}catch{m=""}i.j=m+" ["+i.aa()+"]",Ni(i)}}finally{Co(i)}}}function Co(i,e){if(i.g){bn(i);const t=i.g,o=i.C[0]?Y:null;i.g=null,i.C=null,e||ie(i,"ready");try{t.onreadystatechange=o}catch{}}}function bn(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(j.clearTimeout(i.A),i.A=null)}function Ti(i){return i.g?i.g.readyState:0}function As(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case us:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ia(i){let e="";return vr(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Xs(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=ia(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Jn(i,e,t))}function Go(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Ao(i){this.Ca=0,this.i=[],this.j=new _r,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Go("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Go("baseRetryDelayMs",5e3,i),this.bb=Go("retryDelaySeedMs",1e4,i),this.$a=Go("forwardChannelMaxRetries",2,i),this.ta=Go("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new xa(i&&i.concurrentRequestLimit),this.Fa=new wa,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ia(i){if(wt(i),3==i.G){var e=i.U++,t=Tr(i.F);Jn(t,"SID",i.I),Jn(t,"RID",e),Jn(t,"TYPE","terminate"),ur(i,t),(e=new _n(i,i.j,e,void 0)).K=2,e.v=Wi(Tr(t)),t=!1,j.navigator&&j.navigator.sendBeacon&&(t=j.navigator.sendBeacon(e.v.toString(),"")),!t&&j.Image&&((new Image).src=e.v,t=!0),t||(e.g=qi(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ho(e)}Si(i)}function xr(i){i.g&&(sa(i),i.g.cancel(),i.g=null)}function wt(i){xr(i),i.u&&(j.clearTimeout(i.u),i.u=null),eo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&j.clearTimeout(i.m),i.m=null)}function Mn(i){Bs(i.h)||i.m||(i.m=!0,Le(i.Ja,i),i.C=0)}function cs(i,e){var t;t=e?e.m:i.U++;const o=Tr(i.F);Jn(o,"SID",i.I),Jn(o,"RID",t),Jn(o,"AID",i.T),ur(i,o),i.o&&i.s&&Xs(o,i.o,i.s),t=new _n(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Wo(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Ss(i.h,t),rs(t,o,e)}function ur(i,e){i.ia&&vr(i.ia,function(t,o){Jn(e,o,t)}),i.l&&fi({},function(t,o){Jn(e,o,t)})}function Wo(i,e,t){t=Math.min(i.i.length,t);var o=i.l?Ce(i.l.Ra,i.l,i):null;e:{var u=i.i;let l=-1;for(;;){const m=["count="+t];-1==l?0<t?(l=u[0].h,m.push("ofs="+l)):l=0:m.push("ofs="+l);let T=!0;for(let N=0;N<t;N++){let H=u[N].h;const J=u[N].g;if(H-=l,0>H)l=Math.max(0,u[N].h-100),T=!1;else try{Cs(J,m,"req"+H+"_")}catch{o&&o(J)}}if(T){o=m.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function yo(i){i.g||i.u||(i.Z=1,Le(i.Ia,i),i.A=0)}function mi(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=gn(Ce(i.Ia,i),xo(i,i.A)),i.A++,0))}function sa(i){null!=i.B&&(j.clearTimeout(i.B),i.B=null)}function Js(i){i.g=new _n(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Tr(i.sa);Jn(e,"RID","rpc"),Jn(e,"SID",i.I),Jn(e,"CI",i.L?"0":"1"),Jn(e,"AID",i.T),Jn(e,"TYPE","xmlhttp"),ur(i,e),i.o&&i.s&&Xs(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Wi(Tr(e)),t.s=null,t.P=!0,Ar(t,i)}function eo(i){null!=i.v&&(j.clearTimeout(i.v),i.v=null)}function Ro(i,e){var t=null;if(i.g==e){eo(i),sa(i),i.g=null;var o=2}else{if(!Ts(i.h,e))return;t=e.D,as(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;ie(o=Br(),new Ht(o,t)),Mn(i)}else yo(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Mo(i,e){return!(ms(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=gn(Ce(i.Ja,i,e),xo(i,i.C)),i.C++,0)))}(i,e)||2==o&&mi(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:hr(i,5);break;case 4:hr(i,10);break;case 3:hr(i,6);break;default:hr(i,2)}}function xo(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function hr(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=Ce(i.kb,i);t||(t=new pi("//www.google.com/images/cleardot.gif"),j.location&&"http"==j.location.protocol||Pi(t,"https"),Wi(t)),function Pa(i,e){const t=new _r;if(j.Image){const o=new Image;o.onload=Ze(Qn,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Ze(Qn,t,o,"TestLoadImage: error",!1,e),o.onabort=Ze(Qn,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ze(Qn,t,o,"TestLoadImage: timeout",!1,e),j.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else lr(2);i.G=0,i.l&&i.l.va(e),Si(i),wt(i)}function Si(i){if(i.G=0,i.la=[],i.l){const e=Vs(i.h);(0!=e.length||0!=i.i.length)&&(Me(i.la,e),Me(i.la,i.i),i.h.i.length=0,we(i.i),i.i.length=0),i.l.ua()}}function yi(i,e,t){var o=t instanceof pi?Tr(t):new pi(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Ls(o,o.m);else{var u=j.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new pi(null,void 0);o&&Pi(l,o),e&&(l.g=e),u&&Ls(l,u),t&&(l.l=t),o=l}return e=i.za,(t=i.D)&&e&&Jn(o,t,e),Jn(o,"VER",i.ma),ur(i,o),o}function qi(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Sr(t&&i.Da&&!i.ra?new js({jb:!0}):i.ra)).Ka(i.H),e}function ls(){}function ys(){if(_t&&!(10<=Number(mr)))throw Error("Environmental error: no available transport.")}function Wr(i,e){De.call(this),this.g=new Ao(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Pt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pt(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ds(this)}function Da(i){Ct.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Po(){Jt.call(this),this.status=1}function ds(i){this.g=i}(L=Sr.prototype).Ka=function(i){this.L=i},L.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vt.g(),this.C=function Te(i){return i.h||(i.h=i.i())}(this.u?this.u:Vt),this.g.onreadystatechange=Ce(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(l){return void So(this,l)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())t.set(l,o.get(l))}o=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),u=j.FormData&&i instanceof j.FormData,!(0<=it(Qs,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,m]of t)this.g.setRequestHeader(l,m);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bn(this),0<this.B&&((this.K=function ra(i){return _t&&function ar(){return function mt(i){var e=Kt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=on(String(Dt)).split("."),t=on("9").split("."),o=Math.max(e.length,t.length);for(let m=0;0==i&&m<o;m++){var u=e[m]||"",l=t[m]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==u[0].length&&0==l[0].length)break;i=kt(0==u[1].length?0:parseInt(u[1],10),0==l[1].length?0:parseInt(l[1],10))||kt(0==u[2].length,0==l[2].length)||kt(u[2],l[2]),u=u[3],l=l[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ce(this.qa,this)):this.A=Rt(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){So(this,l)}},L.qa=function(){typeof q<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ie(this,"timeout"),this.abort(8))},L.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ie(this,"complete"),ie(this,"abort"),Co(this))},L.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Co(this,!0)),Sr.X.M.call(this)},L.Ha=function(){this.s||(this.F||this.v||this.l?Ki(this):this.fb())},L.fb=function(){Ki(this)},L.aa=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},L.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ys(e)}},L.Ea=function(){return this.m},L.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=Ao.prototype).ma=8,L.G=1,L.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new _n(this,this.j,i,void 0);let l=this.s;if(this.S&&(l?(l=cr(l),Gr(l,this.S)):l=this.S),null!==this.o||this.N||(u.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Wo(this,u,e),Jn(t=Tr(this.F),"RID",i),Jn(t,"CVER",22),this.D&&Jn(t,"X-HTTP-Session-Id",this.D),ur(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(ia(l)))+"&"+e:this.o&&Xs(t,this.o,l)),Ss(this.h,u),this.Ya&&Jn(t,"TYPE","init"),this.O?(Jn(t,"$req",e),Jn(t,"SID","null"),u.Z=!0,rs(u,t,null)):rs(u,t,e),this.G=2}}else 3==this.G&&(i?cs(this,i):0==this.i.length||Bs(this.h)||cs(this))},L.Ia=function(){if(this.u=null,Js(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=gn(Ce(this.eb,this),i)}},L.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,lr(10),xr(this),Js(this))},L.cb=function(){null!=this.v&&(this.v=null,xr(this),mi(this),lr(19))},L.kb=function(i){i?(this.j.info("Successfully pinged google.com"),lr(2)):(this.j.info("Failed to ping google.com"),lr(1))},(L=ls.prototype).xa=function(){},L.wa=function(){},L.va=function(){},L.ua=function(){},L.Ra=function(){},ys.prototype.g=function(i,e){return new Wr(i,e)},Pe(Wr,De),Wr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;lr(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=yi(i,null,i.V),Mn(i)},Wr.prototype.close=function(){Ia(this.g)},Wr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=at(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Mn(e)},Wr.prototype.M=function(){this.g.l=null,delete this.j,Ia(this.g),delete this.g,Wr.X.M.call(this)},Pe(Da,Ct),Pe(Po,Jt),Pe(ds,ls),ds.prototype.xa=function(){ie(this.g,"a")},ds.prototype.wa=function(i){ie(this.g,new Da(i))},ds.prototype.va=function(i){ie(this.g,new Po)},ds.prototype.ua=function(){ie(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,Wr.prototype.send=Wr.prototype.u,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,Kn.NO_ERROR=0,Kn.TIMEOUT=8,Kn.HTTP_ERROR=6,ei.COMPLETE="complete",ze.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",De.prototype.listen=De.prototype.N,Sr.prototype.listenOnce=Sr.prototype.O,Sr.prototype.getLastError=Sr.prototype.Oa,Sr.prototype.getLastErrorCode=Sr.prototype.Ea,Sr.prototype.getStatus=Sr.prototype.aa,Sr.prototype.getResponseJson=Sr.prototype.Sa,Sr.prototype.getResponseText=Sr.prototype.fa,Sr.prototype.send=Sr.prototype.da,Sr.prototype.setWithCredentials=Sr.prototype.Ka;var ba=ee.createWebChannelTransport=function(){return new ys},Oo=ee.getStatEventTarget=function(){return Br()},Ms=ee.ErrorCode=Kn,Oa=ee.EventType=ei,vo=ee.Event=Dr,No=ee.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Na=ee.FetchXmlHttpFactory=js,to=ee.WebChannel=ze,oa=ee.XhrIo=Sr;const ka="@firebase/firestore";class $r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");let Rs="9.18.0";const no=new se.Yd("@firebase/firestore");function Kr(){return no.logLevel}function dt(i,...e){if(no.logLevel<=se.in.DEBUG){const t=e.map(aa);no.debug(`Firestore (${Rs}): ${i}`,...t)}}function jr(i,...e){if(no.logLevel<=se.in.ERROR){const t=e.map(aa);no.error(`Firestore (${Rs}): ${i}`,...t)}}function Hr(i,...e){if(no.logLevel<=se.in.WARN){const t=e.map(aa);no.warn(`Firestore (${Rs}): ${i}`,...t)}}function aa(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function rn(i="Unexpected state"){const e=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: `+i;throw jr(e),new Error(e)}function cn(i,e){i||rn()}function jt(i,e){return i}const Je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class U{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class x{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($r.UNAUTHENTICATED))}shutdown(){}}class f{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class g{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const l=H=>this.i!==u?(u=this.i,t(H)):Promise.resolve();let m=new U;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new U,e.enqueueRetryable(()=>l(this.currentUser))};const T=()=>{const H=m;e.enqueueRetryable((0,y.Z)(function*(){yield H.promise,yield l(o.currentUser)}))},N=H=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>N(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?N(H):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new U)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(cn("string"==typeof o.accessToken),new x(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return cn(null===e||"string"==typeof e),new $r(e)}}class C{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=$r.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(cn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class B{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new C(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class he{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=l=>{null!=l.error&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const m=l.token!==this.A;return this.A=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?u(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(cn("string"==typeof t.token),this.A=t.token,new Z(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ne(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class We{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Ne(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<t&&(o+=e.charAt(u[l]%e.length))}return o}}function rt(i,e){return i<e?-1:i>e?1:0}function Tt(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}class Wt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new D(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Wt(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Wt(0,0))}static max(){return new gt(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dn{constructor(e,t,o){void 0===t?t=0:t>e.length&&rn(),void 0===o?o=e.length-t:o>e.length-t&&rn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===dn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dn?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const l=e.get(u),m=t.get(u);if(l<m)return-1;if(l>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xt extends dn{construct(e,t,o){return new Xt(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new D(Je.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new Xt(t)}static emptyPath(){return new Xt([])}}const Xn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends dn{construct(e,t,o){return new xn(e,t,o)}static isValidIdentifier(e){return Xn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xn(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const l=()=>{if(0===o.length)throw new D(Je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let m=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new D(Je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new D(Je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=N,u+=2}else"`"===T?(m=!m,u++):"."!==T||m?(o+=T,u++):(l(),u++)}if(l(),m)throw new D(Je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(t)}static emptyPath(){return new xn([])}}class At{constructor(e){this.path=e}static fromPath(e){return new At(Xt.fromString(e))}static fromName(e){return new At(Xt.fromString(e).popFirst(5))}static empty(){return new At(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new Xt(e.slice()))}}function vs(i){return new Zr(i.readTime,i.key,-1)}class Zr{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Zr(gt.min(),At.empty(),-1)}static max(){return new Zr(gt.max(),At.empty(),-1)}}function Ko(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=At.comparator(i.documentKey,e.documentKey),0!==t?t:rt(i.largestBatchId,e.largestBatchId))}const Ta="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function pn(i){return mn.apply(this,arguments)}function mn(){return mn=(0,y.Z)(function*(i){if(i.code!==Je.FAILED_PRECONDITION||i.message!==Ta)throw i;dt("LocalStore","Unexpectedly lost primary lease")}),mn.apply(this,arguments)}class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ue((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(t,l).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ue?t:Ue.resolve(t)}catch(t){return Ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.reject(t)}static resolve(e){return new Ue((t,o)=>{t(e)})}static reject(e){return new Ue((t,o)=>{o(e)})}static waitFor(e){return new Ue((t,o)=>{let u=0,l=0,m=!1;e.forEach(T=>{++u,T.next(()=>{++l,m&&l===u&&t()},N=>o(N))}),m=!0,l===u&&t()})}static or(e){let t=Ue.resolve(!1);for(const o of e)t=t.next(u=>u?Ue.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,l)=>{o.push(t.call(this,u,l))}),this.waitFor(o)}static mapArray(e,t){return new Ue((o,u)=>{const l=e.length,m=new Array(l);let T=0;for(let N=0;N<l;N++){const H=N;t(e[H]).next(J=>{m[H]=J,++T,T===l&&o(m)},J=>u(J))}})}static doWhile(e,t){return new Ue((o,u)=>{const l=()=>{!0===e()?t().next(()=>{l()},u):o()};l()})}}function qn(i){return"IndexedDbTransactionError"===i.name}let Mi=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=u=>this.ut(u),this.ct=u=>o.writeSequenceNumber(u))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Ja{constructor(e,t,o,u,l,m,T,N){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=m,this.autoDetectLongPolling=T,this.useFetchStreams=N}}class io{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new io("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}function la(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function da(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Fa(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Gs(i){return null==i}function Cu(i){return 0===i&&1/i==-1/0}class kr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw u instanceof DOMException?new kr("Invalid base64 string: "+u):u}}(e);return new Qi(t)}static fromUint8Array(e){const t=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new Qi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qi.EMPTY_BYTE_STRING=new Qi("");const Qu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(i){if(cn(!!i),"string"==typeof i){let e=0;const t=Qu.exec(i);if(cn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Lr(i.seconds),nanos:Lr(i.nanos)}}function Lr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function eu(i){return"string"==typeof i?Qi.fromBase64String(i):Qi.fromUint8Array(i)}function tu(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ba(i){const e=i.mapValue.fields.__previous_value__;return tu(e)?Ba(e):e}function so(i){const e=Zo(i.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}const Lo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?tu(i)?4:xe(i)?9007199254740991:10:rn()}function _s(i,e){if(i===e)return!0;const t=oo(i);if(t!==oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return so(i).isEqual(so(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=Zo(o.timestampValue),m=Zo(u.timestampValue);return l.seconds===m.seconds&&l.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,eu(i.bytesValue).isEqual(eu(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Lr(o.geoPointValue.latitude)===Lr(u.geoPointValue.latitude)&&Lr(o.geoPointValue.longitude)===Lr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Lr(o.integerValue)===Lr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=Lr(o.doubleValue),m=Lr(u.doubleValue);return l===m?Cu(l)===Cu(m):isNaN(l)&&isNaN(m)}return!1}(i,e);case 9:return Tt(i.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:return function(o,u){const l=o.mapValue.fields||{},m=u.mapValue.fields||{};if(la(l)!==la(m))return!1;for(const T in l)if(l.hasOwnProperty(T)&&(void 0===m[T]||!_s(l[T],m[T])))return!1;return!0}(i,e);default:return rn()}var u}function Fo(i,e){return void 0!==(i.values||[]).find(t=>_s(t,e))}function ci(i,e){if(i===e)return 0;const t=oo(i),o=oo(e);if(t!==o)return rt(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return rt(i.booleanValue,e.booleanValue);case 2:return function(u,l){const m=Lr(u.integerValue||u.doubleValue),T=Lr(l.integerValue||l.doubleValue);return m<T?-1:m>T?1:m===T?0:isNaN(m)?isNaN(T)?0:-1:1}(i,e);case 3:return ao(i.timestampValue,e.timestampValue);case 4:return ao(so(i),so(e));case 5:return rt(i.stringValue,e.stringValue);case 6:return function(u,l){const m=eu(u),T=eu(l);return m.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const m=u.split("/"),T=l.split("/");for(let N=0;N<m.length&&N<T.length;N++){const H=rt(m[N],T[N]);if(0!==H)return H}return rt(m.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const m=rt(Lr(u.latitude),Lr(l.latitude));return 0!==m?m:rt(Lr(u.longitude),Lr(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const m=u.values||[],T=l.values||[];for(let N=0;N<m.length&&N<T.length;++N){const H=ci(m[N],T[N]);if(H)return H}return rt(m.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===Lo.mapValue&&l===Lo.mapValue)return 0;if(u===Lo.mapValue)return 1;if(l===Lo.mapValue)return-1;const m=u.fields||{},T=Object.keys(m),N=l.fields||{},H=Object.keys(N);T.sort(),H.sort();for(let J=0;J<T.length&&J<H.length;++J){const Ie=rt(T[J],H[J]);if(0!==Ie)return Ie;const qe=ci(m[T[J]],N[H[J]]);if(0!==qe)return qe}return rt(T.length,H.length)}(i.mapValue,e.mapValue);default:throw rn()}}function ao(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return rt(i,e);const t=Zo(i),o=Zo(e),u=rt(t.seconds,o.seconds);return 0!==u?u:rt(t.nanos,o.nanos)}function Uo(i){return Bo(i)}function Bo(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Zo(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?eu(i.bytesValue).toBase64():"referenceValue"in i?At.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const m of o.values||[])l?l=!1:u+=",",u+=Bo(m);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",m=!0;for(const T of u)m?m=!1:l+=",",l+=`${T}:${Bo(o.fields[T])}`;return l+"}"}(i.mapValue):rn();var e}function E(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function I(i){return!!i&&"integerValue"in i}function v(i){return!!i&&"arrayValue"in i}function M(i){return!!i&&"nullValue"in i}function F(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function z(i){return!!i&&"mapValue"in i}function Q(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return da(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Q(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Q(i.arrayValue.values[t]);return e}return Object.assign({},i)}function xe(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Yr{constructor(e,t){this.position=e,this.inclusive=t}}function ps(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],m=i.position[u];if(o=l.field.isKeyField()?At.comparator(At.fromName(m.referenceValue),t.key):ci(m,t.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function _o(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!_s(i.position[t],e.position[t]))return!1;return!0}class Yo{}class Pn extends Yo{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new St(e,t,o):"array-contains"===t?new zn(e,o):"in"===t?new kn(e,o):"not-in"===t?new Vo(e,o):"array-contains-any"===t?new ji(e,o):new Pn(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new fn(e,o):new En(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ci(t,this.value)):null!==t&&oo(this.value)===oo(t)&&this.matchesComparison(ci(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pr extends Yo{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new pr(e,t)}matches(e){return xs(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function xs(i){return"and"===i.op}function P(i){return function k(i){for(const e of i.filters)if(e instanceof pr)return!1;return!0}(i)&&xs(i)}function W(i){if(i instanceof Pn)return i.field.canonicalString()+i.op.toString()+Uo(i.value);if(P(i))return i.filters.map(e=>W(e)).join(",");{const e=i.filters.map(t=>W(t)).join(",");return`${i.op}(${e})`}}function ge(i,e){return i instanceof Pn?(t=i,(o=e)instanceof Pn&&t.op===o.op&&t.field.isEqual(o.field)&&_s(t.value,o.value)):i instanceof pr?function(t,o){return o instanceof pr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,l,m)=>u&&ge(l,o.filters[m]),!0)}(i,e):void rn();var t,o}function Xe(i){return i instanceof Pn?`${(e=i).field.canonicalString()} ${e.op} ${Uo(e.value)}`:i instanceof pr?function(e){return e.op.toString()+" {"+e.getFilters().map(Xe).join(" ,")+"}"}(i):"Filter";var e}class St extends Pn{constructor(e,t,o){super(e,t,o),this.key=At.fromName(o.referenceValue)}matches(e){const t=At.comparator(e.key,this.key);return this.matchesComparison(t)}}class fn extends Pn{constructor(e,t){super(e,"in",t),this.keys=yn(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class En extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=yn(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yn(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>At.fromName(o.referenceValue))}class zn extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return v(t)&&Fo(t.arrayValue,this.value)}}class kn extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fo(this.value.arrayValue,t)}}class Vo extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fo(this.value.arrayValue,t)}}class ji extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!v(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Fo(this.value.arrayValue,o))}}class Qo{constructor(e,t="asc"){this.field=e,this.dir=t}}function bc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Qr{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new Qr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new Qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Es(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Es(this.root,e,this.comparator,!1)}getReverseIterator(){return new Es(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Es(this.root,e,this.comparator,!0)}}class Es{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?o(e.key,t):1,t&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,t,o,u,l){this.key=e,this.value=t,this.color=o??li.RED,this.left=u??li.EMPTY,this.right=l??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,l){return new li(e??this.key,t??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===l?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return li.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rn();const e=this.left.check();if(e!==this.right.check())throw rn();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw rn()}get value(){throw rn()}get color(){throw rn()}get left(){throw rn()}get right(){throw rn()}copy(i,e,t,o,u){return this}insert(i,e,t){return new li(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Er{constructor(e){this.comparator=e,this.data=new Qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dl(this.data.getIterator())}getIteratorFrom(e){return new Dl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Er(this.comparator);return t.data=e,t}}class Dl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class uo{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new uo([])}unionWith(e){let t=new Er(xn.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tt(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Ps{constructor(e){this.value=e}static empty(){return new Ps({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!z(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Q(t)}setAll(e){let t=xn.emptyPath(),o={},u=[];e.forEach((m,T)=>{if(!t.isImmediateParentOf(T)){const N=this.getFieldsMap(t);this.applyChanges(N,o,u),o={},u=[],t=T.popLast()}m?o[T.lastSegment()]=Q(m):u.push(T.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,o,u)}delete(e){const t=this.field(e.popLast());z(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];z(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){da(t,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Ps(Q(this.value))}}function Tc(i){const e=[];return da(i.fields,(t,o)=>{const u=new xn([t]);if(z(o)){const l=Tc(o.mapValue).fields;if(0===l.length)e.push(u);else for(const m of l)e.push(u.child(m))}else e.push(u)}),new uo(e)}class wi{constructor(e,t,o,u,l,m,T){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=l,this.data=m,this.documentState=T}static newInvalidDocument(e){return new wi(e,0,gt.min(),gt.min(),gt.min(),Ps.empty(),0)}static newFoundDocument(e,t,o,u){return new wi(e,1,t,gt.min(),o,u,0)}static newNoDocument(e,t){return new wi(e,2,t,gt.min(),gt.min(),Ps.empty(),0)}static newUnknownDocument(e,t){return new wi(e,3,t,gt.min(),gt.min(),Ps.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sc{constructor(e,t=null,o=[],u=[],l=null,m=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=m,this.endAt=T,this._t=null}}function bl(i,e=null,t=[],o=[],u=null,l=null,m=null){return new Sc(i,e,t,o,u,l,m)}function Va(i){const e=jt(i);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>W(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Gs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Uo(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Uo(o)).join(",")),e._t=t}return e._t}function Cc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!bc(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!ge(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!_o(i.startAt,e.startAt)&&_o(i.endAt,e.endAt)}function Tl(i){return At.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ru{constructor(e,t=null,o=[],u=[],l=null,m="F",T=null,N=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=m,this.startAt=T,this.endAt=N,this.wt=null,this.gt=null}}function Xu(i){return new ru(i)}function Sd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ac(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Mu(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Mc(i){return null!==i.collectionGroup}function $a(i){const e=jt(i);if(null===e.wt){e.wt=[];const t=Mu(e),o=Ac(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new Qo(t)),e.wt.push(new Qo(xn.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Qo(xn.keyField(),l))}}}return e.wt}function Ws(i){const e=jt(i);if(!e.gt)if("F"===e.limitType)e.gt=bl(e.path,e.collectionGroup,$a(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of $a(e))t.push(new Qo(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new Yr(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Yr(e.startAt.position,e.startAt.inclusive):null;e.gt=bl(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.gt}function Xo(i,e){e.getFirstInequalityField(),Mu(i);const t=i.filters.concat([e]);return new ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Rc(i,e,t){return new ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Ju(i,e){return Cc(Ws(i),Ws(e))&&i.limitType===e.limitType}function Cl(i){return`${Va(Ws(i))}|lt:${i.limitType}`}function xc(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>Xe(o)).join(", ")}]`),Gs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Uo(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Uo(o)).join(",")),`Target(${t})`}(Ws(i))}; limitType=${i.limitType})`}function ja(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):At.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of $a(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,l,m){const T=ps(u,l,m);return u.inclusive?T<=0:T<0}(t.startAt,$a(t),o)||t.endAt&&!function(u,l,m){const T=ps(u,l,m);return u.inclusive?T>=0:T>0}(t.endAt,$a(t),o)));var t,o}function Ad(i){return(e,t)=>{let o=!1;for(const u of $a(i)){const l=Lp(u,e,t);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Lp(i,e,t){const o=i.field.isKeyField()?At.comparator(e.key,t.key):function(u,l,m){const T=l.data.field(u),N=m.data.field(u);return null!==T&&null!==N?ci(T,N):rn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return rn()}}function Pc(i,e){if(i.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cu(e)?"-0":e}}function Nh(i){return{integerValue:""+i}}function Al(i,e){return function Ua(i){return"number"==typeof i&&Number.isInteger(i)&&!Cu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Nh(e):Pc(i,e)}class ws{constructor(){this._=void 0}}function Ml(i,e,t){return i instanceof Hi?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(l.fields.__previous_value__=u),{mapValue:l}}(t,e):i instanceof ha?Nc(i,e):i instanceof iu?Rd(i,e):function(o,u){const l=Oc(o,u),m=h(l)+h(o.It);return I(l)&&I(o.It)?Nh(m):Pc(o.Tt,m)}(i,e)}function Md(i,e,t){return i instanceof ha?Nc(i,e):i instanceof iu?Rd(i,e):t}function Oc(i,e){return i instanceof b?I(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Hi extends ws{}class ha extends ws{constructor(e){super(),this.elements=e}}function Nc(i,e){const t=p(e);for(const o of i.elements)t.some(u=>_s(u,o))||t.push(o);return{arrayValue:{values:t}}}class iu extends ws{constructor(e){super(),this.elements=e}}function Rd(i,e){let t=p(e);for(const o of i.elements)t=t.filter(u=>!_s(u,o));return{arrayValue:{values:t}}}class b extends ws{constructor(e,t){super(),this.Tt=e,this.It=t}}function h(i){return Lr(i.integerValue||i.doubleValue)}function p(i){return v(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ne{constructor(e,t){this.version=e,this.transformResults=t}}class $e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $e}static exists(e){return new $e(void 0,e)}static updateTime(e){return new $e(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function It(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class tn{}function Tn(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new su(i.key,$e.none()):new pa(i.key,i.data,$e.none());{const t=i.data,o=Ps.empty();let u=new Er(xn.comparator);for(let l of e.fields)if(!u.has(l)){let m=t.field(l);null===m&&l.length>1&&(l=l.popLast(),m=t.field(l)),null===m?o.delete(l):o.set(l,m),u=u.add(l)}return new ga(i.key,o,new uo(u.toArray()),$e.none())}}function Gn(i,e,t){i instanceof pa?function(o,u,l){const m=o.value.clone(),T=ec(o.fieldTransforms,u,l.transformResults);m.setAll(T),u.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ga?function(o,u,l){if(!It(o.precondition,u))return void u.convertToUnknownDocument(l.version);const m=ec(o.fieldTransforms,u,l.transformResults),T=u.data;T.setAll(Ha(o)),T.setAll(m),u.convertToFoundDocument(l.version,T).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Xr(i,e,t,o){return i instanceof pa?function(u,l,m,T){if(!It(u.precondition,l))return m;const N=u.value.clone(),H=kc(u.fieldTransforms,T,l);return N.setAll(H),l.convertToFoundDocument(l.version,N).setHasLocalMutations(),null}(i,e,t,o):i instanceof ga?function(u,l,m,T){if(!It(u.precondition,l))return m;const N=kc(u.fieldTransforms,T,l),H=l.data;return H.setAll(Ha(u)),H.setAll(N),l.convertToFoundDocument(l.version,H).setHasLocalMutations(),null===m?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(J=>J.field))}(i,e,t,o):(m=t,It(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):m);var l,m}function Aa(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Oc(o.transform,u||null);null!=l&&(null===t&&(t=Ps.empty()),t.set(o.field,l))}return t||null}function fa(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Tt(t,o,(u,l)=>function G(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof ha&&o instanceof ha||t instanceof iu&&o instanceof iu?Tt(t.elements,o.elements,_s):t instanceof b&&o instanceof b?_s(t.It,o.It):t instanceof Hi&&o instanceof Hi);var t,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class pa extends tn{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ga extends tn{constructor(e,t,o,u,l=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ha(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function ec(i,e,t){const o=new Map;cn(i.length===t.length);for(let u=0;u<t.length;u++){const l=i[u],m=l.transform,T=e.data.field(l.field);o.set(l.field,Md(m,T,t[u]))}return o}function kc(i,e,t){const o=new Map;for(const u of i){const l=u.transform,m=t.data.field(u.field);o.set(u.field,Ml(l,m,e))}return o}class su extends tn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ru extends tn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xd{constructor(e){this.count=e}}var Li,gr;function Lc(i){if(void 0===i)return jr("GRPC error has no .code"),Je.UNKNOWN;switch(i){case Li.OK:return Je.OK;case Li.CANCELLED:return Je.CANCELLED;case Li.UNKNOWN:return Je.UNKNOWN;case Li.DEADLINE_EXCEEDED:return Je.DEADLINE_EXCEEDED;case Li.RESOURCE_EXHAUSTED:return Je.RESOURCE_EXHAUSTED;case Li.INTERNAL:return Je.INTERNAL;case Li.UNAVAILABLE:return Je.UNAVAILABLE;case Li.UNAUTHENTICATED:return Je.UNAUTHENTICATED;case Li.INVALID_ARGUMENT:return Je.INVALID_ARGUMENT;case Li.NOT_FOUND:return Je.NOT_FOUND;case Li.ALREADY_EXISTS:return Je.ALREADY_EXISTS;case Li.PERMISSION_DENIED:return Je.PERMISSION_DENIED;case Li.FAILED_PRECONDITION:return Je.FAILED_PRECONDITION;case Li.ABORTED:return Je.ABORTED;case Li.OUT_OF_RANGE:return Je.OUT_OF_RANGE;case Li.UNIMPLEMENTED:return Je.UNIMPLEMENTED;case Li.DATA_LOSS:return Je.DATA_LOSS;default:return rn()}}(gr=Li||(Li={}))[gr.OK=0]="OK",gr[gr.CANCELLED=1]="CANCELLED",gr[gr.UNKNOWN=2]="UNKNOWN",gr[gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gr[gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gr[gr.NOT_FOUND=5]="NOT_FOUND",gr[gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",gr[gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",gr[gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",gr[gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gr[gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gr[gr.ABORTED=10]="ABORTED",gr[gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",gr[gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",gr[gr.INTERNAL=13]="INTERNAL",gr[gr.UNAVAILABLE=14]="UNAVAILABLE",gr[gr.DATA_LOSS=15]="DATA_LOSS";class ou{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(t,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Fa(this.inner)}size(){return this.innerSize}}const Fp=new Qr(At.comparator);function Eo(){return Fp}const kh=new Qr(At.comparator);function tc(...i){let e=kh;for(const t of i)e=e.insert(t.key,t);return e}function Up(i){let e=kh;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function au(){return Fc()}function Lh(){return Fc()}function Fc(){return new ou(i=>i.toString(),(i,e)=>i.isEqual(e))}const nc=new Qr(At.comparator),Bp=new Er(At.comparator);function er(...i){let e=Bp;for(const t of i)e=e.add(t);return e}const Vm=new Er(rt);function Fh(){return Vm}class xu{constructor(e,t,o,u,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new xu(gt.min(),u,Fh(),Eo(),er())}}class Rl{constructor(e,t,o,u,l){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Rl(o,t,er(),er(),er())}}class xl{constructor(e,t,o,u){this.Et=e,this.removedTargetIds=t,this.key=o,this.At=u}}class Uh{constructor(e,t){this.targetId=e,this.Rt=t}}class Bh{constructor(e,t,o=Qi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Od{constructor(){this.Pt=0,this.vt=Ol(),this.bt=Qi.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=er(),t=er(),o=er();return this.vt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:rn()}}),new Rl(this.bt,this.Vt,e,t,o)}kt(){this.St=!1,this.vt=Ol()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class Vp{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=Eo(),this.Kt=Pl(),this.Gt=new Er(rt)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const o=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&o.xt(e.resumeToken);break;case 1:o.Ft(),o.Dt||o.kt(),o.xt(e.resumeToken);break;case 2:o.Ft(),o.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(o.Bt(),o.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),o.xt(e.resumeToken));break;default:rn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((o,u)=>{this.Jt(u)&&t(u)})}Zt(e){const t=e.targetId,o=e.Rt.count,u=this.Xt(t);if(u){const l=u.target;if(Tl(l))if(0===o){const m=new At(l.path);this.zt(t,m,wi.newNoDocument(m,gt.min()))}else cn(1===o);else this.te(t)!==o&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((l,m)=>{const T=this.Xt(m);if(T){if(l.current&&Tl(T.target)){const N=new At(T.target.path);null!==this.Ut.get(N)||this.ne(m,N)||this.zt(m,N,wi.newNoDocument(N,e))}l.Ct&&(t.set(m,l.Nt()),l.kt())}});let o=er();this.Kt.forEach((l,m)=>{let T=!0;m.forEachWhile(N=>{const H=this.Xt(N);return!H||2===H.purpose||(T=!1,!1)}),T&&(o=o.add(l))}),this.Ut.forEach((l,m)=>m.setReadTime(e));const u=new xu(e,t,this.Gt,this.Ut,o);return this.Ut=Eo(),this.Kt=Pl(),this.Gt=new Er(rt),u}jt(e,t){if(!this.Jt(e))return;const o=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,o){if(!this.Jt(e))return;const u=this.Ht(e);this.ne(e,t)?u.$t(t,1):u.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new Od,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new Er(rt),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||dt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new Od),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function Pl(){return new Qr(At.comparator)}function Ol(){return new Qr(At.comparator)}const $p={asc:"ASCENDING",desc:"DESCENDING"},Vh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$h={and:"AND",or:"OR"};class jh{constructor(e,t){this.databaseId=e,this.yt=t}}function uu(i,e){return i.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jp(i,e){return i.yt?e.toBase64():e.toUint8Array()}function Hp(i,e){return uu(i,e.toTimestamp())}function gs(i){return cn(!!i),gt.fromTimestamp(function(e){const t=Zo(e);return new Wt(t.seconds,t.nanos)}(i))}function Hh(i,e){return(t=i,new Xt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function zp(i){const e=Xt.fromString(i);return cn(qp(e)),e}function Uc(i,e){return Hh(i.databaseId,e.path)}function za(i,e){const t=zp(e);if(t.get(1)!==i.databaseId.projectId)throw new D(Je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new D(Je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new At(Gp(t))}function Bc(i,e){return Hh(i.databaseId,e)}function cu(i){return new Xt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Gp(i){return cn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Wp(i,e,t){return{name:Uc(i,e),fields:t.value.mapValue.fields}}function Fd(i,e){return{documents:[Bc(i,e.path)]}}function Ud(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Bc(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Bc(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(N){if(0!==N.length)return lu(pr.create(N,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const l=function(N){if(0!==N.length)return N.map(H=>{return{field:Ou((J=H).field),direction:Hm(J.dir)};var J})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const m=(H=e.limit,i.yt||Gs(H)?H:{value:H});var H,T,N;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(N=e.endAt).inclusive,values:N.position}),t}function Gh(i){let e=function Nd(i){const e=zp(i);return 4===e.length?Xt.emptyPath():Gp(e)}(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){cn(1===o);const J=t.from[0];J.allDescendants?u=J.collectionId:e=e.child(J.collectionId)}let l=[];t.where&&(l=function(J){const Ie=Pu(J);return Ie instanceof pr&&P(Ie)?Ie.getFilters():[Ie]}(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(J=>{return new Qo(Vc((Ie=J).field),function(qe){switch(qe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let T=null;t.limit&&(T=function(J){let Ie;return Ie="object"==typeof J?J.value:J,Gs(Ie)?null:Ie}(t.limit));let N=null;var J;t.startAt&&(N=new Yr((J=t.startAt).values||[],!!J.before));let H=null;return t.endAt&&(H=function(J){return new Yr(J.values||[],!J.before)}(t.endAt)),function Sl(i,e,t,o,u,l,m,T){return new ru(i,e,t,o,u,l,m,T)}(e,u,m,l,T,"F",N,H)}function Pu(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vc(e.unaryFilter.field);return Pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Vc(e.unaryFilter.field);return Pn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Vc(e.unaryFilter.field);return Pn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Vc(e.unaryFilter.field);return Pn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return rn()}}(i):void 0!==i.fieldFilter?Pn.create(Vc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return pr.create(e.compositeFilter.filters.map(t=>Pu(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rn()}}(e.compositeFilter.op))}(i):rn();var e}function Hm(i){return $p[i]}function zm(i){return Vh[i]}function Gm(i){return $h[i]}function Ou(i){return{fieldPath:i.canonicalString()}}function Vc(i){return xn.fromServerFormat(i.fieldPath)}function lu(i){return i instanceof Pn?function(e){if("=="===e.op){if(F(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NAN"}};if(M(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(F(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NOT_NAN"}};if(M(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ou(e.field),op:zm(e.op),value:e.value}}}(i):i instanceof pr?function(e){const t=e.getFilters().map(o=>lu(o));return 1===t.length?t[0]:{compositeFilter:{op:Gm(e.op),filters:t}}}(i):rn()}function $c(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class jc{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Gn(l,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Xr(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Xr(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Lh();return this.mutations.forEach(u=>{const l=e.get(u.key),m=l.overlayedDocument;let T=this.applyToLocalView(m,l.mutatedFields);T=t.has(u.key)?null:T;const N=Tn(m,T);null!==N&&o.set(u.key,N),m.isValidDocument()||m.convertToNoDocument(gt.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),er())}isEqual(e){return this.batchId===e.batchId&&Tt(this.mutations,e.mutations,(t,o)=>fa(t,o))&&Tt(this.baseMutations,e.baseMutations,(t,o)=>fa(t,o))}}class Vd{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){cn(e.mutations.length===o.length);let u=nc;const l=e.mutations;for(let m=0;m<l.length;m++)u=u.insert(l[m].key,o[m].version);return new Vd(e,t,o,u)}}class Fl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nu{constructor(e,t,o,u,l=gt.min(),m=gt.min(),T=Qi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=T}withSequenceNumber(e){return new Nu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Xi{constructor(e){this.oe=e}}function $d(i){const e=Gh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Rc(e,e.limit,"L"):e}class Lu{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Lr(e.integerValue));else if("doubleValue"in e){const o=Lr(e.doubleValue);isNaN(o)?this.fe(t,13):(this.fe(t,15),Cu(o)?t.de(0):t.de(o))}else if("timestampValue"in e){const o=e.timestampValue;this.fe(t,20),"string"==typeof o?t._e(o):(t._e(`${o.seconds||""}`),t.de(o.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(eu(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.fe(t,45),t.de(o.latitude||0),t.de(o.longitude||0)}else"mapValue"in e?xe(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):rn()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const o=e.fields||{};this.fe(t,55);for(const u of Object.keys(o))this.we(u,t),this.he(o[u],t)}Ie(e,t){const o=e.values||[];this.fe(t,50);for(const u of o)this.he(u,t)}ye(e,t){this.fe(t,37),At.fromName(e).path.forEach(o=>{this.fe(t,60),this.Te(o,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}Lu.Ee=new Lu;class Jm{constructor(){this.Ze=new af}addToCollectionParentIndex(e,t){return this.Ze.add(t),Ue.resolve()}getCollectionParents(e,t){return Ue.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return Ue.resolve()}deleteFieldIndex(e,t){return Ue.resolve()}getDocumentsMatchingTarget(e,t){return Ue.resolve(null)}getIndexType(e,t){return Ue.resolve(0)}getFieldIndexes(e,t){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,t){return Ue.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,t){return Ue.resolve(Zr.min())}updateCollectionGroup(e,t,o){return Ue.resolve()}updateIndexEntries(e,t){return Ue.resolve()}}class af{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new Er(Xt.comparator),l=!u.has(o);return this.index[t]=u.add(o),l}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Er(Xt.comparator)).toArray()}}new Uint8Array(0);class Jo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Jo(e,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Jo.DEFAULT_COLLECTION_PERCENTILE=10,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jo.DEFAULT=new Jo(41943040,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jo.DISABLED=new Jo(-1,0,0);class ac{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new ac(0)}static Sn(){return new ac(-1)}}class zl{constructor(){this.changes=new ou(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Ue.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vg{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&Xr(o.mutation,u,uo.empty(),Wt.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,er()).next(()=>o))}getLocalViewOfDocuments(e,t,o=er()){const u=au();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(l=>{let m=tc();return l.forEach((T,N)=>{m=m.insert(T,N.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const o=au();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,er()))}populateOverlays(e,t,o){const u=[];return o.forEach(l=>{t.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((m,T)=>{t.set(m,T)})})}computeViews(e,t,o,u){let l=Eo();const m=Fc(),T=Fc();return t.forEach((N,H)=>{const J=o.get(H.key);u.has(H.key)&&(void 0===J||J.mutation instanceof ga)?l=l.insert(H.key,H):void 0!==J?(m.set(H.key,J.mutation.getFieldMask()),Xr(J.mutation,H,J.mutation.getFieldMask(),Wt.now())):m.set(H.key,uo.empty())}),this.recalculateAndSaveOverlays(e,l).next(N=>(N.forEach((H,J)=>m.set(H,J)),t.forEach((H,J)=>{var Ie;return T.set(H,new wu(J,null!==(Ie=m.get(H))&&void 0!==Ie?Ie:null))}),T))}recalculateAndSaveOverlays(e,t){const o=Fc();let u=new Qr((m,T)=>m-T),l=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const T of m)T.keys().forEach(N=>{const H=t.get(N);if(null===H)return;let J=o.get(N)||uo.empty();J=T.applyToLocalView(H,J),o.set(N,J);const Ie=(u.get(T.batchId)||er()).add(N);u=u.insert(T.batchId,Ie)})}).next(()=>{const m=[],T=u.getReverseIterator();for(;T.hasNext();){const N=T.getNext(),H=N.key,J=N.value,Ie=Lh();J.forEach(qe=>{if(!l.has(qe)){const ft=Tn(t.get(qe),o.get(qe));null!==ft&&Ie.set(qe,ft),l=l.add(qe)}}),m.push(this.documentOverlayCache.saveOverlays(e,H,Ie))}return Ue.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return At.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Mc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(l=>{const m=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-l.size):Ue.resolve(au());let T=-1,N=l;return m.next(H=>Ue.forEach(H,(J,Ie)=>(T<Ie.largestBatchId&&(T=Ie.largestBatchId),l.get(J)?Ue.resolve():this.remoteDocumentCache.getEntry(e,J).next(qe=>{N=N.insert(J,qe)}))).next(()=>this.populateOverlays(e,H,l)).next(()=>this.computeViews(e,N,H,er())).next(J=>({batchId:T,changes:Up(J)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new At(t)).next(o=>{let u=tc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let l=tc();return this.indexManager.getCollectionParents(e,u).next(m=>Ue.forEach(m,T=>{const N=(H=t,J=T.child(u),new ru(J,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,J;return this.getDocumentsMatchingCollectionQuery(e,N,o).next(H=>{H.forEach((J,Ie)=>{l=l.insert(J,Ie)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,u))).next(l=>{u.forEach((T,N)=>{const H=N.getKey();null===l.get(H)&&(l=l.insert(H,wi.newInvalidDocument(H)))});let m=tc();return l.forEach((T,N)=>{const H=u.get(T);void 0!==H&&Xr(H.mutation,N,uo.empty(),Wt.now()),ja(t,N)&&(m=m.insert(T,N))}),m})}}class ry{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return Ue.resolve(this.es.get(t))}saveBundleMetadata(e,t){var o;return this.es.set(t.id,{id:(o=t).id,version:o.version,createTime:gs(o.createTime)}),Ue.resolve()}getNamedQuery(e,t){return Ue.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(o=t).name,query:$d(o.bundledQuery),readTime:gs(o.readTime)}),Ue.resolve();var o}}class Vv{constructor(){this.overlays=new Qr(At.comparator),this.ss=new Map}getOverlay(e,t){return Ue.resolve(this.overlays.get(t))}getOverlays(e,t){const o=au();return Ue.forEach(t,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,l)=>{this.ce(e,t,l)}),Ue.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.ss.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ss.delete(o)),Ue.resolve()}getOverlaysForCollection(e,t,o){const u=au(),l=t.length+1,m=new At(t.child("")),T=this.overlays.getIteratorFrom(m);for(;T.hasNext();){const N=T.getNext().value,H=N.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===l&&N.largestBatchId>o&&u.set(N.getKey(),N)}return Ue.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let l=new Qr((H,J)=>H-J);const m=this.overlays.getIterator();for(;m.hasNext();){const H=m.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>o){let J=l.get(H.largestBatchId);null===J&&(J=au(),l=l.insert(H.largestBatchId,J)),J.set(H.getKey(),H)}}const T=au(),N=l.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((H,J)=>T.set(H,J)),!(T.size()>=u)););return Ue.resolve(T)}ce(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const m=this.ss.get(u.largestBatchId).delete(o.key);this.ss.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new Fl(t,o));let l=this.ss.get(t);void 0===l&&(l=er(),this.ss.set(t,l)),this.ss.set(t,l.add(o.key))}}class _g{constructor(){this.rs=new Er(Ns.os),this.us=new Er(Ns.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const o=new Ns(e,t);this.rs=this.rs.add(o),this.us=this.us.add(o)}hs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ls(new Ns(e,t))}fs(e,t){e.forEach(o=>this.removeReference(o,t))}ds(e){const t=new At(new Xt([])),o=new Ns(t,e),u=new Ns(t,e+1),l=[];return this.us.forEachInRange([o,u],m=>{this.ls(m),l.push(m.key)}),l}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new At(new Xt([])),o=new Ns(t,e),u=new Ns(t,e+1);let l=er();return this.us.forEachInRange([o,u],m=>{l=l.add(m.key)}),l}containsKey(e){const t=new Ns(e,0),o=this.rs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Ns{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return At.comparator(e.key,t.key)||rt(e.gs,t.gs)}static cs(e,t){return rt(e.gs,t.gs)||At.comparator(e.key,t.key)}}class $v{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new Er(Ns.os)}checkEmpty(e){return Ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const l=this.ys;this.ys++;const m=new jc(l,t,o,u);this.mutationQueue.push(m);for(const T of u)this.ps=this.ps.add(new Ns(T.key,l)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Ue.resolve(m)}lookupMutationBatch(e,t){return Ue.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.Ts(t+1),l=u<0?0:u;return Ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Ns(t,0),u=new Ns(t,Number.POSITIVE_INFINITY),l=[];return this.ps.forEachInRange([o,u],m=>{const T=this.Is(m.gs);l.push(T)}),Ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Er(rt);return t.forEach(u=>{const l=new Ns(u,0),m=new Ns(u,Number.POSITIVE_INFINITY);this.ps.forEachInRange([l,m],T=>{o=o.add(T.gs)})}),Ue.resolve(this.Es(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let l=o;At.isDocumentKey(l)||(l=l.child(""));const m=new Ns(new At(l),0);let T=new Er(rt);return this.ps.forEachWhile(N=>{const H=N.key.path;return!!o.isPrefixOf(H)&&(H.length===u&&(T=T.add(N.gs)),!0)},m),Ue.resolve(this.Es(T))}Es(e){const t=[];return e.forEach(o=>{const u=this.Is(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){cn(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let o=this.ps;return Ue.forEach(t.mutations,u=>{const l=new Ns(u.key,t.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ps=o})}Pn(e){}containsKey(e,t){const o=new Ns(t,0),u=this.ps.firstAfterOrEqual(o);return Ue.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return Ue.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Eg{constructor(e){this.Rs=e,this.docs=new Qr(At.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),l=u?u.size:0,m=this.Rs(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:m}),this.size+=m-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Ue.resolve(o?o.document.mutableCopy():wi.newInvalidDocument(t))}getEntries(e,t){let o=Eo();return t.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():wi.newInvalidDocument(u))}),Ue.resolve(o)}getDocumentsMatchingQuery(e,t,o,u){let l=Eo();const m=t.path,T=new At(m.child("")),N=this.docs.getIteratorFrom(T);for(;N.hasNext();){const{key:H,value:{document:J}}=N.getNext();if(!m.isPrefixOf(H.path))break;H.path.length>m.length+1||Ko(vs(J),o)<=0||(u.has(J.key)||ja(t,J))&&(l=l.insert(J.key,J.mutableCopy()))}return Ue.resolve(l)}getAllFromCollectionGroup(e,t,o,u){rn()}Ps(e,t){return Ue.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new wg(this)}getSize(e){return Ue.resolve(this.size)}}class wg extends zl{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Xn.addEntry(e,u)):this.Xn.removeEntry(o)}),Ue.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class iy{constructor(e){this.persistence=e,this.vs=new ou(t=>Va(t),Cc),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.bs=0,this.Vs=new _g,this.targetCount=0,this.Ss=ac.Vn()}forEachTarget(e,t){return this.vs.forEach((o,u)=>t(u)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),Ue.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new ac(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,Ue.resolve()}updateTargetData(e,t){return this.xn(t),Ue.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,t,o){let u=0;const l=[];return this.vs.forEach((m,T)=>{T.sequenceNumber<=t&&null===o.get(T.targetId)&&(this.vs.delete(m),l.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Ue.waitFor(l).next(()=>u)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,t){const o=this.vs.get(t)||null;return Ue.resolve(o)}addMatchingKeys(e,t,o){return this.Vs.hs(t,o),Ue.resolve()}removeMatchingKeys(e,t,o){this.Vs.fs(t,o);const u=this.persistence.referenceDelegate,l=[];return u&&t.forEach(m=>{l.push(u.markPotentiallyOrphaned(e,m))}),Ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),Ue.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Vs.ws(t);return Ue.resolve(o)}containsKey(e,t){return Ue.resolve(this.Vs.containsKey(t))}}class pf{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new Mi(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new iy(this),this.indexManager=new Jm,this.remoteDocumentCache=new Eg(o=>this.referenceDelegate.ks(o)),this.Tt=new Xi(t),this.$s=new ry(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ds[e.toKey()];return o||(o=new $v(t,this.referenceDelegate),this.Ds[e.toKey()]=o),o}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,o){dt("MemoryPersistence","Starting transaction:",e);const u=new sy(this.Cs.next());return this.referenceDelegate.Ms(),o(u).next(l=>this.referenceDelegate.Os(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Fs(e,t){return Ue.or(Object.values(this.Ds).map(o=>()=>o.containsKey(e,t)))}}class sy extends Gt{constructor(e){super(),this.currentSequenceNumber=e}}class Gd{constructor(e){this.persistence=e,this.Bs=new _g,this.Ls=null}static qs(e){return new Gd(e)}get Us(){if(this.Ls)return this.Ls;throw rn()}addReference(e,t,o){return this.Bs.addReference(o,t),this.Us.delete(o.toString()),Ue.resolve()}removeReference(e,t,o){return this.Bs.removeReference(o,t),this.Us.add(o.toString()),Ue.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),Ue.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(u=>this.Us.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(l=>this.Us.add(l.toString()))}).next(()=>o.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.Us,o=>{const u=At.fromPath(o);return this.Ks(e,u).next(l=>{l||t.removeEntry(u,gt.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(o=>{o?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return Ue.or([()=>Ue.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}}class qd{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Ci=o,this.xi=u}static Ni(e,t){let o=er(),u=er();for(const l of t.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new qd(e,t.fromCache,o,u)}}class Dg{constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,o,u){return this.Mi(e,t).next(l=>l||this.Oi(e,t,u,o)).next(l=>l||this.Fi(e,t))}Mi(e,t){if(Sd(t))return Ue.resolve(null);let o=Ws(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Rc(t,null,"F"),o=Ws(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const m=er(...l);return this.$i.getDocuments(e,m).next(T=>this.indexManager.getMinOffset(e,o).next(N=>{const H=this.Bi(t,T);return this.Li(t,H,m,N.readTime)?this.Mi(e,Rc(t,null,"F")):this.qi(e,H,t,N)}))})))}Oi(e,t,o,u){return Sd(t)||u.isEqual(gt.min())?this.Fi(e,t):this.$i.getDocuments(e,o).next(l=>{const m=this.Bi(t,l);return this.Li(t,m,o,u)?this.Fi(e,t):(Kr()<=se.in.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),xc(t)),this.qi(e,m,t,function ro(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=gt.fromTimestamp(1e9===o?new Wt(t+1,0):new Wt(t,o));return new Zr(u,At.empty(),e)}(u,-1)))})}Bi(e,t){let o=new Er(Ad(e));return t.forEach((u,l)=>{ja(e,l)&&(o=o.add(l))}),o}Li(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Fi(e,t){return Kr()<=se.in.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",xc(t)),this.$i.getDocumentsMatchingQuery(e,t,Zr.min())}qi(e,t,o,u){return this.$i.getDocumentsMatchingQuery(e,o,u).next(l=>(t.forEach(m=>{l=l.insert(m.key,m)}),l))}}class oy{constructor(e,t,o,u){this.persistence=e,this.Ui=t,this.Tt=u,this.Ki=new Qr(rt),this.Gi=new ou(l=>Va(l),Cc),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(o)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vg(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function Zn(i,e){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,y.Z)(function*(i,e){const t=jt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,t.zi(e),t.mutationQueue.getAllMutationBatches(o))).next(l=>{const m=[],T=[];let N=er();for(const H of u){m.push(H.batchId);for(const J of H.mutations)N=N.add(J.key)}for(const H of l){T.push(H.batchId);for(const J of H.mutations)N=N.add(J.key)}return t.localDocuments.getDocuments(o,N).next(H=>({Wi:H,removedBatchIds:m,addedBatchIds:T}))})})}),Zd.apply(this,arguments)}function yf(i){const e=jt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function Cg(i,e){const t=jt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function lc(i,e,t){return vf.apply(this,arguments)}function vf(){return vf=(0,y.Z)(function*(i,e,t){const o=jt(i),u=o.Ki.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",l,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!qn(m))throw m;dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.Ki=o.Ki.remove(e),o.Gi.delete(u.target)}),vf.apply(this,arguments)}function Yd(i,e,t){const o=jt(i);let u=gt.min(),l=er();return o.persistence.runTransaction("Execute query","readonly",m=>function(T,N,H){const J=jt(T),Ie=J.Gi.get(H);return void 0!==Ie?Ue.resolve(J.Ki.get(Ie)):J.Ns.getTargetData(N,H)}(o,m,Ws(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Ns.getMatchingKeysForTargetId(m,T.targetId).next(N=>{l=N})}).next(()=>o.Ui.getDocumentsMatchingQuery(m,e,t?u:gt.min(),t?l:er())).next(T=>(function Ef(i,e,t){let o=i.Qi.get(e)||gt.min();t.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Qi.set(e,o)}(o,function Cd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),T),{documents:T,Yi:l})))}class bf{constructor(){this.activeTargetIds=Fh()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xg{constructor(){this.Ur=new bf,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,o){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new bf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pg{Gr(e){}shutdown(){}}class Yl{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qd=null;function Xd(){return null===Qd?Qd=268435456+Math.round(2147483648*Math.random()):Qd++,"0x"+Qd.toString(16)}const ly={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dy{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const wo="WebChannelConnection";class hy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,o,u,l){const m=Xd(),T=this.fo(e,t);dt("RestConnection",`Sending RPC '${e}' ${m}:`,T,o);const N={};return this._o(N,u,l),this.wo(e,T,N,o).then(H=>(dt("RestConnection",`Received RPC '${e}' ${m}: `,H),H),H=>{throw Hr("RestConnection",`RPC '${e}' ${m} failed with error: `,H,"url: ",T,"request:",o),H})}mo(e,t,o,u,l,m){return this.lo(e,t,o,u,l)}_o(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}fo(e,t){return`${this.co}/v1/${t}:${ly[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,o,u){const l=Xd();return new Promise((m,T)=>{const N=new oa;N.setWithCredentials(!0),N.listenOnce(Oa.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Ms.NO_ERROR:const J=N.getResponseJson();dt(wo,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(J)),m(J);break;case Ms.TIMEOUT:dt(wo,`RPC '${e}' ${l} timed out`),T(new D(Je.DEADLINE_EXCEEDED,"Request time out"));break;case Ms.HTTP_ERROR:const Ie=N.getStatus();if(dt(wo,`RPC '${e}' ${l} failed with status:`,Ie,"response text:",N.getResponseText()),Ie>0){let qe=N.getResponseJson();Array.isArray(qe)&&(qe=qe[0]);const ft=qe?.error;if(ft&&ft.status&&ft.message){const Mt=function(en){const wn=en.toLowerCase().replace(/_/g,"-");return Object.values(Je).indexOf(wn)>=0?wn:Je.UNKNOWN}(ft.status);T(new D(Mt,ft.message))}else T(new D(Je.UNKNOWN,"Server responded with status "+N.getStatus()))}else T(new D(Je.UNAVAILABLE,"Connection failed."));break;default:rn()}}finally{dt(wo,`RPC '${e}' ${l} completed.`)}});const H=JSON.stringify(u);dt(wo,`RPC '${e}' ${l} sending request:`,u),N.send(t,"POST",H,o,15)})}yo(e,t,o){const u=Xd(),l=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=ba(),T=Oo(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(N.xmlHttpFactory=new Na({})),this._o(N.initMessageHeaders,t,o),N.encodeInitMessageHeaders=!0;const H=l.join("");dt(wo,`Creating RPC '${e}' stream ${u}: ${H}`,N);const J=m.createWebChannel(H,N);let Ie=!1,qe=!1;const ft=new dy({Yr:en=>{qe?dt(wo,`Not sending because RPC '${e}' stream ${u} is closed:`,en):(Ie||(dt(wo,`Opening RPC '${e}' stream ${u} transport.`),J.open(),Ie=!0),dt(wo,`RPC '${e}' stream ${u} sending:`,en),J.send(en))},Zr:()=>J.close()}),Mt=(en,wn,di)=>{en.listen(wn,Ds=>{try{di(Ds)}catch(Fr){setTimeout(()=>{throw Fr},0)}})};return Mt(J,to.EventType.OPEN,()=>{qe||dt(wo,`RPC '${e}' stream ${u} transport opened.`)}),Mt(J,to.EventType.CLOSE,()=>{qe||(qe=!0,dt(wo,`RPC '${e}' stream ${u} transport closed`),ft.oo())}),Mt(J,to.EventType.ERROR,en=>{qe||(qe=!0,Hr(wo,`RPC '${e}' stream ${u} transport errored:`,en),ft.oo(new D(Je.UNAVAILABLE,"The operation could not be completed")))}),Mt(J,to.EventType.MESSAGE,en=>{var wn;if(!qe){const di=en.data[0];cn(!!di);const Fr=di.error||(null===(wn=di[0])||void 0===wn?void 0:wn.error);if(Fr){dt(wo,`RPC '${e}' stream ${u} received error:`,Fr);const Io=Fr.status;let _i=function(lo){const Ya=Li[lo];if(void 0!==Ya)return Lc(Ya)}(Io),Jr=Fr.message;void 0===_i&&(_i=Je.INTERNAL,Jr="Unknown error status: "+Io+" with message "+Fr.message),qe=!0,ft.oo(new D(_i,Jr)),J.close()}else dt(wo,`RPC '${e}' stream ${u} received:`,di),ft.uo(di)}}),Mt(T,vo.STAT_EVENT,en=>{en.stat===No.PROXY?dt(wo,`RPC '${e}' stream ${u} detected buffering proxy`):en.stat===No.NOPROXY&&dt(wo,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{ft.ro()},0),ft}}function Ql(){return typeof document<"u"?document:null}function Xl(i){return new jh(i,!0)}class Jd{constructor(e,t,o=1e3,u=1.5,l=6e4){this.Ys=e,this.timerId=t,this.po=o,this.Io=u,this.To=l,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),o=Math.max(0,Date.now()-this.Ro),u=Math.max(0,t-o);u>0&&dt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,u,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class Tf{constructor(e,t,o,u,l,m,T,N){this.Ys=e,this.So=o,this.Do=u,this.connection=l,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=T,this.listener=N,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Jd(e,t)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,y.Z)(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,y.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var o=this;return(0,y.Z)(function*(){o.Uo(),o.Ko(),o.ko.cancel(),o.Co++,4!==e?o.ko.reset():t&&t.code===Je.RESOURCE_EXHAUSTED?(jr(t.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),o.ko.Po()):t&&t.code===Je.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Go(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Co===t&&this.jo(o,u)},o=>{e(()=>{const u=new D(Je.UNKNOWN,"Fetching auth token failed: "+o.message);return this.zo(u)})})}jo(e,t){const o=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{o(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(u=>{o(()=>this.zo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.ko.vo((0,y.Z)(function*(){e.state=0,e.start()}))}zo(e){return dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sf extends Tf{constructor(e,t,o,u,l,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,m),this.Tt=l}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function zh(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:rn(),u=e.targetChange.targetIds||[],l=function(N,H){return N.yt?(cn(void 0===H||"string"==typeof H),Qi.fromBase64String(H||"")):(cn(void 0===H||H instanceof Uint8Array),Qi.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,T=m&&function(N){const H=void 0===N.code?Je.UNKNOWN:Lc(N.code);return new D(H,N.message||"")}(m);t=new Bh(o,u,l,T||null)}else if("documentChange"in e){const o=e.documentChange,u=za(i,o.document.name),l=gs(o.document.updateTime),m=o.document.createTime?gs(o.document.createTime):gt.min(),T=new Ps({mapValue:{fields:o.document.fields}}),N=wi.newFoundDocument(u,l,m,T);t=new xl(o.targetIds||[],o.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const o=e.documentDelete,u=za(i,o.document),l=o.readTime?gs(o.readTime):gt.min(),m=wi.newNoDocument(u,l);t=new xl([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,u=za(i,o.document);t=new xl([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return rn();{const o=e.filter,l=new xd(o.count||0);t=new Uh(o.targetId,l)}}var N;return t}(this.Tt,e),o=function(u){if(!("targetChange"in u))return gt.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?gt.min():l.readTime?gs(l.readTime):gt.min()}(e);return this.listener.Ho(t,o)}Jo(e){const t={};t.database=cu(this.Tt),t.addTarget=function(u,l){let m;const T=l.target;return m=Tl(T)?{documents:Fd(u,T)}:{query:Ud(u,T)},m.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?m.resumeToken=jp(u,l.resumeToken):l.snapshotVersion.compareTo(gt.min())>0&&(m.readTime=uu(u,l.snapshotVersion.toTimestamp())),m}(this.Tt,e);const o=function Kp(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.qo(t)}Yo(e){const t={};t.database=cu(this.Tt),t.removeTarget=e,this.qo(t)}}class jv extends Tf{constructor(e,t,o,u,l,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,m),this.Tt=l,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function Ld(i,e){return i&&i.length>0?(cn(void 0!==e),i.map(t=>function(o,u){let l=gs(o.updateTime?o.updateTime:u);return l.isEqual(gt.min())&&(l=gs(u)),new ne(l,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=gs(e.commitTime);return this.listener.eu(o,t)}return cn(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=cu(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function Nl(i,e){let t;if(e instanceof pa)t={update:Wp(i,e.key,e.value)};else if(e instanceof su)t={delete:Uc(i,e.key)};else if(e instanceof ga)t={update:Wp(i,e.key,e.data),updateMask:$c(e.fieldMask)};else{if(!(e instanceof Ru))return rn();t={verify:Uc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const m=l.transform;if(m instanceof Hi)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ha)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof b)return{fieldPath:l.field.canonicalString(),increment:m.It};throw rn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Hp(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:rn()),t;var u}(this.Tt,o))};this.qo(t)}}class Cf extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.Tt=u,this.iu=!1}ru(){if(this.iu)throw new D(Je.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,o){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.lo(e,t,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new D(Je.UNKNOWN,u.toString())})}mo(e,t,o,u){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,m])=>this.connection.mo(e,t,o,l,m,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new D(Je.UNKNOWN,l.toString())})}terminate(){this.iu=!0}}class el{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(jr(t),this.cu=!1):dt("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class kg{constructor(e,t,o,u,l){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=l,this.yu.Gr(T=>{o.enqueueAndForget((0,y.Z)(function*(){var N;fu(m)&&(dt("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,y.Z)(function*(H){const J=jt(H);J.mu.add(4),yield tl(J),J.pu.set("Unknown"),J.mu.delete(4),yield Jl(J)}),function(H){return N.apply(this,arguments)})(m))}))}),this.pu=new el(o,u)}}function Jl(i){return eh.apply(this,arguments)}function eh(){return eh=(0,y.Z)(function*(i){if(fu(i))for(const e of i.gu)yield e(!0)}),eh.apply(this,arguments)}function tl(i){return Af.apply(this,arguments)}function Af(){return Af=(0,y.Z)(function*(i){for(const e of i.gu)yield e(!1)}),Af.apply(this,arguments)}function hc(i,e){const t=jt(i);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),rl(t)?td(t):il(t).Mo()&&ed(t,e))}function hu(i,e){const t=jt(i),o=il(t);t.wu.delete(e),o.Mo()&&nl(t,e),0===t.wu.size&&(o.Mo()?o.Bo():fu(t)&&t.pu.set("Unknown"))}function ed(i,e){i.Iu.Ot(e.targetId),il(i).Jo(e)}function nl(i,e){i.Iu.Ot(e),il(i).Yo(e)}function td(i){i.Iu=new Vp({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>i.wu.get(e)||null}),il(i).start(),i.pu.au()}function rl(i){return fu(i)&&!il(i).$o()&&i.wu.size>0}function fu(i){return 0===jt(i).mu.size}function th(i){i.Iu=void 0}function Mf(i){return nd.apply(this,arguments)}function nd(){return nd=(0,y.Z)(function*(i){i.wu.forEach((e,t)=>{ed(i,e)})}),nd.apply(this,arguments)}function Lg(i,e){return rd.apply(this,arguments)}function rd(){return rd=(0,y.Z)(function*(i,e){th(i),rl(i)?(i.pu.fu(e),td(i)):i.pu.set("Unknown")}),rd.apply(this,arguments)}function py(i,e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,y.Z)(function*(i,e,t){if(i.pu.set("Online"),e instanceof Bh&&2===e.state&&e.cause)try{yield(o=(0,y.Z)(function*(u,l){const m=l.cause;for(const T of l.targetIds)u.wu.has(T)&&(yield u.remoteSyncer.rejectListen(T,m),u.wu.delete(T),u.Iu.removeTarget(T))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield id(i,o)}else if(e instanceof xl?i.Iu.Qt(e):e instanceof Uh?i.Iu.Zt(e):i.Iu.Wt(e),!t.isEqual(gt.min()))try{const o=yield yf(i.localStore);t.compareTo(o)>=0&&(yield function(u,l){const m=u.Iu.ee(l);return m.targetChanges.forEach((T,N)=>{if(T.resumeToken.approximateByteSize()>0){const H=u.wu.get(N);H&&u.wu.set(N,H.withResumeToken(T.resumeToken,l))}}),m.targetMismatches.forEach(T=>{const N=u.wu.get(T);if(!N)return;u.wu.set(T,N.withResumeToken(Qi.EMPTY_BYTE_STRING,N.snapshotVersion)),nl(u,T);const H=new Nu(N.target,T,1,N.sequenceNumber);ed(u,H)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t))}catch(o){dt("RemoteStore","Failed to raise snapshot:",o),yield id(i,o)}var o}),Rf.apply(this,arguments)}function id(i,e,t){return xf.apply(this,arguments)}function xf(){return xf=(0,y.Z)(function*(i,e,t){if(!qn(e))throw e;i.mu.add(1),yield tl(i),i.pu.set("Offline"),t||(t=()=>yf(i.localStore)),i.asyncQueue.enqueueRetryable((0,y.Z)(function*(){dt("RemoteStore","Retrying IndexedDB access"),yield t(),i.mu.delete(1),yield Jl(i)}))}),xf.apply(this,arguments)}function Pf(i,e){return e().catch(t=>id(i,t,e))}function fc(i){return Of.apply(this,arguments)}function Of(){return Of=(0,y.Z)(function*(i){const e=jt(i),t=Vu(e);let o=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;gy(e);)try{const u=yield Cg(e.localStore,o);if(null===u){0===e._u.length&&t.Bo();break}o=u.batchId,ma(e,u)}catch(u){yield id(e,u)}Nf(e)&&Fg(e)}),Of.apply(this,arguments)}function gy(i){return fu(i)&&i._u.length<10}function ma(i,e){i._u.push(e);const t=Vu(i);t.Mo()&&t.Xo&&t.tu(e.mutations)}function Nf(i){return fu(i)&&!Vu(i).$o()&&i._u.length>0}function Fg(i){Vu(i).start()}function Hv(i){return sd.apply(this,arguments)}function sd(){return sd=(0,y.Z)(function*(i){Vu(i).su()}),sd.apply(this,arguments)}function Ug(i){return kf.apply(this,arguments)}function kf(){return kf=(0,y.Z)(function*(i){const e=Vu(i);for(const t of i._u)e.tu(t.mutations)}),kf.apply(this,arguments)}function my(i,e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,y.Z)(function*(i,e,t){const o=i._u.shift(),u=Vd.from(o,e,t);yield Pf(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield fc(i)}),Lf.apply(this,arguments)}function Bg(i,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,y.Z)(function*(i,e){var t;e&&Vu(i).Xo&&(yield(t=(0,y.Z)(function*(o,u){if(function Pd(i){switch(i){default:return rn();case Je.CANCELLED:case Je.UNKNOWN:case Je.DEADLINE_EXCEEDED:case Je.RESOURCE_EXHAUSTED:case Je.INTERNAL:case Je.UNAVAILABLE:case Je.UNAUTHENTICATED:return!1;case Je.INVALID_ARGUMENT:case Je.NOT_FOUND:case Je.ALREADY_EXISTS:case Je.PERMISSION_DENIED:case Je.FAILED_PRECONDITION:case Je.ABORTED:case Je.OUT_OF_RANGE:case Je.UNIMPLEMENTED:case Je.DATA_LOSS:return!0}}(l=u.code)&&l!==Je.ABORTED){const m=o._u.shift();Vu(o).Fo(),yield Pf(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,u)),yield fc(o)}var l}),function(o,u){return t.apply(this,arguments)})(i,e)),Nf(i)&&Fg(i)}),Ff.apply(this,arguments)}function Vg(i,e){return od.apply(this,arguments)}function od(){return od=(0,y.Z)(function*(i,e){const t=jt(i);t.asyncQueue.verifyOperationInProgress(),dt("RemoteStore","RemoteStore received new credentials");const o=fu(t);t.mu.add(3),yield tl(t),o&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield Jl(t)}),od.apply(this,arguments)}function Bf(){return Bf=(0,y.Z)(function*(i,e){const t=jt(i);e?(t.mu.delete(2),yield Jl(t)):e||(t.mu.add(2),yield tl(t),t.pu.set("Unknown"))}),Bf.apply(this,arguments)}function il(i){return i.Tu||(i.Tu=function(e,t,o){const u=jt(e);return u.ru(),new Sf(t,u.connection,u.authCredentials,u.appCheckCredentials,u.Tt,o)}(i.datastore,i.asyncQueue,{Xr:Mf.bind(null,i),no:Lg.bind(null,i),Ho:py.bind(null,i)}),i.gu.push(function(){var e=(0,y.Z)(function*(t){t?(i.Tu.Fo(),rl(i)?td(i):i.pu.set("Unknown")):(yield i.Tu.stop(),th(i))});return function(t){return e.apply(this,arguments)}}())),i.Tu}function Vu(i){return i.Eu||(i.Eu=function(e,t,o){const u=jt(e);return u.ru(),new jv(t,u.connection,u.authCredentials,u.appCheckCredentials,u.Tt,o)}(i.datastore,i.asyncQueue,{Xr:Hv.bind(null,i),no:Bg.bind(null,i),nu:Ug.bind(null,i),eu:my.bind(null,i)}),i.gu.push(function(){var e=(0,y.Z)(function*(t){t?(i.Eu.Fo(),yield fc(i)):(yield i.Eu.stop(),i._u.length>0&&(dt("RemoteStore",`Stopping write stream with ${i._u.length} pending writes`),i._u=[]))});return function(t){return e.apply(this,arguments)}}())),i.Eu}class Vf{constructor(e,t,o,u,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new U,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,o,u,l){const m=Date.now()+o,T=new Vf(e,t,m,u,l);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(Je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jo(i,e){if(jr("AsyncQueue",`${e}: ${i}`),qn(i))return new D(Je.UNAVAILABLE,`${e}: ${i}`);throw i}class $u{constructor(e){this.comparator=e?(t,o)=>e(t,o)||At.comparator(t.key,o.key):(t,o)=>At.comparator(t.key,o.key),this.keyedMap=tc(),this.sortedSet=new Qr(this.comparator)}static emptySet(e){return new $u(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $u)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new $u;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class $g{constructor(){this.Au=new Qr(At.comparator)}track(e){const t=e.doc.key,o=this.Au.get(t);o?0!==e.type&&3===o.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==o.type?this.Au=this.Au.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Au=this.Au.remove(t):1===e.type&&2===o.type?this.Au=this.Au.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):rn():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,o)=>{e.push(o)}),e}}class sl{constructor(e,t,o,u,l,m,T,N,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=m,this.syncStateChanged=T,this.excludesMetadataChanges=N,this.hasCachedResults=H}static fromInitialDocuments(e,t,o,u,l){const m=[];return t.forEach(T=>{m.push({type:0,doc:T})}),new sl(e,t,$u.emptySet(t),m,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class jg{constructor(){this.Pu=void 0,this.listeners=[]}}class yy{constructor(){this.queries=new ou(e=>Cl(e),Ju),this.onlineState="Unknown",this.vu=new Set}}function $f(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,y.Z)(function*(i,e){const t=jt(i),o=e.query;let u=!1,l=t.queries.get(o);if(l||(u=!0,l=new jg),u)try{l.Pu=yield t.onListen(o)}catch(m){const T=jo(m,`Initialization of query '${xc(e.query)}' failed`);return void e.onError(T)}t.queries.set(o,l),l.listeners.push(e),e.bu(t.onlineState),l.Pu&&e.Vu(l.Pu)&&ud(t)}),jf.apply(this,arguments)}function ad(i,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,y.Z)(function*(i,e){const t=jt(i),o=e.query;let u=!1;const l=t.queries.get(o);if(l){const m=l.listeners.indexOf(e);m>=0&&(l.listeners.splice(m,1),u=0===l.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Hf.apply(this,arguments)}function vy(i,e){const t=jt(i);let o=!1;for(const u of e){const m=t.queries.get(u.query);if(m){for(const T of m.listeners)T.Vu(u)&&(o=!0);m.Pu=u}}o&&ud(t)}function nh(i,e,t){const o=jt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(t);o.queries.delete(e)}function ud(i){i.vu.forEach(e=>{e.next()})}class ol{constructor(e,t,o){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=o||{}}Vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new sl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.$u||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class Gf{constructor(e){this.key=e}}class Wf{constructor(e){this.key=e}}class Kf{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=er(),this.mutatedKeys=er(),this.ju=Ad(e),this.zu=new $u(this.ju)}get Wu(){return this.Ku}Hu(e,t){const o=t?t.Ju:new $g,u=t?t.zu:this.zu;let l=t?t.mutatedKeys:this.mutatedKeys,m=u,T=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,H="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((J,Ie)=>{const qe=u.get(J),ft=ja(this.query,Ie)?Ie:null,Mt=!!qe&&this.mutatedKeys.has(qe.key),en=!!ft&&(ft.hasLocalMutations||this.mutatedKeys.has(ft.key)&&ft.hasCommittedMutations);let wn=!1;qe&&ft?qe.data.isEqual(ft.data)?Mt!==en&&(o.track({type:3,doc:ft}),wn=!0):this.Yu(qe,ft)||(o.track({type:2,doc:ft}),wn=!0,(N&&this.ju(ft,N)>0||H&&this.ju(ft,H)<0)&&(T=!0)):!qe&&ft?(o.track({type:0,doc:ft}),wn=!0):qe&&!ft&&(o.track({type:1,doc:qe}),wn=!0,(N||H)&&(T=!0)),wn&&(ft?(m=m.add(ft),l=en?l.add(J):l.delete(J)):(m=m.delete(J),l=l.delete(J)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const J="F"===this.query.limitType?m.last():m.first();m=m.delete(J.key),l=l.delete(J.key),o.track({type:1,doc:J})}return{zu:m,Ju:o,Li:T,mutatedKeys:l}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const l=e.Ju.Ru();l.sort((H,J)=>function(Ie,qe){const ft=Mt=>{switch(Mt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rn()}};return ft(Ie)-ft(qe)}(H.type,J.type)||this.ju(H.doc,J.doc)),this.Zu(o);const m=t?this.Xu():[],T=0===this.Qu.size&&this.current?1:0,N=T!==this.Gu;return this.Gu=T,0!==l.length||N?{snapshot:new sl(this.query,e.zu,u,l,e.mutatedKeys,0===T,N,!1,!!o&&o.resumeToken.approximateByteSize()>0),tc:m}:{tc:m}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new $g,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=er(),this.zu.forEach(o=>{this.ec(o.key)&&(this.Qu=this.Qu.add(o.key))});const t=[];return e.forEach(o=>{this.Qu.has(o)||t.push(new Wf(o))}),this.Qu.forEach(o=>{e.has(o)||t.push(new Gf(o))}),t}nc(e){this.Ku=e.Yi,this.Qu=er();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return sl.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class qf{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Iu{constructor(e){this.key=e,this.ic=!1}}class ih{constructor(e,t,o,u,l,m){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=m,this.rc={},this.oc=new ou(T=>Cl(T),Ju),this.uc=new Map,this.cc=new Set,this.ac=new Qr(At.comparator),this.hc=new Map,this.lc=new _g,this.fc={},this.dc=new Map,this._c=ac.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function sh(i,e){return pc.apply(this,arguments)}function pc(){return pc=(0,y.Z)(function*(i,e){const t=function Hu(i){const e=jt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=zg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=by.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ey.bind(null,e),e.rc.Ho=vy.bind(null,e.eventManager),e.rc.gc=nh.bind(null,e.eventManager),e}(i);let o,u;const l=t.oc.get(e);if(l)o=l.targetId,t.sharedClientState.addLocalQueryTarget(o),u=l.view.sc();else{const m=yield function Jc(i,e){const t=jt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Ns.getTargetData(o,e).next(l=>l?(u=l,Ue.resolve(u)):t.Ns.allocateTargetId(o).next(m=>(u=new Nu(e,m,0,o.currentSequenceNumber),t.Ns.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ki.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(o.targetId,o),t.Gi.set(e,o.targetId)),o})}(t.localStore,Ws(e));t.isPrimaryClient&&hc(t.remoteStore,m);const T=t.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,u=yield function Zf(i,e,t,o,u){return oh.apply(this,arguments)}(t,e,o,"current"===T,m.resumeToken)}return u}),pc.apply(this,arguments)}function oh(){return oh=(0,y.Z)(function*(i,e,t,o,u){i.mc=(Ie,qe,ft)=>{return(Mt=(0,y.Z)(function*(en,wn,di,Ds){let Fr=wn.view.Hu(di);Fr.Li&&(Fr=yield Yd(en.localStore,wn.query,!1).then(({documents:Jr})=>wn.view.Hu(Jr,Fr)));const Io=Ds&&Ds.targetChanges.get(wn.targetId),_i=wn.view.applyChanges(Fr,en.isPrimaryClient,Io);return tp(en,wn.targetId,_i.tc),_i.snapshot}),function(en,wn,di,Ds){return Mt.apply(this,arguments)})(i,Ie,qe,ft);var Mt};const l=yield Yd(i.localStore,e,!0),m=new Kf(e,l.Yi),T=m.Hu(l.documents),N=Rl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),H=m.applyChanges(T,i.isPrimaryClient,N);tp(i,t,H.tc);const J=new qf(e,t,m);return i.oc.set(e,J),i.uc.has(t)?i.uc.get(t).push(e):i.uc.set(t,[e]),H.snapshot}),oh.apply(this,arguments)}function Hg(i,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,y.Z)(function*(i,e){const t=jt(i),o=t.oc.get(e),u=t.uc.get(o.targetId);if(u.length>1)return t.uc.set(o.targetId,u.filter(l=>!Ju(l,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield lc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),hu(t.remoteStore,o.targetId),al(t,o.targetId)}).catch(pn))):(al(t,o.targetId),yield lc(t.localStore,o.targetId,!0))}),Yf.apply(this,arguments)}function gc(){return gc=(0,y.Z)(function*(i,e,t){const o=function zu(i){const e=jt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iy.bind(null,e),e}(i);try{const u=yield function(l,m){const T=jt(l),N=Wt.now(),H=m.reduce((qe,ft)=>qe.add(ft.key),er());let J,Ie;return T.persistence.runTransaction("Locally write mutations","readwrite",qe=>{let ft=Eo(),Mt=er();return T.ji.getEntries(qe,H).next(en=>{ft=en,ft.forEach((wn,di)=>{di.isValidDocument()||(Mt=Mt.add(wn))})}).next(()=>T.localDocuments.getOverlayedDocuments(qe,ft)).next(en=>{J=en;const wn=[];for(const di of m){const Ds=Aa(di,J.get(di.key).overlayedDocument);null!=Ds&&wn.push(new ga(di.key,Ds,Tc(Ds.value.mapValue),$e.exists(!0)))}return T.mutationQueue.addMutationBatch(qe,N,wn,m)}).next(en=>{Ie=en;const wn=en.applyToLocalDocumentSet(J,Mt);return T.documentOverlayCache.saveOverlays(qe,en.batchId,wn)})}).then(()=>({batchId:Ie.batchId,changes:Up(J)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,m,T){let N=l.fc[l.currentUser.toKey()];N||(N=new Qr(rt)),N=N.insert(m,T),l.fc[l.currentUser.toKey()]=N}(o,u.batchId,t),yield Du(o,u.changes),yield fc(o.remoteStore)}catch(u){const l=jo(u,"Failed to persist write");t.reject(l)}}),gc.apply(this,arguments)}function zg(i,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,y.Z)(function*(i,e){const t=jt(i);try{const o=yield function ay(i,e){const t=jt(i),o=e.snapshotVersion;let u=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const m=t.ji.newChangeBuffer({trackRemovals:!0});u=t.Ki;const T=[];e.targetChanges.forEach((J,Ie)=>{const qe=u.get(Ie);if(!qe)return;T.push(t.Ns.removeMatchingKeys(l,J.removedDocuments,Ie).next(()=>t.Ns.addMatchingKeys(l,J.addedDocuments,Ie)));let ft=qe.withSequenceNumber(l.currentSequenceNumber);var Mt,en,wn;e.targetMismatches.has(Ie)?ft=ft.withResumeToken(Qi.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):J.resumeToken.approximateByteSize()>0&&(ft=ft.withResumeToken(J.resumeToken,o)),u=u.insert(Ie,ft),en=ft,wn=J,(0===(Mt=qe).resumeToken.approximateByteSize()||en.snapshotVersion.toMicroseconds()-Mt.snapshotVersion.toMicroseconds()>=3e8||wn.addedDocuments.size+wn.modifiedDocuments.size+wn.removedDocuments.size>0)&&T.push(t.Ns.updateTargetData(l,ft))});let N=Eo(),H=er();if(e.documentUpdates.forEach(J=>{e.resolvedLimboDocuments.has(J)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(l,J))}),T.push(function Sg(i,e,t){let o=er(),u=er();return t.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let m=Eo();return t.forEach((T,N)=>{const H=l.get(T);N.isFoundDocument()!==H.isFoundDocument()&&(u=u.add(T)),N.isNoDocument()&&N.version.isEqual(gt.min())?(e.removeEntry(T,N.readTime),m=m.insert(T,N)):!H.isValidDocument()||N.version.compareTo(H.version)>0||0===N.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(N),m=m.insert(T,N)):dt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",N.version)}),{Hi:m,Ji:u}})}(l,m,e.documentUpdates).next(J=>{N=J.Hi,H=J.Ji})),!o.isEqual(gt.min())){const J=t.Ns.getLastRemoteSnapshotVersion(l).next(Ie=>t.Ns.setTargetsMetadata(l,l.currentSequenceNumber,o));T.push(J)}return Ue.waitFor(T).next(()=>m.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,N,H)).next(()=>N)}).then(l=>(t.Ki=u,l))}(t.localStore,e);e.targetChanges.forEach((u,l)=>{const m=t.hc.get(l);m&&(cn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.ic=!0:u.modifiedDocuments.size>0?cn(m.ic):u.removedDocuments.size>0&&(cn(m.ic),m.ic=!1))}),yield Du(t,o,e)}catch(o){yield pn(o)}}),Gg.apply(this,arguments)}function Wg(i,e,t){const o=jt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.oc.forEach((l,m)=>{const T=m.view.bu(e);T.snapshot&&u.push(T.snapshot)}),function(l,m){const T=jt(l);T.onlineState=m;let N=!1;T.queries.forEach((H,J)=>{for(const Ie of J.listeners)Ie.bu(m)&&(N=!0)}),N&&ud(T)}(o.eventManager,e),u.length&&o.rc.Ho(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Ey(i,e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,y.Z)(function*(i,e,t){const o=jt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.hc.get(e),l=u&&u.key;if(l){let m=new Qr(At.comparator);m=m.insert(l,wi.newNoDocument(l,gt.min()));const T=er().add(l),N=new xu(gt.min(),new Map,new Er(rt),m,T);yield zg(o,N),o.ac=o.ac.remove(l),o.hc.delete(e),np(o)}else yield lc(o.localStore,e,!1).then(()=>al(o,e,t)).catch(pn)}),Qf.apply(this,arguments)}function wy(i,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,y.Z)(function*(i,e){const t=jt(i),o=e.batch.batchId;try{const u=yield function Tg(i,e){const t=jt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=t.ji.newChangeBuffer({trackRemovals:!0});return function(m,T,N,H){const J=N.batch,Ie=J.keys();let qe=Ue.resolve();return Ie.forEach(ft=>{qe=qe.next(()=>H.getEntry(T,ft)).next(Mt=>{const en=N.docVersions.get(ft);cn(null!==en),Mt.version.compareTo(en)<0&&(J.applyToRemoteDocument(Mt,N),Mt.isValidDocument()&&(Mt.setReadTime(N.commitVersion),H.addEntry(Mt)))})}),qe.next(()=>m.mutationQueue.removeMutationBatch(T,J))}(t,o,e,l).next(()=>l.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(m){let T=er();for(let N=0;N<m.mutationResults.length;++N)m.mutationResults[N].transformResults.length>0&&(T=T.add(m.batch.mutations[N].key));return T}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}(t.localStore,e);ld(t,o,null),ep(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Du(t,u)}catch(u){yield pn(u)}}),Xf.apply(this,arguments)}function Iy(i,e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,y.Z)(function*(i,e,t){const o=jt(i);try{const u=yield function(l,m){const T=jt(l);return T.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let H;return T.mutationQueue.lookupMutationBatch(N,m).next(J=>(cn(null!==J),H=J.keys(),T.mutationQueue.removeMutationBatch(N,J))).next(()=>T.mutationQueue.performConsistencyCheck(N)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(N,H,m)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,H)).next(()=>T.localDocuments.getDocuments(N,H))})}(o.localStore,e);ld(o,e,t),ep(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Du(o,u)}catch(u){yield pn(u)}}),Jf.apply(this,arguments)}function ep(i,e){(i.dc.get(e)||[]).forEach(t=>{t.resolve()}),i.dc.delete(e)}function ld(i,e,t){const o=jt(i);let u=o.fc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(t?l.reject(t):l.resolve(),u=u.remove(e)),o.fc[o.currentUser.toKey()]=u}}function al(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.uc.get(e))i.oc.delete(o),t&&i.rc.gc(o,t);i.uc.delete(e),i.isPrimaryClient&&i.lc.ds(e).forEach(o=>{i.lc.containsKey(o)||qg(i,o)})}function qg(i,e){i.cc.delete(e.path.canonicalString());const t=i.ac.get(e);null!==t&&(hu(i.remoteStore,t),i.ac=i.ac.remove(e),i.hc.delete(t),np(i))}function tp(i,e,t){for(const o of t)o instanceof Gf?(i.lc.addReference(o.key,e),Dy(i,o)):o instanceof Wf?(dt("SyncEngine","Document no longer in limbo: "+o.key),i.lc.removeReference(o.key,e),i.lc.containsKey(o.key)||qg(i,o.key)):rn()}function Dy(i,e){const t=e.key,o=t.path.canonicalString();i.ac.get(t)||i.cc.has(o)||(dt("SyncEngine","New document in limbo: "+t),i.cc.add(o),np(i))}function np(i){for(;i.cc.size>0&&i.ac.size<i.maxConcurrentLimboResolutions;){const e=i.cc.values().next().value;i.cc.delete(e);const t=new At(Xt.fromString(e)),o=i._c.next();i.hc.set(o,new Iu(t)),i.ac=i.ac.insert(t,o),hc(i.remoteStore,new Nu(Ws(Xu(t.path)),o,2,Mi.at))}}function Du(i,e,t){return rp.apply(this,arguments)}function rp(){return rp=(0,y.Z)(function*(i,e,t){const o=jt(i),u=[],l=[],m=[];var T;o.oc.isEmpty()||(o.oc.forEach((T,N)=>{m.push(o.mc(N,e,t).then(H=>{if((H||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(N.targetId,H?.fromCache?"not-current":"current"),H){u.push(H);const J=qd.Ni(N.targetId,H);l.push(J)}}))}),yield Promise.all(m),o.rc.Ho(u),yield(T=(0,y.Z)(function*(N,H){const J=jt(N);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>Ue.forEach(H,qe=>Ue.forEach(qe.Ci,ft=>J.persistence.referenceDelegate.addReference(Ie,qe.targetId,ft)).next(()=>Ue.forEach(qe.xi,ft=>J.persistence.referenceDelegate.removeReference(Ie,qe.targetId,ft)))))}catch(Ie){if(!qn(Ie))throw Ie;dt("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of H){const qe=Ie.targetId;if(!Ie.fromCache){const ft=J.Ki.get(qe),en=ft.withLastLimboFreeSnapshotVersion(ft.snapshotVersion);J.Ki=J.Ki.insert(qe,en)}}}),function(N,H){return T.apply(this,arguments)})(o.localStore,l))}),rp.apply(this,arguments)}function Zg(i,e){return ah.apply(this,arguments)}function ah(){return ah=(0,y.Z)(function*(i,e){const t=jt(i);if(!t.currentUser.isEqual(e)){dt("SyncEngine","User change. New user:",e.toKey());const o=yield Zn(t.localStore,e);t.currentUser=e,(u=t).dc.forEach(m=>{m.forEach(T=>{T.reject(new D(Je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.dc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Du(t,o.Wi)}var u}),ah.apply(this,arguments)}function by(i,e){const t=jt(i),o=t.hc.get(e);if(o&&o.ic)return er().add(o.key);{let u=er();const l=t.uc.get(e);if(!l)return u;for(const m of l){const T=t.oc.get(m);u=u.unionWith(T.view.Wu)}return u}}class ll{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,y.Z)(function*(){t.Tt=Xl(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return function bg(i,e,t,o){return new oy(i,e,t,o)}(this.persistence,new Dg,e.initialUser,this.Tt)}Tc(e){return new pf(Gd.qs,this.Tt)}Ic(e){return new xg}terminate(){var e=this;return(0,y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gu{initialize(e,t){var o=this;return(0,y.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Wg(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Zg.bind(null,o.syncEngine),yield function Uf(i,e){return Bf.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yy}createDatastore(e){const t=Xl(e.databaseInfo.databaseId),o=new hy(e.databaseInfo);return new Cf(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,l=T=>Wg(this.syncEngine,T,0),m=Yl.C()?new Yl:new Pg,new kg(t,o,u,l,m);var t,o,u,l,m}createSyncEngine(e,t){return function(o,u,l,m,T,N,H){const J=new ih(o,u,l,m,T,N);return H&&(J.wc=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,y.Z)(function*(t){const o=jt(t);dt("RemoteStore","RemoteStore shutting down."),o.mu.add(5),yield tl(o),o.yu.shutdown(),o.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class dd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Jg{constructor(e,t,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=$r.UNAUTHENTICATED,this.clientId=We.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,y.Z)(function*(T){dt("FirestoreClient","Received user=",T.uid),yield l.authCredentialListener(T),l.user=T});return function(T){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(dt("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(Je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new U;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=jo(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function lh(){return lh=(0,y.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),dt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,y.Z)(function*(l){o.isEqual(l)||(yield Zn(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),lh.apply(this,arguments)}function dh(){return dh=(0,y.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield function lp(i){return dp.apply(this,arguments)}(i);dt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Vg(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>Vg(e.remoteStore,l)),i.onlineComponents=e}),dh.apply(this,arguments)}function dp(){return dp=(0,y.Z)(function*(i){return i.offlineComponents||(dt("FirestoreClient","Using default OfflineComponentProvider"),yield function up(i,e){return lh.apply(this,arguments)}(i,new ll)),i.offlineComponents}),dp.apply(this,arguments)}function hd(i){return hp.apply(this,arguments)}function hp(){return hp=(0,y.Z)(function*(i){return i.onlineComponents||(dt("FirestoreClient","Using default OnlineComponentProvider"),yield function cp(i,e){return dh.apply(this,arguments)}(i,new Gu)),i.onlineComponents}),hp.apply(this,arguments)}function bu(i){return gd.apply(this,arguments)}function gd(){return gd=(0,y.Z)(function*(i){const e=yield hd(i),t=e.eventManager;return t.onListen=sh.bind(null,e.syncEngine),t.onUnlisten=Hg.bind(null,e.syncEngine),t}),gd.apply(this,arguments)}const gh=new Map;function yp(i,e,t){if(!t)throw new D(Je.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function vp(i){if(!At.isDocumentKey(i))throw new D(Je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function _p(i){if(At.isDocumentKey(i))throw new D(Je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function md(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":rn()}function Cr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new D(Je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=md(i);throw new D(Je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}class wp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new D(Je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(Je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function rm(i,e,t,o){if(!0===e&&!0===o)throw new D(Je.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pl{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(Je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(Je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new w;switch(t.type){case"gapi":return new B(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new D(Je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gh.get(e);t&&(dt("ComponentProvider","Removing Datastore"),gh.delete(e),t.terminate())}(this),Promise.resolve()}}class Ji{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ji(this.firestore,e,this._key)}}class Ks{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class qa extends Ks{constructor(e,t,o){super(e,t,Xu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ji(this.firestore,null,new At(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function im(i,e,...t){if(i=(0,ae.m9)(i),yp("collection","path",e),i instanceof pl){const o=Xt.fromString(e,...t);return _p(o),new qa(i,null,o)}{if(!(i instanceof Ji||i instanceof qa))throw new D(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xt.fromString(e,...t));return _p(o),new qa(i.firestore,null,o)}}function Dp(i,e,...t){if(i=(0,ae.m9)(i),1===arguments.length&&(e=We.R()),yp("doc","path",e),i instanceof pl){const o=Xt.fromString(e,...t);return vp(o),new Ji(i,null,new At(o))}{if(!(i instanceof Ji||i instanceof qa))throw new D(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xt.fromString(e,...t));return vp(o),new Ji(i.firestore,i instanceof qa?i.converter:null,new At(o))}}class mh{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Jd(this,"async_queue_retry"),this.Hc=()=>{const t=Ql();t&&dt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=Ql();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=Ql();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new U;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,y.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!qn(t))throw t;dt("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(o=>{throw this.Qc=o,this.jc=!1,jr("INTERNAL UNHANDLED ERROR: ",function(l){let m=l.message||"";return l.stack&&(m=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),m}(o)),o}).then(o=>(this.jc=!1,o))));return this.qc=t,t}enqueueAfterDelay(e,t,o){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const u=Vf.createAndSchedule(this,e,t,o,l=>this.Xc(l));return this.Gc.push(u),u}Jc(){this.Qc&&rn()}verifyOperationInProgress(){}ta(){var e=this;return(0,y.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function pu(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class vi extends pl{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new mh,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yh(this),this._firestoreClient.terminate()}}function Tp(i,e){const t="object"==typeof i?i:(0,V.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,V.qX)(t,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ae.P0)("firestore");l&&function Ip(i,e,t,o={}){var u;const l=(i=Cr(i,pl))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Hr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let m,T;if("string"==typeof o.mockUserToken)m=o.mockUserToken,T=$r.MOCK_USER;else{m=(0,ae.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const N=o.mockUserToken.sub||o.mockUserToken.user_id;if(!N)throw new D(Je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $r(N)}i._authCredentials=new f(new x(m,T))}}(u,...l)}return u}function Is(i){return i._firestoreClient||yh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function yh(i){var e;const t=i._freezeSettings(),o=(l=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ja(i._databaseId,l,i._persistenceKey,(T=t).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,T.useFetchStreams));var l,T;i._firestoreClient=new Jg(i._authCredentials,i._appCheckCredentials,i._queue,o)}class Wu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wu(Qi.fromBase64String(e))}catch(t){throw new D(Je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wu(Qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Za{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new D(Je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class am{constructor(e){this._methodName=e}}class vh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(Je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(Je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}}const Py=/^__.*__$/;class um{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new pa(e,this.data,t,this.fieldTransforms)}}function _h(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rn()}}class ml{constructor(e,t,o,u,l,m){this.settings=e,this.databaseId=t,this.Tt=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ia(),this.fieldTransforms=l||[],this.fieldMask=m||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new ml(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.oa({path:o,ca:!1});return u.aa(e),u}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.oa({path:o,ca:!1});return u.ia(),u}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return _c(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(_h(this.ra)&&Py.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class gu{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=o||Xl(e)}wa(e,t,o,u=!1){return new ml({ra:e,methodName:t,_a:o,path:xn.emptyPath(),ca:!1,da:u},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function yl(i){const e=i._freezeSettings(),t=Xl(i._databaseId);return new gu(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Eh(i,e,t,o,u,l={}){const m=i.wa(l.merge||l.mergeFields?2:0,e,t,u);wh("Data must be an object, but it was:",m,o);const T=vl(o,m);let N,H;if(l.merge)N=new uo(m.fieldMask),H=m.fieldTransforms;else if(l.mergeFields){const J=[];for(const Ie of l.mergeFields){const qe=vd(e,Ie,t);if(!m.contains(qe))throw new D(Je.INVALID_ARGUMENT,`Field '${qe}' is specified in your field mask but missing from your input data.`);mm(J,qe)||J.push(qe)}N=new uo(J),H=m.fieldTransforms.filter(Ie=>N.covers(Ie.field))}else N=null,H=m.fieldTransforms;return new um(new Ps(T),N,H)}function Tu(i,e){if(pm(i=(0,ae.m9)(i)))return wh("Unsupported field value:",e,i),vl(i,e);if(i instanceof am)return function(t,o){if(!_h(o.ra))throw o.fa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.fa(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,o){const u=[];let l=0;for(const m of t){let T=Tu(m,o.la(l));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),l++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,ae.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Al(o.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Wt.fromDate(t);return{timestampValue:uu(o.Tt,u)}}if(t instanceof Wt){const u=new Wt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:uu(o.Tt,u)}}if(t instanceof vh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wu)return{bytesValue:jp(o.Tt,t._byteString)};if(t instanceof Ji){const u=o.databaseId,l=t.firestore._databaseId;if(!l.isEqual(u))throw o.fa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hh(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.fa(`Unsupported field value: ${md(t)}`)}(i,e)}function vl(i,e){const t={};return Fa(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(i,(o,u)=>{const l=Tu(u,e.ua(o));null!=l&&(t[o]=l)}),{mapValue:{fields:t}}}function pm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Wt||i instanceof vh||i instanceof Wu||i instanceof Ji||i instanceof am)}function wh(i,e,t){if(!pm(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=md(t);throw e.fa("an object"===o?i+" a custom object":i+" "+o)}var o}function vd(i,e,t){if((e=(0,ae.m9)(e))instanceof Za)return e._internalPath;if("string"==typeof e)return _d(i,e);throw _c("Field path arguments must be of type string or ",i,!1,void 0,t)}const gm=new RegExp("[~\\*/\\[\\]]");function _d(i,e,t){if(e.search(gm)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Za(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function _c(i,e,t,o,u){const l=o&&!o.isEmpty(),m=void 0!==u;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let N="";return(l||m)&&(N+=" (found",l&&(N+=` in field ${o}`),m&&(N+=` in document ${u}`),N+=")"),new D(Je.INVALID_ARGUMENT,T+i+N)}function mm(i,e){return i.some(t=>t.isEqual(e))}class Ih{constructor(e,t,o,u,l){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ym(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_l("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ym extends Ih{data(){return super.data()}}function _l(i,e){return"string"==typeof e?_d(i,e):e instanceof Za?e._internalPath:e._delegate._internalPath}function Ed(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new D(Je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dh{}class Cp extends Dh{}function vm(i,e,...t){let o=[];e instanceof Dh&&o.push(e),o=o.concat(t),function(u){const l=u.filter(T=>T instanceof Ec).length,m=u.filter(T=>T instanceof El).length;if(l>1||l>0&&m>0)throw new D(Je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class El extends Cp{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new El(e,t,o)}_apply(e){const t=this._parse(e);return Dm(e._query,t),new Ks(e.firestore,e.converter,Xo(e._query,t))}_parse(e){const t=yl(e.firestore);return function(u,l,m,T,N,H,J){let Ie;if(N.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new D(Je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Im(J,H);const qe=[];for(const ft of J)qe.push(wm(T,u,ft));Ie={arrayValue:{values:qe}}}else Ie=wm(T,u,J)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Im(J,H),Ie=function fm(i,e,t,o=!1){return Tu(t,i.wa(o?4:3,e))}(m,"where",J,"in"===H||"not-in"===H);return Pn.create(N,H,Ie)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function _m(i,e,t){const o=e,u=_l("where",i);return El._create(u,o,t)}class Ec extends Dh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ec(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,u){let l=o;const m=u.getFlattenedFilters();for(const T of m)Dm(l,T),l=Xo(l,T)}(e._query,t),new Ks(e.firestore,e.converter,Xo(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ap extends Cp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ap(e,t)}_apply(e){const t=function(o,u,l){if(null!==o.startAt)throw new D(Je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new D(Je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Qo(u,l);return function(T,N){if(null===Ac(T)){const H=Mu(T);null!==H&&bm(0,H,N.field)}}(o,m),m}(e._query,this._field,this._direction);return new Ks(e.firestore,e.converter,function(o,u){const l=o.explicitOrderBy.concat([u]);return new ru(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Fy(i,e="asc"){const t=e,o=_l("orderBy",i);return Ap._create(o,t)}function wm(i,e,t){if("string"==typeof(t=(0,ae.m9)(t))){if(""===t)throw new D(Je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mc(e)&&-1!==t.indexOf("/"))throw new D(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Xt.fromString(t));if(!At.isDocumentKey(o))throw new D(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return E(i,new At(o))}if(t instanceof Ji)return E(i,t._key);throw new D(Je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(t)}.`)}function Im(i,e){if(!Array.isArray(i)||0===i.length)throw new D(Je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dm(i,e){if(e.isInequality()){const o=Mu(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new D(Je.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=Ac(i);null!==l&&bm(0,u,l)}const t=function(o,u){for(const l of o)for(const m of l.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new D(Je.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function bm(i,e,t){if(!t.isEqual(e))throw new D(Je.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Uy{convertValue(e,t="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rn()}}convertObject(e,t){const o={};return da(e.fields,(u,l)=>{o[u]=this.convertValue(l,t)}),o}convertGeoPoint(e){return new vh(Lr(e.latitude),Lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Ba(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(so(e));default:return null}}convertTimestamp(e){const t=Zo(e);return new Wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Xt.fromString(e);cn(qp(o));const u=new io(o.get(1),o.get(3)),l=new At(o.popFirst(5));return u.isEqual(t)||jr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Ch(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wc extends Ih{constructor(e,t,o,u,l,m){super(e,t,o,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(_l("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class wd extends wc{data(e={}){return super.data(e)}}class qu{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Ku(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new wd(this._firestore,this._userDataWriter,o.key,o,new Ku(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new D(Je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new wd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ku(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||3!==m.type).map(m=>{const T=new wd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ku(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let N=-1,H=-1;return 0!==m.type&&(N=l.indexOf(m.doc.key),l=l.delete(m.doc.key)),1!==m.type&&(l=l.add(m.doc),H=l.indexOf(m.doc.key)),{type:Ic(m.type),doc:T,oldIndex:N,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ic(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rn()}}function zy(i){i=Cr(i,Ji);const e=Cr(i.firestore,vi);return function gp(i,e,t={}){const o=new U;return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(u,l,m,T,N){const H=new dd({next:Ie=>{l.enqueueAndForget(()=>ad(u,J));const qe=Ie.docs.has(m);!qe&&Ie.fromCache?N.reject(new D(Je.UNAVAILABLE,"Failed to get document because the client is offline.")):qe&&Ie.fromCache&&T&&"server"===T.source?N.reject(new D(Je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):N.resolve(Ie)},error:Ie=>N.reject(Ie)}),J=new ol(Xu(m.path),H,{includeMetadataChanges:!0,$u:!0});return $f(u,J)}(yield bu(i),i.asyncQueue,e,t,o)})),o.promise}(Is(e),i._key).then(t=>wl(e,i,t))}class va extends Uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,t)}}function a_(i){i=Cr(i,Ks);const e=Cr(i.firestore,vi),t=Is(e),o=new va(e);return Ed(i._query),function ph(i,e,t={}){const o=new U;return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(u,l,m,T,N){const H=new dd({next:Ie=>{l.enqueueAndForget(()=>ad(u,J)),Ie.fromCache&&"server"===T.source?N.reject(new D(Je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):N.resolve(Ie)},error:Ie=>N.reject(Ie)}),J=new ol(m,H,{includeMetadataChanges:!0,$u:!0});return $f(u,J)}(yield bu(i),i.asyncQueue,e,t,o)})),o.promise}(t,i._query).then(u=>new qu(e,o,i,u))}function u_(i,e,t){i=Cr(i,Ji);const o=Cr(i.firestore,vi),u=Ch(i.converter,e,t);return Dd(o,[Eh(yl(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,$e.none())])}function Ky(i,e){const t=Cr(i.firestore,vi),o=Dp(i),u=Ch(i.converter,e);return Dd(t,[Eh(yl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,$e.exists(!1))]).then(()=>o)}function qy(i,...e){var t,o,u;i=(0,ae.m9)(i);let l={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||pu(e[m])||(l=e[m],m++);const T={includeMetadataChanges:l.includeMetadataChanges};if(pu(e[m])){const Ie=e[m];e[m]=null===(t=Ie.next)||void 0===t?void 0:t.bind(Ie),e[m+1]=null===(o=Ie.error)||void 0===o?void 0:o.bind(Ie),e[m+2]=null===(u=Ie.complete)||void 0===u?void 0:u.bind(Ie)}let N,H,J;if(i instanceof Ji)H=Cr(i.firestore,vi),J=Xu(i._key.path),N={next:Ie=>{e[m]&&e[m](wl(H,i,Ie))},error:e[m+1],complete:e[m+2]};else{const Ie=Cr(i,Ks);H=Cr(Ie.firestore,vi),J=Ie._query;const qe=new va(H);N={next:ft=>{e[m]&&e[m](new qu(H,qe,Ie,ft))},error:e[m+1],complete:e[m+2]},Ed(i._query)}return function(Ie,qe,ft,Mt){const en=new dd(Mt),wn=new ol(qe,en,ft);return Ie.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return $f(yield bu(Ie),wn)})),()=>{en.bc(),Ie.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return ad(yield bu(Ie),wn)}))}}(Is(H),J,T,N)}function Dd(i,e){return function(t,o){const u=new U;return t.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function _y(i,e,t){return gc.apply(this,arguments)}(yield function pp(i){return hd(i).then(e=>e.syncEngine)}(t),o,u)})),u.promise}(Is(i),e)}function wl(i,e,t){const o=t.docs.get(e._key),u=new va(i);return new wc(i,u,e._key,o,new Ku(t.hasPendingWrites,t.fromCache),e.converter)}!function(i,e=!0){Rs=V.Jn,(0,V.Xd)(new X.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const l=t.getProvider("app").getImmediate(),m=new vi(new g(t.getProvider("auth-internal")),new he(t.getProvider("app-check-internal")),function(T,N){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new D(Je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(T.options.projectId,N)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),(0,V.KN)(ka,"3.9.0",i),(0,V.KN)(ka,"3.9.0","esm2017")}()},2090:(xt,Re,O)=>{O.d(Re,{$s:()=>ie,BH:()=>Ae,L:()=>q,LL:()=>ln,P0:()=>Ze,Pz:()=>de,Sg:()=>it,US:()=>ce,ZR:()=>Rn,aH:()=>Pe,b$:()=>on,eu:()=>_t,hl:()=>bt,m9:()=>lt,ne:()=>an,q4:()=>Ce,ru:()=>Pt,tV:()=>j,uI:()=>Me,vZ:()=>Cn,w1:()=>Ve,xO:()=>vr,xb:()=>Or,z$:()=>we,zI:()=>Bt});const se=function(ue){const oe=[];let Ee=0;for(let Ge=0;Ge<ue.length;Ge++){let Le=ue.charCodeAt(Ge);Le<128?oe[Ee++]=Le:Le<2048?(oe[Ee++]=Le>>6|192,oe[Ee++]=63&Le|128):55296==(64512&Le)&&Ge+1<ue.length&&56320==(64512&ue.charCodeAt(Ge+1))?(Le=65536+((1023&Le)<<10)+(1023&ue.charCodeAt(++Ge)),oe[Ee++]=Le>>18|240,oe[Ee++]=Le>>12&63|128,oe[Ee++]=Le>>6&63|128,oe[Ee++]=63&Le|128):(oe[Ee++]=Le>>12|224,oe[Ee++]=Le>>6&63|128,oe[Ee++]=63&Le|128)}return oe},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,oe){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ee=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ge=[];for(let Le=0;Le<ue.length;Le+=3){const Nt=ue[Le],fe=Le+1<ue.length,ve=fe?ue[Le+1]:0,te=Le+2<ue.length,be=te?ue[Le+2]:0;let Rt=(15&ve)<<2|be>>6,In=63&be;te||(In=64,fe||(Rt=64)),Ge.push(Ee[Nt>>2],Ee[(3&Nt)<<4|ve>>4],Ee[Rt],Ee[In])}return Ge.join("")},encodeString(ue,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(ue):this.encodeByteArray(se(ue),oe)},decodeString(ue,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(ue):function(ue){const oe=[];let Ee=0,Ge=0;for(;Ee<ue.length;){const Le=ue[Ee++];if(Le<128)oe[Ge++]=String.fromCharCode(Le);else if(Le>191&&Le<224){const Nt=ue[Ee++];oe[Ge++]=String.fromCharCode((31&Le)<<6|63&Nt)}else if(Le>239&&Le<365){const te=((7&Le)<<18|(63&ue[Ee++])<<12|(63&ue[Ee++])<<6|63&ue[Ee++])-65536;oe[Ge++]=String.fromCharCode(55296+(te>>10)),oe[Ge++]=String.fromCharCode(56320+(1023&te))}else{const Nt=ue[Ee++],fe=ue[Ee++];oe[Ge++]=String.fromCharCode((15&Le)<<12|(63&Nt)<<6|63&fe)}}return oe.join("")}(this.decodeStringToByteArray(ue,oe))},decodeStringToByteArray(ue,oe){this.init_();const Ee=oe?this.charToByteMapWebSafe_:this.charToByteMap_,Ge=[];for(let Le=0;Le<ue.length;){const Nt=Ee[ue.charAt(Le++)],ve=Le<ue.length?Ee[ue.charAt(Le)]:0;++Le;const be=Le<ue.length?Ee[ue.charAt(Le)]:64;++Le;const yt=Le<ue.length?Ee[ue.charAt(Le)]:64;if(++Le,null==Nt||null==ve||null==be||null==yt)throw new ee;Ge.push(Nt<<2|ve>>4),64!==be&&(Ge.push(ve<<4&240|be>>2),64!==yt&&Ge.push(be<<6&192|yt))}return Ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}};class ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q=function(ue){return function(ue){const oe=se(ue);return ce.encodeByteArray(oe,!0)}(ue).replace(/\./g,"")},j=function(ue){try{return ce.decodeString(ue,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null},He=()=>{try{return function je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ue=process.env.__FIREBASE_DEFAULTS__;return ue?JSON.parse(ue):void 0})()||(()=>{if(typeof document>"u")return;let ue;try{ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const oe=ue&&j(ue[1]);return oe&&JSON.parse(oe)})()}catch(ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ue}`)}},Ce=ue=>{var oe,Ee;return null===(Ee=null===(oe=He())||void 0===oe?void 0:oe.emulatorHosts)||void 0===Ee?void 0:Ee[ue]},Ze=ue=>{const oe=Ce(ue);if(!oe)return;const Ee=oe.lastIndexOf(":");if(Ee<=0||Ee+1===oe.length)throw new Error(`Invalid host ${oe} with no separate hostname and port!`);const Ge=parseInt(oe.substring(Ee+1),10);return"["===oe[0]?[oe.substring(1,Ee-1),Ge]:[oe.substring(0,Ee),Ge]},Pe=()=>{var ue;return null===(ue=He())||void 0===ue?void 0:ue.config},de=ue=>{var oe;return null===(oe=He())||void 0===oe?void 0:oe[`_${ue}`]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,Ee)=>{this.resolve=oe,this.reject=Ee})}wrapCallback(oe){return(Ee,Ge)=>{Ee?this.reject(Ee):this.resolve(Ge),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(Ee):oe(Ee,Ge))}}}function it(ue,oe){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ge=oe||"demo-project",Le=ue.iat||0,Nt=ue.sub||ue.user_id;if(!Nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const fe=Object.assign({iss:`https://securetoken.google.com/${Ge}`,aud:Ge,iat:Le,exp:Le+3600,auth_time:Le,sub:Nt,user_id:Nt,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[q(JSON.stringify({alg:"none",type:"JWT"})),q(JSON.stringify(fe)),""].join(".")}function we(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function Pt(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function on(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){const ue=we();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function bt(){try{return"object"==typeof indexedDB}catch{return!1}}function _t(){return new Promise((ue,oe)=>{try{let Ee=!0;const Ge="validate-browser-context-for-indexeddb-analytics-module",Le=self.indexedDB.open(Ge);Le.onsuccess=()=>{Le.result.close(),Ee||self.indexedDB.deleteDatabase(Ge),ue(!0)},Le.onupgradeneeded=()=>{Ee=!1},Le.onerror=()=>{var Nt;oe((null===(Nt=Le.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(Ee){oe(Ee)}})}function Bt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Rn extends Error{constructor(oe,Ee,Ge){super(Ee),this.code=oe,this.customData=Ge,this.name="FirebaseError",Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ln.prototype.create)}}class ln{constructor(oe,Ee,Ge){this.service=oe,this.serviceName=Ee,this.errors=Ge}create(oe,...Ee){const Ge=Ee[0]||{},Le=`${this.service}/${oe}`,Nt=this.errors[oe],fe=Nt?function un(ue,oe){return ue.replace(Dt,(Ee,Ge)=>{const Le=oe[Ge];return null!=Le?String(Le):`<${Ge}?>`})}(Nt,Ge):"Error";return new Rn(Le,`${this.serviceName}: ${fe} (${Le}).`,Ge)}}const Dt=/\{\$([^}]+)}/g;function Or(ue){for(const oe in ue)if(Object.prototype.hasOwnProperty.call(ue,oe))return!1;return!0}function Cn(ue,oe){if(ue===oe)return!0;const Ee=Object.keys(ue),Ge=Object.keys(oe);for(const Le of Ee){if(!Ge.includes(Le))return!1;const Nt=ue[Le],fe=oe[Le];if(Qt(Nt)&&Qt(fe)){if(!Cn(Nt,fe))return!1}else if(Nt!==fe)return!1}for(const Le of Ge)if(!Ee.includes(Le))return!1;return!0}function Qt(ue){return null!==ue&&"object"==typeof ue}function vr(ue){const oe=[];for(const[Ee,Ge]of Object.entries(ue))Array.isArray(Ge)?Ge.forEach(Le=>{oe.push(encodeURIComponent(Ee)+"="+encodeURIComponent(Le))}):oe.push(encodeURIComponent(Ee)+"="+encodeURIComponent(Ge));return oe.length?"&"+oe.join("&"):""}function an(ue,oe){const Ee=new Yt(ue,oe);return Ee.subscribe.bind(Ee)}class Yt{constructor(oe,Ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ee,this.task.then(()=>{oe(this)}).catch(Ge=>{this.error(Ge)})}next(oe){this.forEachObserver(Ee=>{Ee.next(oe)})}error(oe){this.forEachObserver(Ee=>{Ee.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,Ee,Ge){let Le;if(void 0===oe&&void 0===Ee&&void 0===Ge)throw new Error("Missing Observer.");Le=function $n(ue,oe){if("object"!=typeof ue||null===ue)return!1;for(const Ee of oe)if(Ee in ue&&"function"==typeof ue[Ee])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:Ee,complete:Ge},void 0===Le.next&&(Le.next=jn),void 0===Le.error&&(Le.error=jn),void 0===Le.complete&&(Le.complete=jn);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Le.error(this.finalError):Le.complete()}catch{}}),this.observers.push(Le),Nt}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let Ee=0;Ee<this.observers.length;Ee++)this.sendOne(Ee,oe)}sendOne(oe,Ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{Ee(this.observers[oe])}catch(Ge){typeof console<"u"&&console.error&&console.error(Ge)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jn(){}const Dn=1e3,ct=2,nt=144e5,De=.5;function ie(ue,oe=Dn,Ee=ct){const Ge=oe*Math.pow(Ee,ue),Le=Math.round(De*Ge*(Math.random()-.5)*2);return Math.min(nt,Ge+Le)}function lt(ue){return ue&&ue._delegate?ue._delegate:ue}},263:(xt,Re,O)=>{O.d(Re,{e:()=>q});var y=O(5861),V=O(5407),X=O(7158),se=O(4650),ae=O(2282),ce=O(1683),ee=O(8176),L=O(2569);let q=(()=>{class j{constructor(re,_e,je,ye,ot){this.auth=re,this.fireStore=_e,this.firebase=je,this.router=ye,this.loadingService=ot,this.currentUser=null,this.provider=new V._O,this.provider.setCustomParameters({display:"popup"})}get currentUserInfo(){return localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo"))}loginWithFacebook(){var re=this;(0,X.rh)(this.auth,this.provider).then(function(){var _e=(0,y.Z)(function*(je){re.loadingService.setLoading(!0),re.currentUser={uid:je.user.uid,displayName:je.user.displayName||"",photoUrl:je.user.photoURL||"",email:je.user.email||""};const ye={fieldName:"uid",operator:"==",compareValue:re.currentUser.uid};(yield re.firebase.getColectionByCondition("users",ye)).empty&&re.firebase.addDocument("users",re.currentUser),localStorage.setItem("userInfo",JSON.stringify(re.currentUser)),re.loadingService.setLoading(!1),re.router.navigate(["/"])});return function(je){return _e.apply(this,arguments)}}()).catch(_e=>{this.loadingService.setLoading(!1),console.log("Has error: ",_e)})}logout(){this.loadingService.setLoading(!0),(0,X.w7)(this.auth).then(()=>{this.loadingService.setLoading(!1),this.router.navigate(["/login"]),localStorage.removeItem("userInfo")}).catch(re=>{this.loadingService.setLoading(!1),console.log("Hass erorrs when logout: ",re)})}}return j.\u0275fac=function(re){return new(re||j)(se.LFG(X.gx),se.LFG(ae.gg),se.LFG(ce.O),se.LFG(ee.F0),se.LFG(L.b))},j.\u0275prov=se.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})()},1683:(xt,Re,O)=>{O.d(Re,{O:()=>ce});var y=O(5861),V=O(2282),X=O(5525),se=O(4650),ae=O(7158);let ce=(()=>{class ee{constructor(q,j){this.auth=q,this.fireStore=j}getCollection(q){return(0,X.hJ)(this.fireStore,q)}addDocument(q,j){return(0,V.ET)((0,X.hJ)(this.fireStore,q),j)}getColectionByCondition(q,j){var Y=this;return(0,y.Z)(function*(){const re=(0,X.hJ)(Y.fireStore,q),_e=(0,X.IO)(re,(0,X.ar)(j.fieldName,j.operator,j.compareValue));return yield(0,X.PL)(_e)})()}getDocById(q,j){var Y=this;return(0,y.Z)(function*(){const re=(0,V.JU)(Y.fireStore,q,j);return yield(0,V.QT)(re)})()}updateDocument(q,j,Y){const re=(0,V.JU)(this.fireStore,q,j);return(0,V.pl)(re,Y)}onSnapshotChange(q,j,Y,re){const _e=(0,X.hJ)(this.fireStore,q),je=(0,X.IO)(_e,(0,X.ar)(j.fieldName,j.operator,j.compareValue),(0,V.Xo)(Y.fieldName,Y.direciton));return(0,V.cf)(je,re)}onSnapshotChangeById(q,j,Y){const re=(0,V.JU)(this.fireStore,q,j);return(0,V.cf)(re,Y)}}return ee.\u0275fac=function(q){return new(q||ee)(se.LFG(ae.gx),se.LFG(V.gg))},ee.\u0275prov=se.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},2569:(xt,Re,O)=>{O.d(Re,{b:()=>X});var y=O(1135),V=O(4650);let X=(()=>{class se{constructor(){this.isLoading$=new y.X(!1)}get isLoading(){return this.isLoading$.asObservable()}setLoading(ce){this.isLoading$.next(ce)}}return se.\u0275fac=function(ce){return new(ce||se)},se.\u0275prov=V.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})()},4394:(xt,Re,O)=>{var y=O(4650),V=O(263),X=O(8176);let se=(()=>{class w{constructor(g,C){this.authService=g,this.router=C,this.canActivate=(B,Z)=>{const he=this.authService.currentUserInfo;return Z.url.includes("login")?!he||(this.router.navigate(["/"]),!1):!!he||(this.router.navigate(["/login"]),!1)}}}return w.\u0275fac=function(g){return new(g||w)(y.LFG(V.e),y.LFG(X.F0))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const ae=[{path:"login",canActivate:[(w,f)=>(0,y.f3M)(se).canActivate(w,f)],loadComponent:()=>Promise.all([O.e(616),O.e(902)]).then(O.bind(O,4902)).then(w=>w.LoginComponent)},{path:"",canActivate:[(w,f)=>(0,y.f3M)(se).canActivate(w,f)],loadComponent:()=>Promise.all([O.e(616),O.e(241)]).then(O.bind(O,5241)).then(w=>w.ChatComponent)}];var ce=O(2282),ee=O(7158),L=O(3692),q=O(2569),j=O(6895),Y=O(655),re=O(7579),_e=O(1135),je=O(4707),ye=O(5963),ot=O(8675),Se=O(1884),He=O(3900),Ce=O(4482),Ze=O(5032),Pe=O(5403),de=O(8421),it=O(2722),we=O(2536),Me=O(3187),Ke=O(445),Ft=O(9643);function Pt(w,f){1&w&&(y.TgZ(0,"span",3),y._UZ(1,"i",4)(2,"i",4)(3,"i",4)(4,"i",4),y.qZA())}function on(w,f){}function kt(w,f){if(1&w&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&w){const g=y.oxw(2);y.xp6(1),y.Oqu(g.nzTip)}}function Ve(w,f){if(1&w&&(y.TgZ(0,"div")(1,"div",5),y.YNc(2,on,0,0,"ng-template",6),y.YNc(3,kt,2,1,"div",7),y.qZA()()),2&w){const g=y.oxw(),C=y.MAs(1);y.xp6(1),y.ekj("ant-spin-rtl","rtl"===g.dir)("ant-spin-spinning",g.isLoading)("ant-spin-lg","large"===g.nzSize)("ant-spin-sm","small"===g.nzSize)("ant-spin-show-text",g.nzTip),y.xp6(1),y.Q6J("ngTemplateOutlet",g.nzIndicator||C),y.xp6(1),y.Q6J("ngIf",g.nzTip)}}function Ye(w,f){if(1&w&&(y.TgZ(0,"div",9),y.Hsn(1),y.qZA()),2&w){const g=y.oxw();y.ekj("ant-spin-blur",g.isLoading)}}const ut=["*"];let bt=(()=>{class w{constructor(g,C,B){this.nzConfigService=g,this.cdr=C,this.directionality=B,this._nzModuleName="spin",this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new re.x,this.spinning$=new _e.X(this.nzSpinning),this.delay$=new je.t(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){this.delay$.pipe((0,ot.O)(this.nzDelay),(0,Se.x)(),(0,He.w)(C=>0===C?this.spinning$:this.spinning$.pipe(function Ae(w){return(0,Ce.e)((f,g)=>{let C=!1,B=null,Z=null;const he=()=>{if(Z?.unsubscribe(),Z=null,C){C=!1;const pe=B;B=null,g.next(pe)}};f.subscribe((0,Pe.x)(g,pe=>{Z?.unsubscribe(),C=!0,B=pe,Z=(0,Pe.x)(g,he,Ze.Z),(0,de.Xf)(w(pe)).subscribe(Z)},()=>{he(),g.complete()},void 0,()=>{B=Z=null}))})}(B=>(0,ye.H)(B?C:0)))),(0,it.R)(this.destroy$)).subscribe(C=>{this.isLoading=C,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent("spin").pipe((0,it.R)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change?.pipe((0,it.R)(this.destroy$)).subscribe(C=>{this.dir=C,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(g){const{nzSpinning:C,nzDelay:B}=g;C&&this.spinning$.next(this.nzSpinning),B&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return w.\u0275fac=function(g){return new(g||w)(y.Y36(we.jY),y.Y36(y.sBO),y.Y36(Ke.Is,8))},w.\u0275cmp=y.Xpm({type:w,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(g,C){2&g&&y.ekj("ant-spin-nested-loading",!C.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],features:[y.TTD],ngContentSelectors:ut,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(g,C){1&g&&(y.F$t(),y.YNc(0,Pt,5,0,"ng-template",null,0,y.W1O),y.YNc(2,Ve,4,12,"div",1),y.YNc(3,Ye,2,2,"div",2)),2&g&&(y.xp6(2),y.Q6J("ngIf",C.isLoading),y.xp6(1),y.Q6J("ngIf",!C.nzSimple))},dependencies:[j.O5,j.tP],encapsulation:2}),(0,Y.gn)([(0,we.oS)()],w.prototype,"nzIndicator",void 0),(0,Y.gn)([(0,Me.Rn)()],w.prototype,"nzDelay",void 0),(0,Y.gn)([(0,Me.yF)()],w.prototype,"nzSimple",void 0),(0,Y.gn)([(0,Me.yF)()],w.prototype,"nzSpinning",void 0),w})(),_t=(()=>{class w{}return w.\u0275fac=function(g){return new(g||w)},w.\u0275mod=y.oAB({type:w}),w.\u0275inj=y.cJS({imports:[Ke.vT,j.ez,Ft.Q8]}),w})();function Bt(w,f){1&w&&(y.TgZ(0,"div",2),y._UZ(1,"nz-spin",3),y.qZA()),2&w&&(y.xp6(1),y.Q6J("nzSize","large"))}let Lt=(()=>{class w{constructor(g){this.loadingService=g}}return w.\u0275fac=function(g){return new(g||w)(y.Y36(q.b))},w.\u0275cmp=y.Xpm({type:w,selectors:[["app-root"]],standalone:!0,features:[y.jDz],decls:4,vars:3,consts:[[1,"wraper"],["class","spin d-flex jc-center ai-center",4,"ngIf"],[1,"spin","d-flex","jc-center","ai-center"],["nzSimple","",3,"nzSize"]],template:function(g,C){1&g&&(y.TgZ(0,"div",0),y._UZ(1,"router-outlet"),y.YNc(2,Bt,2,1,"div",1),y.ALo(3,"async"),y.qZA()),2&g&&(y.xp6(2),y.Q6J("ngIf",y.lcZ(3,1,C.loadingService.isLoading)))},dependencies:[j.ez,j.O5,j.Ov,X.Bz,X.lC,_t,bt],styles:[".wraper[_ngcontent-%COMP%]{background-color:#f4f4f4;height:100vh}.spin[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.2);z-index:99999}"]}),w})();var Rn=O(1481);const ln_firebaseConfig={apiKey:"AIzaSyDYroyA1bFbuCH_uYp1pLei71m-lIHqxCg",authDomain:"chat-app-c3612.firebaseapp.com",projectId:"chat-app-c3612",storageBucket:"chat-app-c3612.appspot.com",messagingSenderId:"1008409295994",appId:"1:1008409295994:web:6475e7539b138398a2cfc3",measurementId:"G-MM6L0FC7DD"};var un=O(529),Dt=O(7340);function Vn(w){return new y.vHH(3e3,!1)}function lt(){return typeof window<"u"&&typeof window.document<"u"}function ue(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function oe(w){switch(w.length){case 0:return new Dt.ZN;case 1:return w[0];default:return new Dt.ZE(w)}}function Ee(w,f,g,C,B=new Map,Z=new Map){const he=[],pe=[];let Ne=-1,We=null;if(C.forEach(rt=>{const Tt=rt.get("offset"),Sn=Tt==Ne,Wt=Sn&&We||new Map;rt.forEach((gt,dn)=>{let Xt=dn,Xn=gt;if("offset"!==dn)switch(Xt=f.normalizePropertyName(Xt,he),Xn){case Dt.k1:Xn=B.get(dn);break;case Dt.l3:Xn=Z.get(dn);break;default:Xn=f.normalizeStyleValue(dn,Xt,Xn,he)}Wt.set(Xt,Xn)}),Sn||pe.push(Wt),We=Wt,Ne=Tt}),he.length)throw function Yn(w){return new y.vHH(3502,!1)}();return pe}function Ge(w,f,g,C){switch(f){case"start":w.onStart(()=>C(g&&Le(g,"start",w)));break;case"done":w.onDone(()=>C(g&&Le(g,"done",w)));break;case"destroy":w.onDestroy(()=>C(g&&Le(g,"destroy",w)))}}function Le(w,f,g){const Z=Nt(w.element,w.triggerName,w.fromState,w.toState,f||w.phaseName,g.totalTime??w.totalTime,!!g.disabled),he=w._data;return null!=he&&(Z._data=he),Z}function Nt(w,f,g,C,B="",Z=0,he){return{element:w,triggerName:f,fromState:g,toState:C,phaseName:B,totalTime:Z,disabled:!!he}}function fe(w,f,g){let C=w.get(f);return C||w.set(f,C=g),C}function ve(w){const f=w.indexOf(":");return[w.substring(1,f),w.slice(f+1)]}let te=(w,f)=>!1,be=(w,f,g)=>[],st=null;function yt(w){const f=w.parentNode||w.host;return f===st?null:f}(ue()||typeof Element<"u")&&(lt()?(st=(()=>document.documentElement)(),te=(w,f)=>{for(;f;){if(f===w)return!0;f=yt(f)}return!1}):te=(w,f)=>w.contains(f),be=(w,f,g)=>{if(g)return Array.from(w.querySelectorAll(f));const C=w.querySelector(f);return C?[C]:[]});let An=null,Ir=!1;const _r=te,Fi=be;let ri=(()=>{class w{validateStyleProperty(g){return function Ii(w){An||(An=function Ri(){return typeof document<"u"?document.body:null}()||{},Ir=!!An.style&&"WebkitAppearance"in An.style);let f=!0;return An.style&&!function In(w){return"ebkit"==w.substring(1,6)}(w)&&(f=w in An.style,!f&&Ir&&(f="Webkit"+w.charAt(0).toUpperCase()+w.slice(1)in An.style)),f}(g)}matchesElement(g,C){return!1}containsElement(g,C){return _r(g,C)}getParentElement(g){return yt(g)}query(g,C,B){return Fi(g,C,B)}computeStyle(g,C,B){return B||""}animate(g,C,B,Z,he,pe=[],Ne){return new Dt.ZN(B,Z)}}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac}),w})(),Hn=(()=>{class w{}return w.NOOP=new ri,w})();const Nr=1e3,Br="ng-enter",Vr="ng-leave",zi="ng-trigger",xi=".ng-trigger",lr="ng-animating",Ht=".ng-animating";function gn(w){if("number"==typeof w)return w;const f=w.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:Kn(parseFloat(f[1]),f[2])}function Kn(w,f){return"s"===f?w*Nr:w}function ei(w,f,g){return w.hasOwnProperty("duration")?w:function Fe(w,f,g){let B,Z=0,he="";if("string"==typeof w){const pe=w.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===pe)return f.push(Vn()),{duration:0,delay:0,easing:""};B=Kn(parseFloat(pe[1]),pe[2]);const Ne=pe[3];null!=Ne&&(Z=Kn(parseFloat(Ne),pe[4]));const We=pe[5];We&&(he=We)}else B=w;if(!g){let pe=!1,Ne=f.length;B<0&&(f.push(function Ln(){return new y.vHH(3100,!1)}()),pe=!0),Z<0&&(f.push(function Kt(){return new y.vHH(3101,!1)}()),pe=!0),pe&&f.splice(Ne,0,Vn())}return{duration:B,delay:Z,easing:he}}(w,f,g)}function Te(w,f={}){return Object.keys(w).forEach(g=>{f[g]=w[g]}),f}function ze(w){const f=new Map;return Object.keys(w).forEach(g=>{f.set(g,w[g])}),f}function Jt(w,f=new Map,g){if(g)for(let[C,B]of g)f.set(C,B);for(let[C,B]of w)f.set(C,B);return f}function Vt(w,f,g){return g?f+":"+g+";":""}function nr(w){let f="";for(let g=0;g<w.style.length;g++){const C=w.style.item(g);f+=Vt(0,C,w.style.getPropertyValue(C))}for(const g in w.style)w.style.hasOwnProperty(g)&&!g.startsWith("_")&&(f+=Vt(0,Ho(g),w.style[g]));w.setAttribute("style",f)}function _n(w,f,g){w.style&&(f.forEach((C,B)=>{const Z=On(B);g&&!g.has(B)&&g.set(B,w.style[Z]),w.style[Z]=C}),ue()&&nr(w))}function ti(w,f){w.style&&(f.forEach((g,C)=>{const B=On(C);w.style[B]=""}),ue()&&nr(w))}function Di(w){return Array.isArray(w)?1==w.length?w[0]:(0,Dt.vP)(w):w}const Ui=new RegExp("{{\\s*(.+?)\\s*}}","g");function rs(w){let f=[];if("string"==typeof w){let g;for(;g=Ui.exec(w);)f.push(g[1]);Ui.lastIndex=0}return f}function Ar(w,f,g){const C=w.toString(),B=C.replace(Ui,(Z,he)=>{let pe=f[he];return null==pe&&(g.push(function fr(w){return new y.vHH(3003,!1)}()),pe=""),pe.toString()});return B==C?w:B}function Gi(w){const f=[];let g=w.next();for(;!g.done;)f.push(g.value),g=w.next();return f}const Ea=/-+([a-z0-9])/g;function On(w){return w.replace(Ea,(...f)=>f[1].toUpperCase())}function Ho(w){return w.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function br(w,f,g){switch(f.type){case 7:return w.visitTrigger(f,g);case 0:return w.visitState(f,g);case 1:return w.visitTransition(f,g);case 2:return w.visitSequence(f,g);case 3:return w.visitGroup(f,g);case 4:return w.visitAnimate(f,g);case 5:return w.visitKeyframes(f,g);case 6:return w.visitStyle(f,g);case 8:return w.visitReference(f,g);case 9:return w.visitAnimateChild(f,g);case 10:return w.visitAnimateRef(f,g);case 11:return w.visitQuery(f,g);case 12:return w.visitStagger(f,g);default:throw function rr(w){return new y.vHH(3004,!1)}()}}function ii(w,f){return window.getComputedStyle(w)[f]}const Tr="*";function Pi(w,f){const g=[];return"string"==typeof w?w.split(/\s*,\s*/).forEach(C=>function Ls(w,f,g){if(":"==w[0]){const Ne=function Fs(w,f){switch(w){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(g,C)=>parseFloat(C)>parseFloat(g);case":decrement":return(g,C)=>parseFloat(C)<parseFloat(g);default:return f.push(function $n(w){return new y.vHH(3016,!1)}()),"* => *"}}(w,g);if("function"==typeof Ne)return void f.push(Ne);w=Ne}const C=w.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==C||C.length<4)return g.push(function Ut(w){return new y.vHH(3015,!1)}()),f;const B=C[1],Z=C[2],he=C[3];f.push(Do(B,he));"<"==Z[0]&&!(B==Tr&&he==Tr)&&f.push(Do(he,B))}(C,g,f)):g.push(w),g}const Jn=new Set(["true","1"]),Wi=new Set(["false","0"]);function Do(w,f){const g=Jn.has(w)||Wi.has(w),C=Jn.has(f)||Wi.has(f);return(B,Z)=>{let he=w==Tr||w==B,pe=f==Tr||f==Z;return!he&&g&&"boolean"==typeof B&&(he=B?Jn.has(w):Wi.has(w)),!pe&&C&&"boolean"==typeof Z&&(pe=Z?Jn.has(f):Wi.has(f)),he&&pe}}const Xa=new RegExp("s*:selfs*,?","g");function bo(w,f,g,C){return new na(w).build(f,g,C)}class na{constructor(f){this._driver=f}build(f,g,C){const B=new Us(g);return this._resetContextStyleTimingState(B),br(this,Di(f),B)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,g){let C=g.queryCount=0,B=g.depCount=0;const Z=[],he=[];return"@"==f.name.charAt(0)&&g.errors.push(function wr(){return new y.vHH(3006,!1)}()),f.definitions.forEach(pe=>{if(this._resetContextStyleTimingState(g),0==pe.type){const Ne=pe,We=Ne.name;We.toString().split(/\s*,\s*/).forEach(rt=>{Ne.name=rt,Z.push(this.visitState(Ne,g))}),Ne.name=We}else if(1==pe.type){const Ne=this.visitTransition(pe,g);C+=Ne.queryCount,B+=Ne.depCount,he.push(Ne)}else g.errors.push(function Or(){return new y.vHH(3007,!1)}())}),{type:7,name:f.name,states:Z,transitions:he,queryCount:C,depCount:B,options:null}}visitState(f,g){const C=this.visitStyle(f.styles,g),B=f.options&&f.options.params||null;if(C.containsDynamicStyles){const Z=new Set,he=B||{};C.styles.forEach(pe=>{pe instanceof Map&&pe.forEach(Ne=>{rs(Ne).forEach(We=>{he.hasOwnProperty(We)||Z.add(We)})})}),Z.size&&(Gi(Z.values()),g.errors.push(function Bn(w,f){return new y.vHH(3008,!1)}()))}return{type:0,name:f.name,style:C,options:B?{params:B}:null}}visitTransition(f,g){g.queryCount=0,g.depCount=0;const C=br(this,Di(f.animation),g);return{type:1,matchers:Pi(f.expr,g.errors),animation:C,queryCount:g.queryCount,depCount:g.depCount,options:os(f.options)}}visitSequence(f,g){return{type:2,steps:f.steps.map(C=>br(this,C,g)),options:os(f.options)}}visitGroup(f,g){const C=g.currentTime;let B=0;const Z=f.steps.map(he=>{g.currentTime=C;const pe=br(this,he,g);return B=Math.max(B,g.currentTime),pe});return g.currentTime=B,{type:3,steps:Z,options:os(f.options)}}visitAnimate(f,g){const C=function Vi(w,f){if(w.hasOwnProperty("duration"))return w;if("number"==typeof w)return To(ei(w,f).duration,0,"");const g=w;if(g.split(/\s+/).some(Z=>"{"==Z.charAt(0)&&"{"==Z.charAt(1))){const Z=To(0,0,"");return Z.dynamic=!0,Z.strValue=g,Z}const B=ei(g,f);return To(B.duration,B.delay,B.easing)}(f.timings,g.errors);g.currentAnimateTimings=C;let B,Z=f.styles?f.styles:(0,Dt.oB)({});if(5==Z.type)B=this.visitKeyframes(Z,g);else{let he=f.styles,pe=!1;if(!he){pe=!0;const We={};C.easing&&(We.easing=C.easing),he=(0,Dt.oB)(We)}g.currentTime+=C.duration+C.delay;const Ne=this.visitStyle(he,g);Ne.isEmptyStep=pe,B=Ne}return g.currentAnimateTimings=null,{type:4,timings:C,style:B,options:null}}visitStyle(f,g){const C=this._makeStyleAst(f,g);return this._validateStyleAst(C,g),C}_makeStyleAst(f,g){const C=[],B=Array.isArray(f.styles)?f.styles:[f.styles];for(let pe of B)"string"==typeof pe?pe===Dt.l3?C.push(pe):g.errors.push(new y.vHH(3002,!1)):C.push(ze(pe));let Z=!1,he=null;return C.forEach(pe=>{if(pe instanceof Map&&(pe.has("easing")&&(he=pe.get("easing"),pe.delete("easing")),!Z))for(let Ne of pe.values())if(Ne.toString().indexOf("{{")>=0){Z=!0;break}}),{type:6,styles:C,easing:he,offset:f.offset,containsDynamicStyles:Z,options:null}}_validateStyleAst(f,g){const C=g.currentAnimateTimings;let B=g.currentTime,Z=g.currentTime;C&&Z>0&&(Z-=C.duration+C.delay),f.styles.forEach(he=>{"string"!=typeof he&&he.forEach((pe,Ne)=>{const We=g.collectedStyles.get(g.currentQuerySelector),rt=We.get(Ne);let Tt=!0;rt&&(Z!=B&&Z>=rt.startTime&&B<=rt.endTime&&(g.errors.push(function yr(w,f,g,C,B){return new y.vHH(3010,!1)}()),Tt=!1),Z=rt.startTime),Tt&&We.set(Ne,{startTime:Z,endTime:B}),g.options&&function dr(w,f,g){const C=f.params||{},B=rs(w);B.length&&B.forEach(Z=>{C.hasOwnProperty(Z)||g.push(function ar(w){return new y.vHH(3001,!1)}())})}(pe,g.options,g.errors)})})}visitKeyframes(f,g){const C={type:5,styles:[],options:null};if(!g.currentAnimateTimings)return g.errors.push(function vr(){return new y.vHH(3011,!1)}()),C;let Z=0;const he=[];let pe=!1,Ne=!1,We=0;const rt=f.steps.map(Xn=>{const xn=this._makeStyleAst(Xn,g);let At=null!=xn.offset?xn.offset:function ss(w){if("string"==typeof w)return null;let f=null;if(Array.isArray(w))w.forEach(g=>{if(g instanceof Map&&g.has("offset")){const C=g;f=parseFloat(C.get("offset")),C.delete("offset")}});else if(w instanceof Map&&w.has("offset")){const g=w;f=parseFloat(g.get("offset")),g.delete("offset")}return f}(xn.styles),Pr=0;return null!=At&&(Z++,Pr=xn.offset=At),Ne=Ne||Pr<0||Pr>1,pe=pe||Pr<We,We=Pr,he.push(Pr),xn});Ne&&g.errors.push(function cr(){return new y.vHH(3012,!1)}()),pe&&g.errors.push(function ir(){return new y.vHH(3200,!1)}());const Tt=f.steps.length;let Sn=0;Z>0&&Z<Tt?g.errors.push(function Gr(){return new y.vHH(3202,!1)}()):0==Z&&(Sn=1/(Tt-1));const Wt=Tt-1,gt=g.currentTime,dn=g.currentAnimateTimings,Xt=dn.duration;return rt.forEach((Xn,xn)=>{const At=Sn>0?xn==Wt?1:Sn*xn:he[xn],Pr=At*Xt;g.currentTime=gt+dn.delay+Pr,dn.duration=Pr,this._validateStyleAst(Xn,g),Xn.offset=At,C.styles.push(Xn)}),C}visitReference(f,g){return{type:8,animation:br(this,Di(f.animation),g),options:os(f.options)}}visitAnimateChild(f,g){return g.depCount++,{type:9,options:os(f.options)}}visitAnimateRef(f,g){return{type:10,animation:this.visitReference(f.animation,g),options:os(f.options)}}visitQuery(f,g){const C=g.currentQuerySelector,B=f.options||{};g.queryCount++,g.currentQuery=f;const[Z,he]=function is(w){const f=!!w.split(/\s*,\s*/).find(g=>":self"==g);return f&&(w=w.replace(Xa,"")),w=w.replace(/@\*/g,xi).replace(/@\w+/g,g=>xi+"-"+g.slice(1)).replace(/:animating/g,Ht),[w,f]}(f.selector);g.currentQuerySelector=C.length?C+" "+Z:Z,fe(g.collectedStyles,g.currentQuerySelector,new Map);const pe=br(this,Di(f.animation),g);return g.currentQuery=null,g.currentQuerySelector=C,{type:11,selector:Z,limit:B.limit||0,optional:!!B.optional,includeSelf:he,animation:pe,originalSelector:f.selector,options:os(f.options)}}visitStagger(f,g){g.currentQuery||g.errors.push(function an(){return new y.vHH(3013,!1)}());const C="full"===f.timings?{duration:0,delay:0,easing:"full"}:ei(f.timings,g.errors,!0);return{type:12,animation:br(this,Di(f.animation),g),timings:C,options:null}}}class Us{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function os(w){return w?(w=Te(w)).params&&(w.params=function mo(w){return w?Te(w):null}(w.params)):w={},w}function To(w,f,g){return{duration:w,delay:f,easing:g}}function Oi(w,f,g,C,B,Z,he=null,pe=!1){return{type:1,element:w,keyframes:f,preStyleProps:g,postStyleProps:C,duration:B,delay:Z,totalTime:B+Z,easing:he,subTimeline:pe}}class Zs{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,g){let C=this._map.get(f);C||this._map.set(f,C=[]),C.push(...g)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const bi=new RegExp(":enter","g"),ms=new RegExp(":leave","g");function Ts(w,f,g,C,B,Z=new Map,he=new Map,pe,Ne,We=[]){return(new Ss).buildKeyframes(w,f,g,C,B,Z,he,pe,Ne,We)}class Ss{buildKeyframes(f,g,C,B,Z,he,pe,Ne,We,rt=[]){We=We||new Zs;const Tt=new Vs(f,g,We,B,Z,rt,[]);Tt.options=Ne;const Sn=Ne.delay?gn(Ne.delay):0;Tt.currentTimeline.delayNextStep(Sn),Tt.currentTimeline.setStyles([he],null,Tt.errors,Ne),br(this,C,Tt);const Wt=Tt.timelines.filter(gt=>gt.containsAnimation());if(Wt.length&&pe.size){let gt;for(let dn=Wt.length-1;dn>=0;dn--){const Xt=Wt[dn];if(Xt.element===g){gt=Xt;break}}gt&&!gt.allowOnlyTimelineStyles()&&gt.setStyles([pe],null,Tt.errors,Ne)}return Wt.length?Wt.map(gt=>gt.buildKeyframes()):[Oi(g,[],[],[],0,Sn,"",!1)]}visitTrigger(f,g){}visitState(f,g){}visitTransition(f,g){}visitAnimateChild(f,g){const C=g.subInstructions.get(g.element);if(C){const B=g.createSubContext(f.options),Z=g.currentTimeline.currentTime,he=this._visitSubInstructions(C,B,B.options);Z!=he&&g.transformIntoNewTimeline(he)}g.previousNode=f}visitAnimateRef(f,g){const C=g.createSubContext(f.options);C.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],g,C),this.visitReference(f.animation,C),g.transformIntoNewTimeline(C.currentTimeline.currentTime),g.previousNode=f}_applyAnimationRefDelays(f,g,C){for(const B of f){const Z=B?.delay;if(Z){const he="number"==typeof Z?Z:gn(Ar(Z,B?.params??{},g.errors));C.delayNextStep(he)}}}_visitSubInstructions(f,g,C){let Z=g.currentTimeline.currentTime;const he=null!=C.duration?gn(C.duration):null,pe=null!=C.delay?gn(C.delay):null;return 0!==he&&f.forEach(Ne=>{const We=g.appendInstructionToTimeline(Ne,he,pe);Z=Math.max(Z,We.duration+We.delay)}),Z}visitReference(f,g){g.updateOptions(f.options,!0),br(this,f.animation,g),g.previousNode=f}visitSequence(f,g){const C=g.subContextCount;let B=g;const Z=f.options;if(Z&&(Z.params||Z.delay)&&(B=g.createSubContext(Z),B.transformIntoNewTimeline(),null!=Z.delay)){6==B.previousNode.type&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=as);const he=gn(Z.delay);B.delayNextStep(he)}f.steps.length&&(f.steps.forEach(he=>br(this,he,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>C&&B.transformIntoNewTimeline()),g.previousNode=f}visitGroup(f,g){const C=[];let B=g.currentTimeline.currentTime;const Z=f.options&&f.options.delay?gn(f.options.delay):0;f.steps.forEach(he=>{const pe=g.createSubContext(f.options);Z&&pe.delayNextStep(Z),br(this,he,pe),B=Math.max(B,pe.currentTimeline.currentTime),C.push(pe.currentTimeline)}),C.forEach(he=>g.currentTimeline.mergeTimelineCollectedStyles(he)),g.transformIntoNewTimeline(B),g.previousNode=f}_visitTiming(f,g){if(f.dynamic){const C=f.strValue;return ei(g.params?Ar(C,g.params,g.errors):C,g.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,g){const C=g.currentAnimateTimings=this._visitTiming(f.timings,g),B=g.currentTimeline;C.delay&&(g.incrementTime(C.delay),B.snapshotCurrentStyles());const Z=f.style;5==Z.type?this.visitKeyframes(Z,g):(g.incrementTime(C.duration),this.visitStyle(Z,g),B.applyStylesToKeyframe()),g.currentAnimateTimings=null,g.previousNode=f}visitStyle(f,g){const C=g.currentTimeline,B=g.currentAnimateTimings;!B&&C.hasCurrentStyleProperties()&&C.forwardFrame();const Z=B&&B.easing||f.easing;f.isEmptyStep?C.applyEmptyStep(Z):C.setStyles(f.styles,Z,g.errors,g.options),g.previousNode=f}visitKeyframes(f,g){const C=g.currentAnimateTimings,B=g.currentTimeline.duration,Z=C.duration,pe=g.createSubContext().currentTimeline;pe.easing=C.easing,f.styles.forEach(Ne=>{pe.forwardTime((Ne.offset||0)*Z),pe.setStyles(Ne.styles,Ne.easing,g.errors,g.options),pe.applyStylesToKeyframe()}),g.currentTimeline.mergeTimelineCollectedStyles(pe),g.transformIntoNewTimeline(B+Z),g.previousNode=f}visitQuery(f,g){const C=g.currentTimeline.currentTime,B=f.options||{},Z=B.delay?gn(B.delay):0;Z&&(6===g.previousNode.type||0==C&&g.currentTimeline.hasCurrentStyleProperties())&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=as);let he=C;const pe=g.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!B.optional,g.errors);g.currentQueryTotal=pe.length;let Ne=null;pe.forEach((We,rt)=>{g.currentQueryIndex=rt;const Tt=g.createSubContext(f.options,We);Z&&Tt.delayNextStep(Z),We===g.element&&(Ne=Tt.currentTimeline),br(this,f.animation,Tt),Tt.currentTimeline.applyStylesToKeyframe(),he=Math.max(he,Tt.currentTimeline.currentTime)}),g.currentQueryIndex=0,g.currentQueryTotal=0,g.transformIntoNewTimeline(he),Ne&&(g.currentTimeline.mergeTimelineCollectedStyles(Ne),g.currentTimeline.snapshotCurrentStyles()),g.previousNode=f}visitStagger(f,g){const C=g.parentContext,B=g.currentTimeline,Z=f.timings,he=Math.abs(Z.duration),pe=he*(g.currentQueryTotal-1);let Ne=he*g.currentQueryIndex;switch(Z.duration<0?"reverse":Z.easing){case"reverse":Ne=pe-Ne;break;case"full":Ne=C.currentStaggerTime}const rt=g.currentTimeline;Ne&&rt.delayNextStep(Ne);const Tt=rt.currentTime;br(this,f.animation,g),g.previousNode=f,C.currentStaggerTime=B.currentTime-Tt+(B.startTime-C.currentTimeline.startTime)}}const as={};class Vs{constructor(f,g,C,B,Z,he,pe,Ne){this._driver=f,this.element=g,this.subInstructions=C,this._enterClassName=B,this._leaveClassName=Z,this.errors=he,this.timelines=pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=as,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ne||new $s(this._driver,g,0),pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,g){if(!f)return;const C=f;let B=this.options;null!=C.duration&&(B.duration=gn(C.duration)),null!=C.delay&&(B.delay=gn(C.delay));const Z=C.params;if(Z){let he=B.params;he||(he=this.options.params={}),Object.keys(Z).forEach(pe=>{(!g||!he.hasOwnProperty(pe))&&(he[pe]=Ar(Z[pe],he,this.errors))})}}_copyOptions(){const f={};if(this.options){const g=this.options.params;if(g){const C=f.params={};Object.keys(g).forEach(B=>{C[B]=g[B]})}}return f}createSubContext(f=null,g,C){const B=g||this.element,Z=new Vs(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,C||0));return Z.previousNode=this.previousNode,Z.currentAnimateTimings=this.currentAnimateTimings,Z.options=this._copyOptions(),Z.updateOptions(f),Z.currentQueryIndex=this.currentQueryIndex,Z.currentQueryTotal=this.currentQueryTotal,Z.parentContext=this,this.subContextCount++,Z}transformIntoNewTimeline(f){return this.previousNode=as,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,g,C){const B={duration:g??f.duration,delay:this.currentTimeline.currentTime+(C??0)+f.delay,easing:""},Z=new wa(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,B,f.stretchStartingKeyframe);return this.timelines.push(Z),B}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,g,C,B,Z,he){let pe=[];if(B&&pe.push(this.element),f.length>0){f=(f=f.replace(bi,"."+this._enterClassName)).replace(ms,"."+this._leaveClassName);let We=this._driver.query(this.element,f,1!=C);0!==C&&(We=C<0?We.slice(We.length+C,We.length):We.slice(0,C)),pe.push(...We)}return!Z&&0==pe.length&&he.push(function Yt(w){return new y.vHH(3014,!1)}()),pe}}class $s{constructor(f,g,C,B){this._driver=f,this.element=g,this.startTime=C,this._elementTimelineStylesLookup=B,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(g),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(g,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const g=1===this._keyframes.size&&this._pendingStyles.size;this.duration||g?(this.forwardTime(this.currentTime+f),g&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,g){return this.applyStylesToKeyframe(),new $s(this._driver,f,g||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,g){this._localTimelineStyles.set(f,g),this._globalTimelineStyles.set(f,g),this._styleSummary.set(f,{time:this.currentTime,value:g})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[g,C]of this._globalTimelineStyles)this._backFill.set(g,C||Dt.l3),this._currentKeyframe.set(g,Dt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,g,C,B){g&&this._previousKeyframe.set("easing",g);const Z=B&&B.params||{},he=function Pa(w,f){const g=new Map;let C;return w.forEach(B=>{if("*"===B){C=C||f.keys();for(let Z of C)g.set(Z,Dt.l3)}else Jt(B,g)}),g}(f,this._globalTimelineStyles);for(let[pe,Ne]of he){const We=Ar(Ne,Z,C);this._pendingStyles.set(pe,We),this._localTimelineStyles.has(pe)||this._backFill.set(pe,this._globalTimelineStyles.get(pe)??Dt.l3),this._updateStyle(pe,We)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,g)=>{this._currentKeyframe.set(g,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,g)=>{this._currentKeyframe.has(g)||this._currentKeyframe.set(g,f)}))}snapshotCurrentStyles(){for(let[f,g]of this._localTimelineStyles)this._pendingStyles.set(f,g),this._updateStyle(f,g)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let g in this._currentKeyframe)f.push(g);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((g,C)=>{const B=this._styleSummary.get(C);(!B||g.time>B.time)&&this._updateStyle(C,g.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,g=new Set,C=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((pe,Ne)=>{const We=Jt(pe,new Map,this._backFill);We.forEach((rt,Tt)=>{rt===Dt.k1?f.add(Tt):rt===Dt.l3&&g.add(Tt)}),C||We.set("offset",Ne/this.duration),B.push(We)});const Z=f.size?Gi(f.values()):[],he=g.size?Gi(g.values()):[];if(C){const pe=B[0],Ne=new Map(pe);pe.set("offset",0),Ne.set("offset",1),B=[pe,Ne]}return Oi(this.element,B,Z,he,this.duration,this.startTime,this.easing,!1)}}class wa extends $s{constructor(f,g,C,B,Z,he,pe=!1){super(f,g,he.delay),this.keyframes=C,this.preStyleProps=B,this.postStyleProps=Z,this._stretchStartingKeyframe=pe,this.timings={duration:he.duration,delay:he.delay,easing:he.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:g,duration:C,easing:B}=this.timings;if(this._stretchStartingKeyframe&&g){const Z=[],he=C+g,pe=g/he,Ne=Jt(f[0]);Ne.set("offset",0),Z.push(Ne);const We=Jt(f[0]);We.set("offset",Cs(pe)),Z.push(We);const rt=f.length-1;for(let Tt=1;Tt<=rt;Tt++){let Sn=Jt(f[Tt]);const Wt=Sn.get("offset");Sn.set("offset",Cs((g+Wt*C)/he)),Z.push(Sn)}C=he,g=0,B="",f=Z}return Oi(this.element,f,this.preStyleProps,this.postStyleProps,C,g,B,!0)}}function Cs(w,f=3){const g=Math.pow(10,f-1);return Math.round(w*g)/g}class js{}const Ur=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zs extends js{normalizePropertyName(f,g){return On(f)}normalizeStyleValue(f,g,C,B){let Z="";const he=C.toString().trim();if(Ur.has(g)&&0!==C&&"0"!==C)if("number"==typeof C)Z="px";else{const pe=C.match(/^[+-]?[\d\.]+([a-z]*)$/);pe&&0==pe[1].length&&B.push(function mr(w,f){return new y.vHH(3005,!1)}())}return he+Z}}function Mr(w,f,g,C,B,Z,he,pe,Ne,We,rt,Tt,Sn){return{type:0,element:w,triggerName:f,isRemovalTransition:B,fromState:g,fromStyles:Z,toState:C,toStyles:he,timelines:pe,queriedElements:Ne,preStyleProps:We,postStyleProps:rt,totalTime:Tt,errors:Sn}}const Rr={};class Ys{constructor(f,g,C){this._triggerName=f,this.ast=g,this._stateStyles=C}match(f,g,C,B){return function us(w,f,g,C,B){return w.some(Z=>Z(f,g,C,B))}(this.ast.matchers,f,g,C,B)}buildStyles(f,g,C){let B=this._stateStyles.get("*");return void 0!==f&&(B=this._stateStyles.get(f?.toString())||B),B?B.buildStyles(g,C):new Map}build(f,g,C,B,Z,he,pe,Ne,We,rt){const Tt=[],Sn=this.ast.options&&this.ast.options.params||Rr,gt=this.buildStyles(C,pe&&pe.params||Rr,Tt),dn=Ne&&Ne.params||Rr,Xt=this.buildStyles(B,dn,Tt),Xn=new Set,xn=new Map,At=new Map,Pr="void"===B,ki={params:gi(dn,Sn),delay:this.ast.options?.delay},$i=rt?[]:Ts(f,g,this.ast.animation,Z,he,gt,Xt,ki,We,Tt);let ai=0;if($i.forEach(hs=>{ai=Math.max(hs.duration+hs.delay,ai)}),Tt.length)return Mr(g,this._triggerName,C,B,Pr,gt,Xt,[],[],xn,At,ai,Tt);$i.forEach(hs=>{const qr=hs.element,ro=fe(xn,qr,new Set);hs.preStyleProps.forEach(Zr=>ro.add(Zr));const vs=fe(At,qr,new Set);hs.postStyleProps.forEach(Zr=>vs.add(Zr)),qr!==g&&Xn.add(qr)});const Ci=Gi(Xn.values());return Mr(g,this._triggerName,C,B,Pr,gt,Xt,$i,Ci,xn,At,ai)}}function gi(w,f){const g=Te(f);for(const C in w)w.hasOwnProperty(C)&&null!=w[C]&&(g[C]=w[C]);return g}class Qs{constructor(f,g,C){this.styles=f,this.defaultParams=g,this.normalizer=C}buildStyles(f,g){const C=new Map,B=Te(this.defaultParams);return Object.keys(f).forEach(Z=>{const he=f[Z];null!==he&&(B[Z]=he)}),this.styles.styles.forEach(Z=>{"string"!=typeof Z&&Z.forEach((he,pe)=>{he&&(he=Ar(he,B,g));const Ne=this.normalizer.normalizePropertyName(pe,g);he=this.normalizer.normalizeStyleValue(pe,Ne,he,g),C.set(pe,he)})}),C}}class So{constructor(f,g,C){this.name=f,this.ast=g,this._normalizer=C,this.transitionFactories=[],this.states=new Map,g.states.forEach(B=>{this.states.set(B.name,new Qs(B.style,B.options&&B.options.params||{},C))}),Ki(this.states,"true","1"),Ki(this.states,"false","0"),g.transitions.forEach(B=>{this.transitionFactories.push(new Ys(f,B,this.states))}),this.fallbackTransition=function Ni(w,f,g){return new Ys(w,{type:1,animation:{type:2,steps:[],options:null},matchers:[(he,pe)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,g,C,B){return this.transitionFactories.find(he=>he.match(f,g,C,B))||null}matchStyles(f,g,C){return this.fallbackTransition.buildStyles(f,g,C)}}function Ki(w,f,g){w.has(f)?w.has(g)||w.set(g,w.get(f)):w.has(g)&&w.set(f,w.get(g))}const Co=new Zs;class bn{constructor(f,g,C){this.bodyNode=f,this._driver=g,this._normalizer=C,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,g){const C=[],B=[],Z=bo(this._driver,g,C,B);if(C.length)throw function ke(w){return new y.vHH(3503,!1)}();this._animations.set(f,Z)}_buildPlayer(f,g,C){const B=f.element,Z=Ee(0,this._normalizer,0,f.keyframes,g,C);return this._driver.animate(B,Z,f.duration,f.delay,f.easing,[],!0)}create(f,g,C={}){const B=[],Z=this._animations.get(f);let he;const pe=new Map;if(Z?(he=Ts(this._driver,g,Z,Br,Vr,new Map,new Map,C,Co,B),he.forEach(rt=>{const Tt=fe(pe,rt.element,new Map);rt.postStyleProps.forEach(Sn=>Tt.set(Sn,null))})):(B.push(function tt(){return new y.vHH(3300,!1)}()),he=[]),B.length)throw function Et(w){return new y.vHH(3504,!1)}();pe.forEach((rt,Tt)=>{rt.forEach((Sn,Wt)=>{rt.set(Wt,this._driver.computeStyle(Tt,Wt,Dt.l3))})});const We=oe(he.map(rt=>{const Tt=pe.get(rt.element);return this._buildPlayer(rt,new Map,Tt)}));return this._playersById.set(f,We),We.onDestroy(()=>this.destroy(f)),this.players.push(We),We}destroy(f){const g=this._getPlayer(f);g.destroy(),this._playersById.delete(f);const C=this.players.indexOf(g);C>=0&&this.players.splice(C,1)}_getPlayer(f){const g=this._playersById.get(f);if(!g)throw function ht(w){return new y.vHH(3301,!1)}();return g}listen(f,g,C,B){const Z=Nt(g,"","","");return Ge(this._getPlayer(f),C,Z,B),()=>{}}command(f,g,C,B){if("register"==C)return void this.register(f,B[0]);if("create"==C)return void this.create(f,g,B[0]||{});const Z=this._getPlayer(f);switch(C){case"play":Z.play();break;case"pause":Z.pause();break;case"reset":Z.reset();break;case"restart":Z.restart();break;case"finish":Z.finish();break;case"init":Z.init();break;case"setPosition":Z.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(f)}}}const Ti="ng-animate-queued",ia="ng-animate-disabled",Ia=[],xr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mn="__ng_removed";class Mo{get params(){return this.options.params}constructor(f,g=""){this.namespaceId=g;const C=f&&f.hasOwnProperty("value");if(this.value=function Js(w){return w??null}(C?f.value:f),C){const Z=Te(f);delete Z.value,this.options=Z}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const g=f.params;if(g){const C=this.options.params;Object.keys(g).forEach(B=>{null==C[B]&&(C[B]=g[B])})}}}const cs="void",ur=new Mo(cs);class Wo{constructor(f,g,C){this.id=f,this.hostElement=g,this._engine=C,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,yi(g,this._hostClassName)}listen(f,g,C,B){if(!this._triggers.has(g))throw function hn(w,f){return new y.vHH(3302,!1)}();if(null==C||0==C.length)throw function Dn(w){return new y.vHH(3303,!1)}();if(!function Ro(w){return"start"==w||"done"==w}(C))throw function ct(w,f){return new y.vHH(3400,!1)}();const Z=fe(this._elementListeners,f,[]),he={name:g,phase:C,callback:B};Z.push(he);const pe=fe(this._engine.statesByElement,f,new Map);return pe.has(g)||(yi(f,zi),yi(f,zi+"-"+g),pe.set(g,ur)),()=>{this._engine.afterFlush(()=>{const Ne=Z.indexOf(he);Ne>=0&&Z.splice(Ne,1),this._triggers.has(g)||pe.delete(g)})}}register(f,g){return!this._triggers.has(f)&&(this._triggers.set(f,g),!0)}_getTrigger(f){const g=this._triggers.get(f);if(!g)throw function nt(w){return new y.vHH(3401,!1)}();return g}trigger(f,g,C,B=!0){const Z=this._getTrigger(g),he=new mi(this.id,g,f);let pe=this._engine.statesByElement.get(f);pe||(yi(f,zi),yi(f,zi+"-"+g),this._engine.statesByElement.set(f,pe=new Map));let Ne=pe.get(g);const We=new Mo(C,this.id);if(!(C&&C.hasOwnProperty("value"))&&Ne&&We.absorbOptions(Ne.options),pe.set(g,We),Ne||(Ne=ur),We.value!==cs&&Ne.value===We.value){if(!function Da(w,f){const g=Object.keys(w),C=Object.keys(f);if(g.length!=C.length)return!1;for(let B=0;B<g.length;B++){const Z=g[B];if(!f.hasOwnProperty(Z)||w[Z]!==f[Z])return!1}return!0}(Ne.params,We.params)){const dn=[],Xt=Z.matchStyles(Ne.value,Ne.params,dn),Xn=Z.matchStyles(We.value,We.params,dn);dn.length?this._engine.reportError(dn):this._engine.afterFlush(()=>{ti(f,Xt),_n(f,Xn)})}return}const Sn=fe(this._engine.playersByElement,f,[]);Sn.forEach(dn=>{dn.namespaceId==this.id&&dn.triggerName==g&&dn.queued&&dn.destroy()});let Wt=Z.matchTransition(Ne.value,We.value,f,We.params),gt=!1;if(!Wt){if(!B)return;Wt=Z.fallbackTransition,gt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:g,transition:Wt,fromState:Ne,toState:We,player:he,isFallbackTransition:gt}),gt||(yi(f,Ti),he.onStart(()=>{qi(f,Ti)})),he.onDone(()=>{let dn=this.players.indexOf(he);dn>=0&&this.players.splice(dn,1);const Xt=this._engine.playersByElement.get(f);if(Xt){let Xn=Xt.indexOf(he);Xn>=0&&Xt.splice(Xn,1)}}),this.players.push(he),Sn.push(he),he}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(g=>g.delete(f)),this._elementListeners.forEach((g,C)=>{this._elementListeners.set(C,g.filter(B=>B.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const g=this._engine.playersByElement.get(f);g&&(g.forEach(C=>C.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,g){const C=this._engine.driver.query(f,xi,!0);C.forEach(B=>{if(B[Mn])return;const Z=this._engine.fetchNamespacesByElement(B);Z.size?Z.forEach(he=>he.triggerLeaveAnimation(B,g,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>C.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(f,g,C,B){const Z=this._engine.statesByElement.get(f),he=new Map;if(Z){const pe=[];if(Z.forEach((Ne,We)=>{if(he.set(We,Ne.value),this._triggers.has(We)){const rt=this.trigger(f,We,cs,B);rt&&pe.push(rt)}}),pe.length)return this._engine.markElementAsRemoved(this.id,f,!0,g,he),C&&oe(pe).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const g=this._elementListeners.get(f),C=this._engine.statesByElement.get(f);if(g&&C){const B=new Set;g.forEach(Z=>{const he=Z.name;if(B.has(he))return;B.add(he);const Ne=this._triggers.get(he).fallbackTransition,We=C.get(he)||ur,rt=new Mo(cs),Tt=new mi(this.id,he,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:he,transition:Ne,fromState:We,toState:rt,player:Tt,isFallbackTransition:!0})})}}removeNode(f,g){const C=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,g),this.triggerLeaveAnimation(f,g,!0))return;let B=!1;if(C.totalAnimations){const Z=C.players.length?C.playersByQueriedElement.get(f):[];if(Z&&Z.length)B=!0;else{let he=f;for(;he=he.parentNode;)if(C.statesByElement.get(he)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(f),B)C.markElementAsRemoved(this.id,f,!1,g);else{const Z=f[Mn];(!Z||Z===xr)&&(C.afterFlush(()=>this.clearElementCache(f)),C.destroyInnerAnimations(f),C._onRemovalComplete(f,g))}}insertNode(f,g){yi(f,this._hostClassName)}drainQueuedTransitions(f){const g=[];return this._queue.forEach(C=>{const B=C.player;if(B.destroyed)return;const Z=C.element,he=this._elementListeners.get(Z);he&&he.forEach(pe=>{if(pe.name==C.triggerName){const Ne=Nt(Z,C.triggerName,C.fromState.value,C.toState.value);Ne._data=f,Ge(C.player,pe.phase,Ne,pe.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):g.push(C)}),this._queue=[],g.sort((C,B)=>{const Z=C.transition.ast.depCount,he=B.transition.ast.depCount;return 0==Z||0==he?Z-he:this._engine.driver.containsElement(C.element,B.element)?1:-1})}destroy(f){this.players.forEach(g=>g.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}elementContainsData(f){let g=!1;return this._elementListeners.has(f)&&(g=!0),g=!!this._queue.find(C=>C.element===f)||g,g}}class yo{_onRemovalComplete(f,g){this.onRemovalComplete(f,g)}constructor(f,g,C){this.bodyNode=f,this.driver=g,this._normalizer=C,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(B,Z)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(g=>{g.players.forEach(C=>{C.queued&&f.push(C)})}),f}createNamespace(f,g){const C=new Wo(f,g,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,g)?this._balanceNamespaceList(C,g):(this.newHostElements.set(g,C),this.collectEnterElement(g)),this._namespaceLookup[f]=C}_balanceNamespaceList(f,g){const C=this._namespaceList,B=this.namespacesByHostElement;if(C.length-1>=0){let he=!1,pe=this.driver.getParentElement(g);for(;pe;){const Ne=B.get(pe);if(Ne){const We=C.indexOf(Ne);C.splice(We+1,0,f),he=!0;break}pe=this.driver.getParentElement(pe)}he||C.unshift(f)}else C.push(f);return B.set(g,f),f}register(f,g){let C=this._namespaceLookup[f];return C||(C=this.createNamespace(f,g)),C}registerTrigger(f,g,C){let B=this._namespaceLookup[f];B&&B.register(g,C)&&this.totalAnimations++}destroy(f,g){if(!f)return;const C=this._fetchNamespace(f);this.afterFlush(()=>{this.namespacesByHostElement.delete(C.hostElement),delete this._namespaceLookup[f];const B=this._namespaceList.indexOf(C);B>=0&&this._namespaceList.splice(B,1)}),this.afterFlushAnimationsDone(()=>C.destroy(g))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const g=new Set,C=this.statesByElement.get(f);if(C)for(let B of C.values())if(B.namespaceId){const Z=this._fetchNamespace(B.namespaceId);Z&&g.add(Z)}return g}trigger(f,g,C,B){if(eo(g)){const Z=this._fetchNamespace(f);if(Z)return Z.trigger(g,C,B),!0}return!1}insertNode(f,g,C,B){if(!eo(g))return;const Z=g[Mn];if(Z&&Z.setForRemoval){Z.setForRemoval=!1,Z.setForMove=!0;const he=this.collectedLeaveElements.indexOf(g);he>=0&&this.collectedLeaveElements.splice(he,1)}if(f){const he=this._fetchNamespace(f);he&&he.insertNode(g,C)}B&&this.collectEnterElement(g)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,g){g?this.disabledNodes.has(f)||(this.disabledNodes.add(f),yi(f,ia)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),qi(f,ia))}removeNode(f,g,C,B){if(eo(g)){const Z=f?this._fetchNamespace(f):null;if(Z?Z.removeNode(g,B):this.markElementAsRemoved(f,g,!1,B),C){const he=this.namespacesByHostElement.get(g);he&&he.id!==f&&he.removeNode(g,B)}}else this._onRemovalComplete(g,B)}markElementAsRemoved(f,g,C,B,Z){this.collectedLeaveElements.push(g),g[Mn]={namespaceId:f,setForRemoval:B,hasAnimation:C,removedBeforeQueried:!1,previousTriggersValues:Z}}listen(f,g,C,B,Z){return eo(g)?this._fetchNamespace(f).listen(g,C,B,Z):()=>{}}_buildInstruction(f,g,C,B,Z){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,C,B,f.fromState.options,f.toState.options,g,Z)}destroyInnerAnimations(f){let g=this.driver.query(f,xi,!0);g.forEach(C=>this.destroyActiveAnimationsForElement(C)),0!=this.playersByQueriedElement.size&&(g=this.driver.query(f,Ht,!0),g.forEach(C=>this.finishActiveQueriedAnimationOnElement(C)))}destroyActiveAnimationsForElement(f){const g=this.playersByElement.get(f);g&&g.forEach(C=>{C.queued?C.markedForDestroy=!0:C.destroy()})}finishActiveQueriedAnimationOnElement(f){const g=this.playersByQueriedElement.get(f);g&&g.forEach(C=>C.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return oe(this.players).onDone(()=>f());f()})}processLeaveNode(f){const g=f[Mn];if(g&&g.setForRemoval){if(f[Mn]=xr,g.namespaceId){this.destroyInnerAnimations(f);const C=this._fetchNamespace(g.namespaceId);C&&C.clearElementCache(f)}this._onRemovalComplete(f,g.setForRemoval)}f.classList?.contains(ia)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(C=>{this.markElementAsDisabled(C,!1)})}flush(f=-1){let g=[];if(this.newHostElements.size&&(this.newHostElements.forEach((C,B)=>this._balanceNamespaceList(C,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let C=0;C<this.collectedEnterElements.length;C++)yi(this.collectedEnterElements[C],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const C=[];try{g=this._flushAnimations(C,f)}finally{for(let B=0;B<C.length;B++)C[B]()}}else for(let C=0;C<this.collectedLeaveElements.length;C++)this.processLeaveNode(this.collectedLeaveElements[C]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(C=>C()),this._flushFns=[],this._whenQuietFns.length){const C=this._whenQuietFns;this._whenQuietFns=[],g.length?oe(g).onDone(()=>{C.forEach(B=>B())}):C.forEach(B=>B())}}reportError(f){throw function De(w){return new y.vHH(3402,!1)}()}_flushAnimations(f,g){const C=new Zs,B=[],Z=new Map,he=[],pe=new Map,Ne=new Map,We=new Map,rt=new Set;this.disabledNodes.forEach(Gt=>{rt.add(Gt);const pn=this.driver.query(Gt,".ng-animate-queued",!0);for(let mn=0;mn<pn.length;mn++)rt.add(pn[mn])});const Tt=this.bodyNode,Sn=Array.from(this.statesByElement.keys()),Wt=Si(Sn,this.collectedEnterElements),gt=new Map;let dn=0;Wt.forEach((Gt,pn)=>{const mn=Br+dn++;gt.set(pn,mn),Gt.forEach(Ue=>yi(Ue,mn))});const Xt=[],Xn=new Set,xn=new Set;for(let Gt=0;Gt<this.collectedLeaveElements.length;Gt++){const pn=this.collectedLeaveElements[Gt],mn=pn[Mn];mn&&mn.setForRemoval&&(Xt.push(pn),Xn.add(pn),mn.hasAnimation?this.driver.query(pn,".ng-star-inserted",!0).forEach(Ue=>Xn.add(Ue)):xn.add(pn))}const At=new Map,Pr=Si(Sn,Array.from(Xn));Pr.forEach((Gt,pn)=>{const mn=Vr+dn++;At.set(pn,mn),Gt.forEach(Ue=>yi(Ue,mn))}),f.push(()=>{Wt.forEach((Gt,pn)=>{const mn=gt.get(pn);Gt.forEach(Ue=>qi(Ue,mn))}),Pr.forEach((Gt,pn)=>{const mn=At.get(pn);Gt.forEach(Ue=>qi(Ue,mn))}),Xt.forEach(Gt=>{this.processLeaveNode(Gt)})});const ki=[],$i=[];for(let Gt=this._namespaceList.length-1;Gt>=0;Gt--)this._namespaceList[Gt].drainQueuedTransitions(g).forEach(mn=>{const Ue=mn.player,sr=mn.element;if(ki.push(Ue),this.collectedEnterElements.length){const or=sr[Mn];if(or&&or.setForMove){if(or.previousTriggersValues&&or.previousTriggersValues.has(mn.triggerName)){const fs=or.previousTriggersValues.get(mn.triggerName),Ai=this.statesByElement.get(mn.element);if(Ai&&Ai.has(mn.triggerName)){const ko=Ai.get(mn.triggerName);ko.value=fs,Ai.set(mn.triggerName,ko)}}return void Ue.destroy()}}const zr=!Tt||!this.driver.containsElement(Tt,sr),Yi=At.get(sr),Ei=gt.get(sr),qn=this._buildInstruction(mn,C,Ei,Yi,zr);if(qn.errors&&qn.errors.length)return void $i.push(qn);if(zr)return Ue.onStart(()=>ti(sr,qn.fromStyles)),Ue.onDestroy(()=>_n(sr,qn.toStyles)),void B.push(Ue);if(mn.isFallbackTransition)return Ue.onStart(()=>ti(sr,qn.fromStyles)),Ue.onDestroy(()=>_n(sr,qn.toStyles)),void B.push(Ue);const ca=[];qn.timelines.forEach(or=>{or.stretchStartingKeyframe=!0,this.disabledNodes.has(or.element)||ca.push(or)}),qn.timelines=ca,C.append(sr,qn.timelines),he.push({instruction:qn,player:Ue,element:sr}),qn.queriedElements.forEach(or=>fe(pe,or,[]).push(Ue)),qn.preStyleProps.forEach((or,fs)=>{if(or.size){let Ai=Ne.get(fs);Ai||Ne.set(fs,Ai=new Set),or.forEach((ko,Mi)=>Ai.add(Mi))}}),qn.postStyleProps.forEach((or,fs)=>{let Ai=We.get(fs);Ai||We.set(fs,Ai=new Set),or.forEach((ko,Mi)=>Ai.add(Mi))})});if($i.length){const Gt=[];$i.forEach(pn=>{Gt.push(function me(w,f){return new y.vHH(3505,!1)}())}),ki.forEach(pn=>pn.destroy()),this.reportError(Gt)}const ai=new Map,Ci=new Map;he.forEach(Gt=>{const pn=Gt.element;C.has(pn)&&(Ci.set(pn,pn),this._beforeAnimationBuild(Gt.player.namespaceId,Gt.instruction,ai))}),B.forEach(Gt=>{const pn=Gt.element;this._getPreviousPlayers(pn,!1,Gt.namespaceId,Gt.triggerName,null).forEach(Ue=>{fe(ai,pn,[]).push(Ue),Ue.destroy()})});const hs=Xt.filter(Gt=>Po(Gt,Ne,We)),qr=new Map;hr(qr,this.driver,xn,We,Dt.l3).forEach(Gt=>{Po(Gt,Ne,We)&&hs.push(Gt)});const vs=new Map;Wt.forEach((Gt,pn)=>{hr(vs,this.driver,new Set(Gt),Ne,Dt.k1)}),hs.forEach(Gt=>{const pn=qr.get(Gt),mn=vs.get(Gt);qr.set(Gt,new Map([...Array.from(pn?.entries()??[]),...Array.from(mn?.entries()??[])]))});const Zr=[],Ko=[],Ta={};he.forEach(Gt=>{const{element:pn,player:mn,instruction:Ue}=Gt;if(C.has(pn)){if(rt.has(pn))return mn.onDestroy(()=>_n(pn,Ue.toStyles)),mn.disabled=!0,mn.overrideTotalTime(Ue.totalTime),void B.push(mn);let sr=Ta;if(Ci.size>1){let Yi=pn;const Ei=[];for(;Yi=Yi.parentNode;){const qn=Ci.get(Yi);if(qn){sr=qn;break}Ei.push(Yi)}Ei.forEach(qn=>Ci.set(qn,sr))}const zr=this._buildAnimation(mn.namespaceId,Ue,ai,Z,vs,qr);if(mn.setRealPlayer(zr),sr===Ta)Zr.push(mn);else{const Yi=this.playersByElement.get(sr);Yi&&Yi.length&&(mn.parentPlayer=oe(Yi)),B.push(mn)}}else ti(pn,Ue.fromStyles),mn.onDestroy(()=>_n(pn,Ue.toStyles)),Ko.push(mn),rt.has(pn)&&B.push(mn)}),Ko.forEach(Gt=>{const pn=Z.get(Gt.element);if(pn&&pn.length){const mn=oe(pn);Gt.setRealPlayer(mn)}}),B.forEach(Gt=>{Gt.parentPlayer?Gt.syncPlayerEvents(Gt.parentPlayer):Gt.destroy()});for(let Gt=0;Gt<Xt.length;Gt++){const pn=Xt[Gt],mn=pn[Mn];if(qi(pn,Vr),mn&&mn.hasAnimation)continue;let Ue=[];if(pe.size){let zr=pe.get(pn);zr&&zr.length&&Ue.push(...zr);let Yi=this.driver.query(pn,Ht,!0);for(let Ei=0;Ei<Yi.length;Ei++){let qn=pe.get(Yi[Ei]);qn&&qn.length&&Ue.push(...qn)}}const sr=Ue.filter(zr=>!zr.destroyed);sr.length?ls(this,pn,sr):this.processLeaveNode(pn)}return Xt.length=0,Zr.forEach(Gt=>{this.players.push(Gt),Gt.onDone(()=>{Gt.destroy();const pn=this.players.indexOf(Gt);this.players.splice(pn,1)}),Gt.play()}),Zr}elementContainsData(f,g){let C=!1;const B=g[Mn];return B&&B.setForRemoval&&(C=!0),this.playersByElement.has(g)&&(C=!0),this.playersByQueriedElement.has(g)&&(C=!0),this.statesByElement.has(g)&&(C=!0),this._fetchNamespace(f).elementContainsData(g)||C}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,g,C,B,Z){let he=[];if(g){const pe=this.playersByQueriedElement.get(f);pe&&(he=pe)}else{const pe=this.playersByElement.get(f);if(pe){const Ne=!Z||Z==cs;pe.forEach(We=>{We.queued||!Ne&&We.triggerName!=B||he.push(We)})}}return(C||B)&&(he=he.filter(pe=>!(C&&C!=pe.namespaceId||B&&B!=pe.triggerName))),he}_beforeAnimationBuild(f,g,C){const Z=g.element,he=g.isRemovalTransition?void 0:f,pe=g.isRemovalTransition?void 0:g.triggerName;for(const Ne of g.timelines){const We=Ne.element,rt=We!==Z,Tt=fe(C,We,[]);this._getPreviousPlayers(We,rt,he,pe,g.toState).forEach(Wt=>{const gt=Wt.getRealPlayer();gt.beforeDestroy&&gt.beforeDestroy(),Wt.destroy(),Tt.push(Wt)})}ti(Z,g.fromStyles)}_buildAnimation(f,g,C,B,Z,he){const pe=g.triggerName,Ne=g.element,We=[],rt=new Set,Tt=new Set,Sn=g.timelines.map(gt=>{const dn=gt.element;rt.add(dn);const Xt=dn[Mn];if(Xt&&Xt.removedBeforeQueried)return new Dt.ZN(gt.duration,gt.delay);const Xn=dn!==Ne,xn=function ys(w){const f=[];return Wr(w,f),f}((C.get(dn)||Ia).map(ai=>ai.getRealPlayer())).filter(ai=>!!ai.element&&ai.element===dn),At=Z.get(dn),Pr=he.get(dn),ki=Ee(0,this._normalizer,0,gt.keyframes,At,Pr),$i=this._buildPlayer(gt,ki,xn);if(gt.subTimeline&&B&&Tt.add(dn),Xn){const ai=new mi(f,pe,dn);ai.setRealPlayer($i),We.push(ai)}return $i});We.forEach(gt=>{fe(this.playersByQueriedElement,gt.element,[]).push(gt),gt.onDone(()=>function sa(w,f,g){let C=w.get(f);if(C){if(C.length){const B=C.indexOf(g);C.splice(B,1)}0==C.length&&w.delete(f)}return C}(this.playersByQueriedElement,gt.element,gt))}),rt.forEach(gt=>yi(gt,lr));const Wt=oe(Sn);return Wt.onDestroy(()=>{rt.forEach(gt=>qi(gt,lr)),_n(Ne,g.toStyles)}),Tt.forEach(gt=>{fe(B,gt,[]).push(Wt)}),Wt}_buildPlayer(f,g,C){return g.length>0?this.driver.animate(f.element,g,f.duration,f.delay,f.easing,C):new Dt.ZN(f.duration,f.delay)}}class mi{constructor(f,g,C){this.namespaceId=f,this.triggerName=g,this.element=C,this._player=new Dt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((g,C)=>{g.forEach(B=>Ge(f,C,void 0,B))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const g=this._player;g.triggerCallback&&f.onStart(()=>g.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,g){fe(this._queuedCallbacks,f,[]).push(g)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const g=this._player;g.triggerCallback&&g.triggerCallback(f)}}function eo(w){return w&&1===w.nodeType}function xo(w,f){const g=w.style.display;return w.style.display=f??"none",g}function hr(w,f,g,C,B){const Z=[];g.forEach(Ne=>Z.push(xo(Ne)));const he=[];C.forEach((Ne,We)=>{const rt=new Map;Ne.forEach(Tt=>{const Sn=f.computeStyle(We,Tt,B);rt.set(Tt,Sn),(!Sn||0==Sn.length)&&(We[Mn]=wt,he.push(We))}),w.set(We,rt)});let pe=0;return g.forEach(Ne=>xo(Ne,Z[pe++])),he}function Si(w,f){const g=new Map;if(w.forEach(pe=>g.set(pe,[])),0==f.length)return g;const C=1,B=new Set(f),Z=new Map;function he(pe){if(!pe)return C;let Ne=Z.get(pe);if(Ne)return Ne;const We=pe.parentNode;return Ne=g.has(We)?We:B.has(We)?C:he(We),Z.set(pe,Ne),Ne}return f.forEach(pe=>{const Ne=he(pe);Ne!==C&&g.get(Ne).push(pe)}),g}function yi(w,f){w.classList?.add(f)}function qi(w,f){w.classList?.remove(f)}function ls(w,f,g){oe(g).onDone(()=>w.processLeaveNode(f))}function Wr(w,f){for(let g=0;g<w.length;g++){const C=w[g];C instanceof Dt.ZE?Wr(C.players,f):f.push(C)}}function Po(w,f,g){const C=g.get(w);if(!C)return!1;let B=f.get(w);return B?C.forEach(Z=>B.add(Z)):f.set(w,C),g.delete(w),!0}class ds{constructor(f,g,C){this.bodyNode=f,this._driver=g,this._normalizer=C,this._triggerCache={},this.onRemovalComplete=(B,Z)=>{},this._transitionEngine=new yo(f,g,C),this._timelineEngine=new bn(f,g,C),this._transitionEngine.onRemovalComplete=(B,Z)=>this.onRemovalComplete(B,Z)}registerTrigger(f,g,C,B,Z){const he=f+"-"+B;let pe=this._triggerCache[he];if(!pe){const Ne=[],We=[],rt=bo(this._driver,Z,Ne,We);if(Ne.length)throw function nn(w,f){return new y.vHH(3404,!1)}();pe=function ra(w,f,g){return new So(w,f,g)}(B,rt,this._normalizer),this._triggerCache[he]=pe}this._transitionEngine.registerTrigger(g,B,pe)}register(f,g){this._transitionEngine.register(f,g)}destroy(f,g){this._transitionEngine.destroy(f,g)}onInsert(f,g,C,B){this._transitionEngine.insertNode(f,g,C,B)}onRemove(f,g,C,B){this._transitionEngine.removeNode(f,g,B||!1,C)}disableAnimations(f,g){this._transitionEngine.markElementAsDisabled(f,g)}process(f,g,C,B){if("@"==C.charAt(0)){const[Z,he]=ve(C);this._timelineEngine.command(Z,g,he,B)}else this._transitionEngine.trigger(f,g,C,B)}listen(f,g,C,B,Z){if("@"==C.charAt(0)){const[he,pe]=ve(C);return this._timelineEngine.listen(he,g,pe,Z)}return this._transitionEngine.listen(f,g,C,B,Z)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Oo=(()=>{class w{constructor(g,C,B){this._element=g,this._startStyles=C,this._endStyles=B,this._state=0;let Z=w.initialStylesByElement.get(g);Z||w.initialStylesByElement.set(g,Z=new Map),this._initialStyles=Z}start(){this._state<1&&(this._startStyles&&_n(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_n(this._element,this._initialStyles),this._endStyles&&(_n(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(w.initialStylesByElement.delete(this._element),this._startStyles&&(ti(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ti(this._element,this._endStyles),this._endStyles=null),_n(this._element,this._initialStyles),this._state=3)}}return w.initialStylesByElement=new WeakMap,w})();function Ms(w){let f=null;return w.forEach((g,C)=>{(function Oa(w){return"display"===w||"position"===w})(C)&&(f=f||new Map,f.set(C,g))}),f}class vo{constructor(f,g,C,B){this.element=f,this.keyframes=g,this.options=C,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=C.duration,this._delay=C.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const g=[];return f.forEach(C=>{g.push(Object.fromEntries(C))}),g}_triggerWebAnimation(f,g,C){return f.animate(this._convertKeyframesToObject(g),C)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((C,B)=>{"offset"!==B&&f.set(B,this._finished?C:ii(this.element,B))}),this.currentSnapshot=f}triggerCallback(f){const g="start"===f?this._onStartFns:this._onDoneFns;g.forEach(C=>C()),g.length=0}}class No{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,g){return!1}containsElement(f,g){return _r(f,g)}getParentElement(f){return yt(f)}query(f,g,C){return Fi(f,g,C)}computeStyle(f,g,C){return window.getComputedStyle(f)[g]}animate(f,g,C,B,Z,he=[]){const Ne={duration:C,delay:B,fill:0==B?"both":"forwards"};Z&&(Ne.easing=Z);const We=new Map,rt=he.filter(Wt=>Wt instanceof vo);(function fo(w,f){return 0===w||0===f})(C,B)&&rt.forEach(Wt=>{Wt.currentSnapshot.forEach((gt,dn)=>We.set(dn,gt))});let Tt=function et(w){return w.length?w[0]instanceof Map?w:w.map(f=>ze(f)):[]}(g).map(Wt=>Jt(Wt));Tt=function po(w,f,g){if(g.size&&f.length){let C=f[0],B=[];if(g.forEach((Z,he)=>{C.has(he)||B.push(he),C.set(he,Z)}),B.length)for(let Z=1;Z<f.length;Z++){let he=f[Z];B.forEach(pe=>he.set(pe,ii(w,pe)))}}return f}(f,Tt,We);const Sn=function ba(w,f){let g=null,C=null;return Array.isArray(f)&&f.length?(g=Ms(f[0]),f.length>1&&(C=Ms(f[f.length-1]))):f instanceof Map&&(g=Ms(f)),g||C?new Oo(w,g,C):null}(f,Tt);return new vo(f,Tt,Ne,Sn)}}let Na=(()=>{class w extends Dt._j{constructor(g,C){super(),this._nextAnimationId=0,this._renderer=g.createRenderer(C.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(g){const C=this._nextAnimationId.toString();this._nextAnimationId++;const B=Array.isArray(g)?(0,Dt.vP)(g):g;return ka(this._renderer,null,C,"register",[B]),new to(C,this._renderer)}}return w.\u0275fac=function(g){return new(g||w)(y.LFG(y.FYo),y.LFG(j.K0))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac}),w})();class to extends Dt.LC{constructor(f,g){super(),this._id=f,this._renderer=g}create(f,g){return new oa(this._id,f,g||{},this._renderer)}}class oa{constructor(f,g,C,B){this.id=f,this.element=g,this._renderer=B,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",C)}_listen(f,g){return this._renderer.listen(this.element,`@@${this.id}:${f}`,g)}_command(f,...g){return ka(this._renderer,this.element,this.id,f,g)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ka(w,f,g,C,B){return w.setProperty(f,`@@${g}:${C}`,B)}const Rs="@.disabled";let no=(()=>{class w{constructor(g,C,B){this.delegate=g,this.engine=C,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),C.onRemovalComplete=(Z,he)=>{const pe=he?.parentNode(Z);pe&&he.removeChild(pe,Z)}}createRenderer(g,C){const Z=this.delegate.createRenderer(g,C);if(!(g&&C&&C.data&&C.data.animation)){let rt=this._rendererCache.get(Z);return rt||(rt=new Kr("",Z,this.engine,()=>this._rendererCache.delete(Z)),this._rendererCache.set(Z,rt)),rt}const he=C.id,pe=C.id+"-"+this._currentId;this._currentId++,this.engine.register(pe,g);const Ne=rt=>{Array.isArray(rt)?rt.forEach(Ne):this.engine.registerTrigger(he,pe,g,rt.name,rt)};return C.data.animation.forEach(Ne),new Zi(this,pe,Z,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(g,C,B){g>=0&&g<this._microtaskId?this._zone.run(()=>C(B)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Z=>{const[he,pe]=Z;he(pe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([C,B]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return w.\u0275fac=function(g){return new(g||w)(y.LFG(y.FYo),y.LFG(ds),y.LFG(y.R0b))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac}),w})();class Kr{constructor(f,g,C,B){this.namespaceId=f,this.delegate=g,this.engine=C,this._onDestroy=B,this.destroyNode=this.delegate.destroyNode?Z=>g.destroyNode(Z):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(f,g){return this.delegate.createElement(f,g)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,g){this.delegate.appendChild(f,g),this.engine.onInsert(this.namespaceId,g,f,!1)}insertBefore(f,g,C,B=!0){this.delegate.insertBefore(f,g,C),this.engine.onInsert(this.namespaceId,g,f,B)}removeChild(f,g,C){this.engine.onRemove(this.namespaceId,g,this.delegate,C)}selectRootElement(f,g){return this.delegate.selectRootElement(f,g)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,g,C,B){this.delegate.setAttribute(f,g,C,B)}removeAttribute(f,g,C){this.delegate.removeAttribute(f,g,C)}addClass(f,g){this.delegate.addClass(f,g)}removeClass(f,g){this.delegate.removeClass(f,g)}setStyle(f,g,C,B){this.delegate.setStyle(f,g,C,B)}removeStyle(f,g,C){this.delegate.removeStyle(f,g,C)}setProperty(f,g,C){"@"==g.charAt(0)&&g==Rs?this.disableAnimations(f,!!C):this.delegate.setProperty(f,g,C)}setValue(f,g){this.delegate.setValue(f,g)}listen(f,g,C){return this.delegate.listen(f,g,C)}disableAnimations(f,g){this.engine.disableAnimations(f,g)}}class Zi extends Kr{constructor(f,g,C,B,Z){super(g,C,B,Z),this.factory=f,this.namespaceId=g}setProperty(f,g,C){"@"==g.charAt(0)?"."==g.charAt(1)&&g==Rs?this.disableAnimations(f,C=void 0===C||!!C):this.engine.process(this.namespaceId,f,g.slice(1),C):this.delegate.setProperty(f,g,C)}listen(f,g,C){if("@"==g.charAt(0)){const B=function dt(w){switch(w){case"body":return document.body;case"document":return document;case"window":return window;default:return w}}(f);let Z=g.slice(1),he="";return"@"!=Z.charAt(0)&&([Z,he]=function jr(w){const f=w.indexOf(".");return[w.substring(0,f),w.slice(f+1)]}(Z)),this.engine.listen(this.namespaceId,B,Z,he,pe=>{this.factory.scheduleListenerCallback(pe._data||-1,C,pe)})}return this.delegate.listen(f,g,C)}}const cn=[{provide:Dt._j,useClass:Na},{provide:js,useFactory:function aa(){return new zs}},{provide:ds,useClass:(()=>{class w extends ds{constructor(g,C,B,Z){super(g.body,C,B)}ngOnDestroy(){this.flush()}}return w.\u0275fac=function(g){return new(g||w)(y.LFG(j.K0),y.LFG(Hn),y.LFG(js),y.LFG(y.z2F))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac}),w})()},{provide:y.FYo,useFactory:function rn(w,f,g){return new no(w,f,g)},deps:[Rn.se,ds,y.R0b]}],ua=[{provide:Hn,useFactory:()=>new No},{provide:y.QbO,useValue:"BrowserAnimations"},...cn],jt=[{provide:Hn,useClass:ri},{provide:y.QbO,useValue:"NoopAnimations"},...cn];let Je=(()=>{class w{static withConfig(g){return{ngModule:w,providers:g.disableAnimations?jt:ua}}}return w.\u0275fac=function(g){return new(g||w)},w.\u0275mod=y.oAB({type:w}),w.\u0275inj=y.cJS({providers:ua,imports:[Rn.b2]}),w})();(0,Rn.Cg)(Lt,{providers:[(0,X.bU)(ae),(0,y.RIp)([Je,un.JF,(0,L.hX)(()=>(0,L.ZF)(ln_firebaseConfig)),(0,ce.Cm)(()=>(0,ce.ad)()),(0,ee.AR)(()=>(0,ee.v0)())])]})},1135:(xt,Re,O)=>{O.d(Re,{X:()=>V});var y=O(7579);class V extends y.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const ae=super._subscribe(se);return!ae.closed&&se.next(this._value),ae}getValue(){const{hasError:se,thrownError:ae,_value:ce}=this;if(se)throw ae;return this._throwIfClosed(),ce}next(se){super.next(this._value=se)}}},9751:(xt,Re,O)=>{O.d(Re,{y:()=>L});var y=O(930),V=O(727),X=O(8822),se=O(9635),ae=O(2416),ce=O(576),ee=O(2806);let L=(()=>{class re{constructor(je){je&&(this._subscribe=je)}lift(je){const ye=new re;return ye.source=this,ye.operator=je,ye}subscribe(je,ye,ot){const Se=function Y(re){return re&&re instanceof y.Lv||function j(re){return re&&(0,ce.m)(re.next)&&(0,ce.m)(re.error)&&(0,ce.m)(re.complete)}(re)&&(0,V.Nn)(re)}(je)?je:new y.Hp(je,ye,ot);return(0,ee.x)(()=>{const{operator:He,source:Ce}=this;Se.add(He?He.call(Se,Ce):Ce?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(je){try{return this._subscribe(je)}catch(ye){je.error(ye)}}forEach(je,ye){return new(ye=q(ye))((ot,Se)=>{const He=new y.Hp({next:Ce=>{try{je(Ce)}catch(Ze){Se(Ze),He.unsubscribe()}},error:Se,complete:ot});this.subscribe(He)})}_subscribe(je){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(je)}[X.L](){return this}pipe(...je){return(0,se.U)(je)(this)}toPromise(je){return new(je=q(je))((ye,ot)=>{let Se;this.subscribe(He=>Se=He,He=>ot(He),()=>ye(Se))})}}return re.create=_e=>new re(_e),re})();function q(re){var _e;return null!==(_e=re??ae.v.Promise)&&void 0!==_e?_e:Promise}},4707:(xt,Re,O)=>{O.d(Re,{t:()=>X});var y=O(7579),V=O(6063);class X extends y.x{constructor(ae=1/0,ce=1/0,ee=V.l){super(),this._bufferSize=ae,this._windowTime=ce,this._timestampProvider=ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ce===1/0,this._bufferSize=Math.max(1,ae),this._windowTime=Math.max(1,ce)}next(ae){const{isStopped:ce,_buffer:ee,_infiniteTimeWindow:L,_timestampProvider:q,_windowTime:j}=this;ce||(ee.push(ae),!L&&ee.push(q.now()+j)),this._trimBuffer(),super.next(ae)}_subscribe(ae){this._throwIfClosed(),this._trimBuffer();const ce=this._innerSubscribe(ae),{_infiniteTimeWindow:ee,_buffer:L}=this,q=L.slice();for(let j=0;j<q.length&&!ae.closed;j+=ee?1:2)ae.next(q[j]);return this._checkFinalizedStatuses(ae),ce}_trimBuffer(){const{_bufferSize:ae,_timestampProvider:ce,_buffer:ee,_infiniteTimeWindow:L}=this,q=(L?1:2)*ae;if(ae<1/0&&q<ee.length&&ee.splice(0,ee.length-q),!L){const j=ce.now();let Y=0;for(let re=1;re<ee.length&&ee[re]<=j;re+=2)Y=re;Y&&ee.splice(0,Y+1)}}}},7579:(xt,Re,O)=>{O.d(Re,{x:()=>ee});var y=O(9751),V=O(727);const se=(0,O(3888).d)(q=>function(){q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=O(8737),ce=O(2806);let ee=(()=>{class q extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const re=new L(this,this);return re.operator=Y,re}_throwIfClosed(){if(this.closed)throw new se}next(Y){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(Y)}})}error(Y){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:re}=this;for(;re.length;)re.shift().error(Y)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:re,isStopped:_e,observers:je}=this;return re||_e?V.Lc:(this.currentObservers=null,je.push(Y),new V.w0(()=>{this.currentObservers=null,(0,ae.P)(je,Y)}))}_checkFinalizedStatuses(Y){const{hasError:re,thrownError:_e,isStopped:je}=this;re?Y.error(_e):je&&Y.complete()}asObservable(){const Y=new y.y;return Y.source=this,Y}}return q.create=(j,Y)=>new L(j,Y),q})();class L extends ee{constructor(j,Y){super(),this.destination=j,this.source=Y}next(j){var Y,re;null===(re=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===re||re.call(Y,j)}error(j){var Y,re;null===(re=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===re||re.call(Y,j)}complete(){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===Y||Y.call(j)}_subscribe(j){var Y,re;return null!==(re=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(j))&&void 0!==re?re:V.Lc}}},930:(xt,Re,O)=>{O.d(Re,{Hp:()=>ot,Lv:()=>re});var y=O(576),V=O(727),X=O(2416),se=O(7849),ae=O(5032);const ce=q("C",void 0,void 0);function q(Pe,de,Ae){return{kind:Pe,value:de,error:Ae}}var j=O(3410),Y=O(2806);class re extends V.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,V.Nn)(de)&&de.add(this)):this.destination=Ze}static create(de,Ae,it){return new ot(de,Ae,it)}next(de){this.isStopped?Ce(function L(Pe){return q("N",Pe,void 0)}(de),this):this._next(de)}error(de){this.isStopped?Ce(function ee(Pe){return q("E",void 0,Pe)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?Ce(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _e=Function.prototype.bind;function je(Pe,de){return _e.call(Pe,de)}class ye{constructor(de){this.partialObserver=de}next(de){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(de)}catch(it){Se(it)}}error(de){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(de)}catch(it){Se(it)}else Se(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(Ae){Se(Ae)}}}class ot extends re{constructor(de,Ae,it){let we;if(super(),(0,y.m)(de)||!de)we={next:de??void 0,error:Ae??void 0,complete:it??void 0};else{let Me;this&&X.v.useDeprecatedNextContext?(Me=Object.create(de),Me.unsubscribe=()=>this.unsubscribe(),we={next:de.next&&je(de.next,Me),error:de.error&&je(de.error,Me),complete:de.complete&&je(de.complete,Me)}):we=de}this.destination=new ye(we)}}function Se(Pe){X.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Pe):(0,se.h)(Pe)}function Ce(Pe,de){const{onStoppedNotification:Ae}=X.v;Ae&&j.z.setTimeout(()=>Ae(Pe,de))}const Ze={closed:!0,next:ae.Z,error:function He(Pe){throw Pe},complete:ae.Z}},727:(xt,Re,O)=>{O.d(Re,{Lc:()=>ce,w0:()=>ae,Nn:()=>ee});var y=O(576);const X=(0,O(3888).d)(q=>function(Y){q(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((re,_e)=>`${_e+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var se=O(8737);class ae{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const je of Y)je.remove(this);else Y.remove(this);const{initialTeardown:re}=this;if((0,y.m)(re))try{re()}catch(je){j=je instanceof X?je.errors:[je]}const{_finalizers:_e}=this;if(_e){this._finalizers=null;for(const je of _e)try{L(je)}catch(ye){j=j??[],ye instanceof X?j=[...j,...ye.errors]:j.push(ye)}}if(j)throw new X(j)}}add(j){var Y;if(j&&j!==this)if(this.closed)L(j);else{if(j instanceof ae){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(j)}}_hasParent(j){const{_parentage:Y}=this;return Y===j||Array.isArray(Y)&&Y.includes(j)}_addParent(j){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(j),Y):Y?[Y,j]:j}_removeParent(j){const{_parentage:Y}=this;Y===j?this._parentage=null:Array.isArray(Y)&&(0,se.P)(Y,j)}remove(j){const{_finalizers:Y}=this;Y&&(0,se.P)(Y,j),j instanceof ae&&j._removeParent(this)}}ae.EMPTY=(()=>{const q=new ae;return q.closed=!0,q})();const ce=ae.EMPTY;function ee(q){return q instanceof ae||q&&"closed"in q&&(0,y.m)(q.remove)&&(0,y.m)(q.add)&&(0,y.m)(q.unsubscribe)}function L(q){(0,y.m)(q)?q():q.unsubscribe()}},2416:(xt,Re,O)=>{O.d(Re,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(xt,Re,O)=>{O.d(Re,{c:()=>ce});var y=O(9751),V=O(727),X=O(8343),se=O(5403),ae=O(4482);class ce extends y.y{constructor(L,q){super(),this.source=L,this.subjectFactory=q,this._subject=null,this._refCount=0,this._connection=null,(0,ae.A)(L)&&(this.lift=L.lift)}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:L}=this;this._subject=this._connection=null,L?.unsubscribe()}connect(){let L=this._connection;if(!L){L=this._connection=new V.w0;const q=this.getSubject();L.add(this.source.subscribe((0,se.x)(q,void 0,()=>{this._teardown(),q.complete()},j=>{this._teardown(),q.error(j)},()=>this._teardown()))),L.closed&&(this._connection=null,L=V.w0.EMPTY)}return L}refCount(){return(0,X.x)()(this)}}},9841:(xt,Re,O)=>{O.d(Re,{a:()=>j});var y=O(9751),V=O(4742),X=O(8996),se=O(4671),ae=O(3268),ce=O(3269),ee=O(1810),L=O(5403),q=O(9672);function j(..._e){const je=(0,ce.yG)(_e),ye=(0,ce.jO)(_e),{args:ot,keys:Se}=(0,V.D)(_e);if(0===ot.length)return(0,X.D)([],je);const He=new y.y(function Y(_e,je,ye=se.y){return ot=>{re(je,()=>{const{length:Se}=_e,He=new Array(Se);let Ce=Se,Ze=Se;for(let Pe=0;Pe<Se;Pe++)re(je,()=>{const de=(0,X.D)(_e[Pe],je);let Ae=!1;de.subscribe((0,L.x)(ot,it=>{He[Pe]=it,Ae||(Ae=!0,Ze--),Ze||ot.next(ye(He.slice()))},()=>{--Ce||ot.complete()}))},ot)},ot)}}(ot,je,Se?Ce=>(0,ee.n)(Se,Ce):se.y));return ye?He.pipe((0,ae.Z)(ye)):He}function re(_e,je,ye){_e?(0,q.f)(ye,_e,je):je()}},7272:(xt,Re,O)=>{O.d(Re,{z:()=>ae});var y=O(8189),X=O(3269),se=O(8996);function ae(...ce){return function V(){return(0,y.J)(1)}()((0,se.D)(ce,(0,X.yG)(ce)))}},9770:(xt,Re,O)=>{O.d(Re,{P:()=>X});var y=O(9751),V=O(8421);function X(se){return new y.y(ae=>{(0,V.Xf)(se()).subscribe(ae)})}},515:(xt,Re,O)=>{O.d(Re,{E:()=>V});const V=new(O(9751).y)(ae=>ae.complete())},8996:(xt,Re,O)=>{O.d(Re,{D:()=>de});var y=O(8421),V=O(5363),X=O(9468),ce=O(9751),L=O(2202),q=O(576),j=O(9672);function re(Ae,it){if(!Ae)throw new Error("Iterable cannot be null");return new ce.y(we=>{(0,j.f)(we,it,()=>{const Me=Ae[Symbol.asyncIterator]();(0,j.f)(we,it,()=>{Me.next().then(Ke=>{Ke.done?we.complete():we.next(Ke.value)})},0,!0)})})}var _e=O(3670),je=O(8239),ye=O(1144),ot=O(6495),Se=O(2206),He=O(4532),Ce=O(3260);function de(Ae,it){return it?function Pe(Ae,it){if(null!=Ae){if((0,_e.c)(Ae))return function se(Ae,it){return(0,y.Xf)(Ae).pipe((0,X.R)(it),(0,V.Q)(it))}(Ae,it);if((0,ye.z)(Ae))return function ee(Ae,it){return new ce.y(we=>{let Me=0;return it.schedule(function(){Me===Ae.length?we.complete():(we.next(Ae[Me++]),we.closed||this.schedule())})})}(Ae,it);if((0,je.t)(Ae))return function ae(Ae,it){return(0,y.Xf)(Ae).pipe((0,X.R)(it),(0,V.Q)(it))}(Ae,it);if((0,Se.D)(Ae))return re(Ae,it);if((0,ot.T)(Ae))return function Y(Ae,it){return new ce.y(we=>{let Me;return(0,j.f)(we,it,()=>{Me=Ae[L.h](),(0,j.f)(we,it,()=>{let Ke,Ft;try{({value:Ke,done:Ft}=Me.next())}catch(Pt){return void we.error(Pt)}Ft?we.complete():we.next(Ke)},0,!0)}),()=>(0,q.m)(Me?.return)&&Me.return()})}(Ae,it);if((0,Ce.L)(Ae))return function Ze(Ae,it){return re((0,Ce.Q)(Ae),it)}(Ae,it)}throw(0,He.z)(Ae)}(Ae,it):(0,y.Xf)(Ae)}},8421:(xt,Re,O)=>{O.d(Re,{Xf:()=>_e});var y=O(655),V=O(1144),X=O(8239),se=O(9751),ae=O(3670),ce=O(2206),ee=O(4532),L=O(6495),q=O(3260),j=O(576),Y=O(7849),re=O(8822);function _e(Pe){if(Pe instanceof se.y)return Pe;if(null!=Pe){if((0,ae.c)(Pe))return function je(Pe){return new se.y(de=>{const Ae=Pe[re.L]();if((0,j.m)(Ae.subscribe))return Ae.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,V.z)(Pe))return function ye(Pe){return new se.y(de=>{for(let Ae=0;Ae<Pe.length&&!de.closed;Ae++)de.next(Pe[Ae]);de.complete()})}(Pe);if((0,X.t)(Pe))return function ot(Pe){return new se.y(de=>{Pe.then(Ae=>{de.closed||(de.next(Ae),de.complete())},Ae=>de.error(Ae)).then(null,Y.h)})}(Pe);if((0,ce.D)(Pe))return He(Pe);if((0,L.T)(Pe))return function Se(Pe){return new se.y(de=>{for(const Ae of Pe)if(de.next(Ae),de.closed)return;de.complete()})}(Pe);if((0,q.L)(Pe))return function Ce(Pe){return He((0,q.Q)(Pe))}(Pe)}throw(0,ee.z)(Pe)}function He(Pe){return new se.y(de=>{(function Ze(Pe,de){var Ae,it,we,Me;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,y.KL)(Pe);!(it=yield Ae.next()).done;)if(de.next(it.value),de.closed)return}catch(Ke){we={error:Ke}}finally{try{it&&!it.done&&(Me=Ae.return)&&(yield Me.call(Ae))}finally{if(we)throw we.error}}de.complete()})})(Pe,de).catch(Ae=>de.error(Ae))})}},6451:(xt,Re,O)=>{O.d(Re,{T:()=>ce});var y=O(8189),V=O(8421),X=O(515),se=O(3269),ae=O(8996);function ce(...ee){const L=(0,se.yG)(ee),q=(0,se._6)(ee,1/0),j=ee;return j.length?1===j.length?(0,V.Xf)(j[0]):(0,y.J)(q)((0,ae.D)(j,L)):X.E}},9646:(xt,Re,O)=>{O.d(Re,{of:()=>X});var y=O(3269),V=O(8996);function X(...se){const ae=(0,y.yG)(se);return(0,V.D)(se,ae)}},5963:(xt,Re,O)=>{O.d(Re,{H:()=>ae});var y=O(9751),V=O(4986),X=O(3532);function ae(ce=0,ee,L=V.P){let q=-1;return null!=ee&&((0,X.K)(ee)?L=ee:q=ee),new y.y(j=>{let Y=function se(ce){return ce instanceof Date&&!isNaN(ce)}(ce)?+ce-L.now():ce;Y<0&&(Y=0);let re=0;return L.schedule(function(){j.closed||(j.next(re++),0<=q?this.schedule(void 0,q):j.complete())},Y)})}},5403:(xt,Re,O)=>{O.d(Re,{x:()=>V});var y=O(930);function V(se,ae,ce,ee,L){return new X(se,ae,ce,ee,L)}class X extends y.Lv{constructor(ae,ce,ee,L,q,j){super(ae),this.onFinalize=q,this.shouldUnsubscribe=j,this._next=ce?function(Y){try{ce(Y)}catch(re){ae.error(re)}}:super._next,this._error=L?function(Y){try{L(Y)}catch(re){ae.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(Y){ae.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},262:(xt,Re,O)=>{O.d(Re,{K:()=>se});var y=O(8421),V=O(5403),X=O(4482);function se(ae){return(0,X.e)((ce,ee)=>{let j,L=null,q=!1;L=ce.subscribe((0,V.x)(ee,void 0,void 0,Y=>{j=(0,y.Xf)(ae(Y,se(ae)(ce))),L?(L.unsubscribe(),L=null,j.subscribe(ee)):q=!0})),q&&(L.unsubscribe(),L=null,j.subscribe(ee))})}},4351:(xt,Re,O)=>{O.d(Re,{b:()=>X});var y=O(5577),V=O(576);function X(se,ae){return(0,V.m)(ae)?(0,y.z)(se,ae,1):(0,y.z)(se,1)}},1884:(xt,Re,O)=>{O.d(Re,{x:()=>se});var y=O(4671),V=O(4482),X=O(5403);function se(ce,ee=y.y){return ce=ce??ae,(0,V.e)((L,q)=>{let j,Y=!0;L.subscribe((0,X.x)(q,re=>{const _e=ee(re);(Y||!ce(j,_e))&&(Y=!1,j=_e,q.next(re))}))})}function ae(ce,ee){return ce===ee}},9300:(xt,Re,O)=>{O.d(Re,{h:()=>X});var y=O(4482),V=O(5403);function X(se,ae){return(0,y.e)((ce,ee)=>{let L=0;ce.subscribe((0,V.x)(ee,q=>se.call(ae,q,L++)&&ee.next(q)))})}},8746:(xt,Re,O)=>{O.d(Re,{x:()=>V});var y=O(4482);function V(X){return(0,y.e)((se,ae)=>{try{se.subscribe(ae)}finally{ae.add(X)}})}},4004:(xt,Re,O)=>{O.d(Re,{U:()=>X});var y=O(4482),V=O(5403);function X(se,ae){return(0,y.e)((ce,ee)=>{let L=0;ce.subscribe((0,V.x)(ee,q=>{ee.next(se.call(ae,q,L++))}))})}},9718:(xt,Re,O)=>{O.d(Re,{h:()=>V});var y=O(4004);function V(X){return(0,y.U)(()=>X)}},8189:(xt,Re,O)=>{O.d(Re,{J:()=>X});var y=O(5577),V=O(4671);function X(se=1/0){return(0,y.z)(V.y,se)}},5577:(xt,Re,O)=>{O.d(Re,{z:()=>L});var y=O(4004),V=O(8421),X=O(4482),se=O(9672),ae=O(5403),ee=O(576);function L(q,j,Y=1/0){return(0,ee.m)(j)?L((re,_e)=>(0,y.U)((je,ye)=>j(re,je,_e,ye))((0,V.Xf)(q(re,_e))),Y):("number"==typeof j&&(Y=j),(0,X.e)((re,_e)=>function ce(q,j,Y,re,_e,je,ye,ot){const Se=[];let He=0,Ce=0,Ze=!1;const Pe=()=>{Ze&&!Se.length&&!He&&j.complete()},de=it=>He<re?Ae(it):Se.push(it),Ae=it=>{je&&j.next(it),He++;let we=!1;(0,V.Xf)(Y(it,Ce++)).subscribe((0,ae.x)(j,Me=>{_e?.(Me),je?de(Me):j.next(Me)},()=>{we=!0},void 0,()=>{if(we)try{for(He--;Se.length&&He<re;){const Me=Se.shift();ye?(0,se.f)(j,ye,()=>Ae(Me)):Ae(Me)}Pe()}catch(Me){j.error(Me)}}))};return q.subscribe((0,ae.x)(j,de,()=>{Ze=!0,Pe()})),()=>{ot?.()}}(re,_e,q,Y)))}},5363:(xt,Re,O)=>{O.d(Re,{Q:()=>se});var y=O(9672),V=O(4482),X=O(5403);function se(ae,ce=0){return(0,V.e)((ee,L)=>{ee.subscribe((0,X.x)(L,q=>(0,y.f)(L,ae,()=>L.next(q),ce),()=>(0,y.f)(L,ae,()=>L.complete(),ce),q=>(0,y.f)(L,ae,()=>L.error(q),ce)))})}},8343:(xt,Re,O)=>{O.d(Re,{x:()=>X});var y=O(4482),V=O(5403);function X(){return(0,y.e)((se,ae)=>{let ce=null;se._refCount++;const ee=(0,V.x)(ae,void 0,void 0,void 0,()=>{if(!se||se._refCount<=0||0<--se._refCount)return void(ce=null);const L=se._connection,q=ce;ce=null,L&&(!q||L===q)&&L.unsubscribe(),ae.unsubscribe()});se.subscribe(ee),ee.closed||(ce=se.connect())})}},3099:(xt,Re,O)=>{O.d(Re,{B:()=>ae});var y=O(8421),V=O(7579),X=O(930),se=O(4482);function ae(ee={}){const{connector:L=(()=>new V.x),resetOnError:q=!0,resetOnComplete:j=!0,resetOnRefCountZero:Y=!0}=ee;return re=>{let _e,je,ye,ot=0,Se=!1,He=!1;const Ce=()=>{je?.unsubscribe(),je=void 0},Ze=()=>{Ce(),_e=ye=void 0,Se=He=!1},Pe=()=>{const de=_e;Ze(),de?.unsubscribe()};return(0,se.e)((de,Ae)=>{ot++,!He&&!Se&&Ce();const it=ye=ye??L();Ae.add(()=>{ot--,0===ot&&!He&&!Se&&(je=ce(Pe,Y))}),it.subscribe(Ae),!_e&&ot>0&&(_e=new X.Hp({next:we=>it.next(we),error:we=>{He=!0,Ce(),je=ce(Ze,q,we),it.error(we)},complete:()=>{Se=!0,Ce(),je=ce(Ze,j),it.complete()}}),(0,y.Xf)(de).subscribe(_e))})(re)}}function ce(ee,L,...q){if(!0===L)return void ee();if(!1===L)return;const j=new X.Hp({next:()=>{j.unsubscribe(),ee()}});return(0,y.Xf)(L(...q)).subscribe(j)}},8675:(xt,Re,O)=>{O.d(Re,{O:()=>se});var y=O(7272),V=O(3269),X=O(4482);function se(...ae){const ce=(0,V.yG)(ae);return(0,X.e)((ee,L)=>{(ce?(0,y.z)(ae,ee,ce):(0,y.z)(ae,ee)).subscribe(L)})}},9468:(xt,Re,O)=>{O.d(Re,{R:()=>V});var y=O(4482);function V(X,se=0){return(0,y.e)((ae,ce)=>{ce.add(X.schedule(()=>ae.subscribe(ce),se))})}},3900:(xt,Re,O)=>{O.d(Re,{w:()=>se});var y=O(8421),V=O(4482),X=O(5403);function se(ae,ce){return(0,V.e)((ee,L)=>{let q=null,j=0,Y=!1;const re=()=>Y&&!q&&L.complete();ee.subscribe((0,X.x)(L,_e=>{q?.unsubscribe();let je=0;const ye=j++;(0,y.Xf)(ae(_e,ye)).subscribe(q=(0,X.x)(L,ot=>L.next(ce?ce(_e,ot,ye,je++):ot),()=>{q=null,re()}))},()=>{Y=!0,re()}))})}},5698:(xt,Re,O)=>{O.d(Re,{q:()=>se});var y=O(515),V=O(4482),X=O(5403);function se(ae){return ae<=0?()=>y.E:(0,V.e)((ce,ee)=>{let L=0;ce.subscribe((0,X.x)(ee,q=>{++L<=ae&&(ee.next(q),ae<=L&&ee.complete())}))})}},2722:(xt,Re,O)=>{O.d(Re,{R:()=>ae});var y=O(4482),V=O(5403),X=O(8421),se=O(5032);function ae(ce){return(0,y.e)((ee,L)=>{(0,X.Xf)(ce).subscribe((0,V.x)(L,()=>L.complete(),se.Z)),!L.closed&&ee.subscribe(L)})}},2529:(xt,Re,O)=>{O.d(Re,{o:()=>X});var y=O(4482),V=O(5403);function X(se,ae=!1){return(0,y.e)((ce,ee)=>{let L=0;ce.subscribe((0,V.x)(ee,q=>{const j=se(q,L++);(j||ae)&&ee.next(q),!j&&ee.complete()}))})}},8505:(xt,Re,O)=>{O.d(Re,{b:()=>ae});var y=O(576),V=O(4482),X=O(5403),se=O(4671);function ae(ce,ee,L){const q=(0,y.m)(ce)||ee||L?{next:ce,error:ee,complete:L}:ce;return q?(0,V.e)((j,Y)=>{var re;null===(re=q.subscribe)||void 0===re||re.call(q);let _e=!0;j.subscribe((0,X.x)(Y,je=>{var ye;null===(ye=q.next)||void 0===ye||ye.call(q,je),Y.next(je)},()=>{var je;_e=!1,null===(je=q.complete)||void 0===je||je.call(q),Y.complete()},je=>{var ye;_e=!1,null===(ye=q.error)||void 0===ye||ye.call(q,je),Y.error(je)},()=>{var je,ye;_e&&(null===(je=q.unsubscribe)||void 0===je||je.call(q)),null===(ye=q.finalize)||void 0===ye||ye.call(q)}))}):se.y}},4408:(xt,Re,O)=>{O.d(Re,{o:()=>ae});var y=O(727);class V extends y.w0{constructor(ee,L){super()}schedule(ee,L=0){return this}}const X={setInterval(ce,ee,...L){const{delegate:q}=X;return q?.setInterval?q.setInterval(ce,ee,...L):setInterval(ce,ee,...L)},clearInterval(ce){const{delegate:ee}=X;return(ee?.clearInterval||clearInterval)(ce)},delegate:void 0};var se=O(8737);class ae extends V{constructor(ee,L){super(ee,L),this.scheduler=ee,this.work=L,this.pending=!1}schedule(ee,L=0){var q;if(this.closed)return this;this.state=ee;const j=this.id,Y=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(Y,j,L)),this.pending=!0,this.delay=L,this.id=null!==(q=this.id)&&void 0!==q?q:this.requestAsyncId(Y,this.id,L),this}requestAsyncId(ee,L,q=0){return X.setInterval(ee.flush.bind(ee,this),q)}recycleAsyncId(ee,L,q=0){if(null!=q&&this.delay===q&&!1===this.pending)return L;null!=L&&X.clearInterval(L)}execute(ee,L){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const q=this._execute(ee,L);if(q)return q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,L){let j,q=!1;try{this.work(ee)}catch(Y){q=!0,j=Y||new Error("Scheduled action threw falsy error")}if(q)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ee,scheduler:L}=this,{actions:q}=L;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(q,this),null!=ee&&(this.id=this.recycleAsyncId(L,ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,Re,O)=>{O.d(Re,{v:()=>X});var y=O(6063);class V{constructor(ae,ce=V.now){this.schedulerActionCtor=ae,this.now=ce}schedule(ae,ce=0,ee){return new this.schedulerActionCtor(this,ae).schedule(ee,ce)}}V.now=y.l.now;class X extends V{constructor(ae,ce=V.now){super(ae,ce),this.actions=[],this._active=!1}flush(ae){const{actions:ce}=this;if(this._active)return void ce.push(ae);let ee;this._active=!0;do{if(ee=ae.execute(ae.state,ae.delay))break}while(ae=ce.shift());if(this._active=!1,ee){for(;ae=ce.shift();)ae.unsubscribe();throw ee}}}},4986:(xt,Re,O)=>{O.d(Re,{P:()=>se,z:()=>X});var y=O(4408);const X=new(O(7565).v)(y.o),se=X},6063:(xt,Re,O)=>{O.d(Re,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(xt,Re,O)=>{O.d(Re,{z:()=>y});const y={setTimeout(V,X,...se){const{delegate:ae}=y;return ae?.setTimeout?ae.setTimeout(V,X,...se):setTimeout(V,X,...se)},clearTimeout(V){const{delegate:X}=y;return(X?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(xt,Re,O)=>{O.d(Re,{h:()=>V});const V=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Re,O)=>{O.d(Re,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(xt,Re,O)=>{O.d(Re,{_6:()=>ce,jO:()=>se,yG:()=>ae});var y=O(576),V=O(3532);function X(ee){return ee[ee.length-1]}function se(ee){return(0,y.m)(X(ee))?ee.pop():void 0}function ae(ee){return(0,V.K)(X(ee))?ee.pop():void 0}function ce(ee,L){return"number"==typeof X(ee)?ee.pop():L}},4742:(xt,Re,O)=>{O.d(Re,{D:()=>ae});const{isArray:y}=Array,{getPrototypeOf:V,prototype:X,keys:se}=Object;function ae(ee){if(1===ee.length){const L=ee[0];if(y(L))return{args:L,keys:null};if(function ce(ee){return ee&&"object"==typeof ee&&V(ee)===X}(L)){const q=se(L);return{args:q.map(j=>L[j]),keys:q}}}return{args:ee,keys:null}}},8737:(xt,Re,O)=>{function y(V,X){if(V){const se=V.indexOf(X);0<=se&&V.splice(se,1)}}O.d(Re,{P:()=>y})},3888:(xt,Re,O)=>{function y(V){const se=V(ae=>{Error.call(ae),ae.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}O.d(Re,{d:()=>y})},1810:(xt,Re,O)=>{function y(V,X){return V.reduce((se,ae,ce)=>(se[ae]=X[ce],se),{})}O.d(Re,{n:()=>y})},2806:(xt,Re,O)=>{O.d(Re,{O:()=>se,x:()=>X});var y=O(2416);let V=null;function X(ae){if(y.v.useDeprecatedSynchronousErrorHandling){const ce=!V;if(ce&&(V={errorThrown:!1,error:null}),ae(),ce){const{errorThrown:ee,error:L}=V;if(V=null,ee)throw L}}else ae()}function se(ae){y.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ae)}},9672:(xt,Re,O)=>{function y(V,X,se,ae=0,ce=!1){const ee=X.schedule(function(){se(),ce?V.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(V.add(ee),!ce)return ee}O.d(Re,{f:()=>y})},4671:(xt,Re,O)=>{function y(V){return V}O.d(Re,{y:()=>y})},1144:(xt,Re,O)=>{O.d(Re,{z:()=>y});const y=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(xt,Re,O)=>{O.d(Re,{D:()=>V});var y=O(576);function V(X){return Symbol.asyncIterator&&(0,y.m)(X?.[Symbol.asyncIterator])}},576:(xt,Re,O)=>{function y(V){return"function"==typeof V}O.d(Re,{m:()=>y})},3670:(xt,Re,O)=>{O.d(Re,{c:()=>X});var y=O(8822),V=O(576);function X(se){return(0,V.m)(se[y.L])}},6495:(xt,Re,O)=>{O.d(Re,{T:()=>X});var y=O(2202),V=O(576);function X(se){return(0,V.m)(se?.[y.h])}},8239:(xt,Re,O)=>{O.d(Re,{t:()=>V});var y=O(576);function V(X){return(0,y.m)(X?.then)}},3260:(xt,Re,O)=>{O.d(Re,{L:()=>se,Q:()=>X});var y=O(655),V=O(576);function X(ae){return(0,y.FC)(this,arguments,function*(){const ee=ae.getReader();try{for(;;){const{value:L,done:q}=yield(0,y.qq)(ee.read());if(q)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(L)}}finally{ee.releaseLock()}})}function se(ae){return(0,V.m)(ae?.getReader)}},3532:(xt,Re,O)=>{O.d(Re,{K:()=>V});var y=O(576);function V(X){return X&&(0,y.m)(X.schedule)}},4482:(xt,Re,O)=>{O.d(Re,{A:()=>V,e:()=>X});var y=O(576);function V(se){return(0,y.m)(se?.lift)}function X(se){return ae=>{if(V(ae))return ae.lift(function(ce){try{return se(ce,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(xt,Re,O)=>{O.d(Re,{Z:()=>se});var y=O(4004);const{isArray:V}=Array;function se(ae){return(0,y.U)(ce=>function X(ae,ce){return V(ce)?ae(...ce):ae(ce)}(ae,ce))}},5032:(xt,Re,O)=>{function y(){}O.d(Re,{Z:()=>y})},9635:(xt,Re,O)=>{O.d(Re,{U:()=>X,z:()=>V});var y=O(4671);function V(...se){return X(se)}function X(se){return 0===se.length?y.y:1===se.length?se[0]:function(ce){return se.reduce((ee,L)=>L(ee),ce)}}},7849:(xt,Re,O)=>{O.d(Re,{h:()=>X});var y=O(2416),V=O(3410);function X(se){V.z.setTimeout(()=>{const{onUnhandledError:ae}=y.v;if(!ae)throw se;ae(se)})}},4532:(xt,Re,O)=>{function y(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Re,{z:()=>y})},655:(xt,Re,O)=>{function se(Ve,Ye){var ut={};for(var mt in Ve)Object.prototype.hasOwnProperty.call(Ve,mt)&&Ye.indexOf(mt)<0&&(ut[mt]=Ve[mt]);if(null!=Ve&&"function"==typeof Object.getOwnPropertySymbols){var bt=0;for(mt=Object.getOwnPropertySymbols(Ve);bt<mt.length;bt++)Ye.indexOf(mt[bt])<0&&Object.prototype.propertyIsEnumerable.call(Ve,mt[bt])&&(ut[mt[bt]]=Ve[mt[bt]])}return ut}function ae(Ve,Ye,ut,mt){var Bt,bt=arguments.length,_t=bt<3?Ye:null===mt?mt=Object.getOwnPropertyDescriptor(Ye,ut):mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Ve,Ye,ut,mt);else for(var Lt=Ve.length-1;Lt>=0;Lt--)(Bt=Ve[Lt])&&(_t=(bt<3?Bt(_t):bt>3?Bt(Ye,ut,_t):Bt(Ye,ut))||_t);return bt>3&&_t&&Object.defineProperty(Ye,ut,_t),_t}function re(Ve,Ye,ut,mt){return new(ut||(ut=Promise))(function(_t,Bt){function Lt(un){try{ln(mt.next(un))}catch(Dt){Bt(Dt)}}function Rn(un){try{ln(mt.throw(un))}catch(Dt){Bt(Dt)}}function ln(un){un.done?_t(un.value):function bt(_t){return _t instanceof ut?_t:new ut(function(Bt){Bt(_t)})}(un.value).then(Lt,Rn)}ln((mt=mt.apply(Ve,Ye||[])).next())})}function Pe(Ve){return this instanceof Pe?(this.v=Ve,this):new Pe(Ve)}function de(Ve,Ye,ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bt,mt=ut.apply(Ve,Ye||[]),_t=[];return bt={},Bt("next"),Bt("throw"),Bt("return"),bt[Symbol.asyncIterator]=function(){return this},bt;function Bt($t){mt[$t]&&(bt[$t]=function(Vn){return new Promise(function(Ln,Kt){_t.push([$t,Vn,Ln,Kt])>1||Lt($t,Vn)})})}function Lt($t,Vn){try{!function Rn($t){$t.value instanceof Pe?Promise.resolve($t.value.v).then(ln,un):Dt(_t[0][2],$t)}(mt[$t](Vn))}catch(Ln){Dt(_t[0][3],Ln)}}function ln($t){Lt("next",$t)}function un($t){Lt("throw",$t)}function Dt($t,Vn){$t(Vn),_t.shift(),_t.length&&Lt(_t[0][0],_t[0][1])}}function it(Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Ye=Ve[Symbol.asyncIterator];return Ye?Ye.call(Ve):(Ve=function ot(Ve){var Ye="function"==typeof Symbol&&Symbol.iterator,ut=Ye&&Ve[Ye],mt=0;if(ut)return ut.call(Ve);if(Ve&&"number"==typeof Ve.length)return{next:function(){return Ve&&mt>=Ve.length&&(Ve=void 0),{value:Ve&&Ve[mt++],done:!Ve}}};throw new TypeError(Ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ve),ut={},mt("next"),mt("throw"),mt("return"),ut[Symbol.asyncIterator]=function(){return this},ut);function mt(_t){ut[_t]=Ve[_t]&&function(Bt){return new Promise(function(Lt,Rn){!function bt(_t,Bt,Lt,Rn){Promise.resolve(Rn).then(function(ln){_t({value:ln,done:Lt})},Bt)}(Lt,Rn,(Bt=Ve[_t](Bt)).done,Bt.value)})}}}O.d(Re,{FC:()=>de,KL:()=>it,_T:()=>se,gn:()=>ae,mG:()=>re,qq:()=>Pe})},7340:(xt,Re,O)=>{O.d(Re,{EY:()=>ot,IO:()=>ye,LC:()=>V,SB:()=>q,X$:()=>se,ZE:()=>Ce,ZN:()=>He,_j:()=>y,eR:()=>Y,jt:()=>ae,k1:()=>Ze,l3:()=>X,oB:()=>L,vP:()=>ee});class y{}class V{}const X="*";function se(Pe,de){return{type:7,name:Pe,definitions:de,options:{}}}function ae(Pe,de=null){return{type:4,styles:de,timings:Pe}}function ee(Pe,de=null){return{type:2,steps:Pe,options:de}}function L(Pe){return{type:6,styles:Pe,offset:null}}function q(Pe,de,Ae){return{type:0,name:Pe,styles:de,options:Ae}}function Y(Pe,de,Ae=null){return{type:1,expr:Pe,animation:de,options:Ae}}function ye(Pe,de,Ae=null){return{type:11,selector:Pe,animation:de,options:Ae}}function ot(Pe,de){return{type:12,timings:Pe,animation:de}}function Se(Pe){Promise.resolve().then(Pe)}class He{constructor(de=0,Ae=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=de+Ae}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}onStart(de){this._originalOnStartFns.push(de),this._onStartFns.push(de)}onDone(de){this._originalOnDoneFns.push(de),this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Se(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(de=>de()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(de){this._position=this.totalTime?de*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(de){const Ae="start"==de?this._onStartFns:this._onDoneFns;Ae.forEach(it=>it()),Ae.length=0}}class Ce{constructor(de){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=de;let Ae=0,it=0,we=0;const Me=this.players.length;0==Me?Se(()=>this._onFinish()):this.players.forEach(Ke=>{Ke.onDone(()=>{++Ae==Me&&this._onFinish()}),Ke.onDestroy(()=>{++it==Me&&this._onDestroy()}),Ke.onStart(()=>{++we==Me&&this._onStart()})}),this.totalTime=this.players.reduce((Ke,Ft)=>Math.max(Ke,Ft.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}init(){this.players.forEach(de=>de.init())}onStart(de){this._onStartFns.push(de)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(de=>de()),this._onStartFns=[])}onDone(de){this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(de=>de.play())}pause(){this.players.forEach(de=>de.pause())}restart(){this.players.forEach(de=>de.restart())}finish(){this._onFinish(),this.players.forEach(de=>de.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(de=>de.destroy()),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this.players.forEach(de=>de.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(de){const Ae=de*this.totalTime;this.players.forEach(it=>{const we=it.totalTime?Math.min(1,Ae/it.totalTime):1;it.setPosition(we)})}getPosition(){const de=this.players.reduce((Ae,it)=>null===Ae||it.totalTime>Ae.totalTime?it:Ae,null);return null!=de?de.getPosition():0}beforeDestroy(){this.players.forEach(de=>{de.beforeDestroy&&de.beforeDestroy()})}triggerCallback(de){const Ae="start"==de?this._onStartFns:this._onDoneFns;Ae.forEach(it=>it()),Ae.length=0}}const Ze="!"},445:(xt,Re,O)=>{O.d(Re,{Is:()=>ee,vT:()=>q});var y=O(4650),V=O(6895);const X=new y.OlP("cdk-dir-doc",{providedIn:"root",factory:function se(){return(0,y.f3M)(V.K0)}}),ae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ee=(()=>{class j{constructor(re){this.value="ltr",this.change=new y.vpe,re&&(this.value=function ce(j){const Y=j?.toLowerCase()||"";return"auto"===Y&&typeof navigator<"u"&&navigator?.language?ae.test(navigator.language)?"rtl":"ltr":"rtl"===Y?"rtl":"ltr"}((re.body?re.body.dir:null)||(re.documentElement?re.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return j.\u0275fac=function(re){return new(re||j)(y.LFG(X,8))},j.\u0275prov=y.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})(),q=(()=>{class j{}return j.\u0275fac=function(re){return new(re||j)},j.\u0275mod=y.oAB({type:j}),j.\u0275inj=y.cJS({}),j})()},1281:(xt,Re,O)=>{O.d(Re,{Eq:()=>ae,HM:()=>ce,Ig:()=>V,fI:()=>ee,su:()=>X,t6:()=>se});var y=O(4650);function V(q){return null!=q&&"false"!=`${q}`}function X(q,j=0){return se(q)?Number(q):j}function se(q){return!isNaN(parseFloat(q))&&!isNaN(Number(q))}function ae(q){return Array.isArray(q)?q:[q]}function ce(q){return null==q?"":"string"==typeof q?q:`${q}px`}function ee(q){return q instanceof y.SBq?q.nativeElement:q}},9643:(xt,Re,O)=>{O.d(Re,{Q8:()=>ae});var y=O(4650);let V=(()=>{class ce{create(L){return typeof MutationObserver>"u"?null:new MutationObserver(L)}}return ce.\u0275fac=function(L){return new(L||ce)},ce.\u0275prov=y.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),ae=(()=>{class ce{}return ce.\u0275fac=function(L){return new(L||ce)},ce.\u0275mod=y.oAB({type:ce}),ce.\u0275inj=y.cJS({providers:[V]}),ce})()},6895:(xt,Re,O)=>{O.d(Re,{Do:()=>Ce,ED:()=>Di,EM:()=>ms,HT:()=>se,JF:()=>$s,K0:()=>ce,Mx:()=>zi,NF:()=>Zs,O5:()=>Ct,Ov:()=>ii,PC:()=>Ar,RF:()=>_n,S$:()=>ot,V_:()=>q,Ye:()=>Ze,b0:()=>He,bD:()=>Vi,ez:()=>ss,mk:()=>Ht,n9:()=>ti,q:()=>X,sg:()=>Te,tP:()=>Gi,w_:()=>ae});var y=O(4650);let V=null;function X(){return V}function se(D){V||(V=D)}class ae{}const ce=new y.OlP("DocumentToken");let ee=(()=>{class D{historyGo(x){throw new Error("Not implemented")}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275prov=y.Yz7({token:D,factory:function(){return function L(){return(0,y.LFG)(j)}()},providedIn:"platform"}),D})();const q=new y.OlP("Location Initialized");let j=(()=>{class D extends ee{constructor(x){super(),this._doc=x,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(x){const w=X().getGlobalEventTarget(this._doc,"window");return w.addEventListener("popstate",x,!1),()=>w.removeEventListener("popstate",x)}onHashChange(x){const w=X().getGlobalEventTarget(this._doc,"window");return w.addEventListener("hashchange",x,!1),()=>w.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,w,f){Y()?this._history.pushState(x,w,f):this._location.hash=f}replaceState(x,w,f){Y()?this._history.replaceState(x,w,f):this._location.hash=f}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return D.\u0275fac=function(x){return new(x||D)(y.LFG(ce))},D.\u0275prov=y.Yz7({token:D,factory:function(){return function re(){return new j((0,y.LFG)(ce))}()},providedIn:"platform"}),D})();function Y(){return!!window.history.pushState}function _e(D,U){if(0==D.length)return U;if(0==U.length)return D;let x=0;return D.endsWith("/")&&x++,U.startsWith("/")&&x++,2==x?D+U.substring(1):1==x?D+U:D+"/"+U}function je(D){const U=D.match(/#|\?|$/),x=U&&U.index||D.length;return D.slice(0,x-("/"===D[x-1]?1:0))+D.slice(x)}function ye(D){return D&&"?"!==D[0]?"?"+D:D}let ot=(()=>{class D{historyGo(x){throw new Error("Not implemented")}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275prov=y.Yz7({token:D,factory:function(){return(0,y.f3M)(He)},providedIn:"root"}),D})();const Se=new y.OlP("appBaseHref");let He=(()=>{class D extends ot{constructor(x,w){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=w??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return _e(this._baseHref,x)}path(x=!1){const w=this._platformLocation.pathname+ye(this._platformLocation.search),f=this._platformLocation.hash;return f&&x?`${w}${f}`:w}pushState(x,w,f,g){const C=this.prepareExternalUrl(f+ye(g));this._platformLocation.pushState(x,w,C)}replaceState(x,w,f,g){const C=this.prepareExternalUrl(f+ye(g));this._platformLocation.replaceState(x,w,C)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return D.\u0275fac=function(x){return new(x||D)(y.LFG(ee),y.LFG(Se,8))},D.\u0275prov=y.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Ce=(()=>{class D extends ot{constructor(x,w){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=w&&(this._baseHref=w)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let w=this._platformLocation.hash;return null==w&&(w="#"),w.length>0?w.substring(1):w}prepareExternalUrl(x){const w=_e(this._baseHref,x);return w.length>0?"#"+w:w}pushState(x,w,f,g){let C=this.prepareExternalUrl(f+ye(g));0==C.length&&(C=this._platformLocation.pathname),this._platformLocation.pushState(x,w,C)}replaceState(x,w,f,g){let C=this.prepareExternalUrl(f+ye(g));0==C.length&&(C=this._platformLocation.pathname),this._platformLocation.replaceState(x,w,C)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return D.\u0275fac=function(x){return new(x||D)(y.LFG(ee),y.LFG(Se,8))},D.\u0275prov=y.Yz7({token:D,factory:D.\u0275fac}),D})(),Ze=(()=>{class D{constructor(x){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const w=this._locationStrategy.getBaseHref();this._basePath=function it(D){if(new RegExp("^(https?:)?//").test(D)){const[,x]=D.split(/\/\/[^\/]+/);return x}return D}(je(Ae(w))),this._locationStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,w=""){return this.path()==this.normalize(x+ye(w))}normalize(x){return D.stripTrailingSlash(function de(D,U){if(!D||!U.startsWith(D))return U;const x=U.substring(D.length);return""===x||["/",";","?","#"].includes(x[0])?x:U}(this._basePath,Ae(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,w="",f=null){this._locationStrategy.pushState(f,"",x,w),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+ye(w)),f)}replaceState(x,w="",f=null){this._locationStrategy.replaceState(f,"",x,w),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+ye(w)),f)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(w=>{this._notifyUrlChangeListeners(w.url,w.state)})),()=>{const w=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(w,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",w){this._urlChangeListeners.forEach(f=>f(x,w))}subscribe(x,w,f){return this._subject.subscribe({next:x,error:w,complete:f})}}return D.normalizeQueryParams=ye,D.joinWithSlash=_e,D.stripTrailingSlash=je,D.\u0275fac=function(x){return new(x||D)(y.LFG(ot))},D.\u0275prov=y.Yz7({token:D,factory:function(){return function Pe(){return new Ze((0,y.LFG)(ot))}()},providedIn:"root"}),D})();function Ae(D){return D.replace(/\/index.html$/,"")}function zi(D,U){U=encodeURIComponent(U);for(const x of D.split(";")){const w=x.indexOf("="),[f,g]=-1==w?[x,""]:[x.slice(0,w),x.slice(w+1)];if(f.trim()===U)return decodeURIComponent(g)}return null}const xi=/\s+/,lr=[];let Ht=(()=>{class D{constructor(x,w,f,g){this._iterableDiffers=x,this._keyValueDiffers=w,this._ngEl=f,this._renderer=g,this.initialClasses=lr,this.stateMap=new Map}set klass(x){this.initialClasses=null!=x?x.trim().split(xi):lr}set ngClass(x){this.rawClass="string"==typeof x?x.trim().split(xi):x}ngDoCheck(){for(const w of this.initialClasses)this._updateState(w,!0);const x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(const w of x)this._updateState(w,!0);else if(null!=x)for(const w of Object.keys(x))this._updateState(w,Boolean(x[w]));this._applyStateDiff()}_updateState(x,w){const f=this.stateMap.get(x);void 0!==f?(f.enabled!==w&&(f.changed=!0,f.enabled=w),f.touched=!0):this.stateMap.set(x,{enabled:w,changed:!0,touched:!0})}_applyStateDiff(){for(const x of this.stateMap){const w=x[0],f=x[1];f.changed?(this._toggleClass(w,f.enabled),f.changed=!1):f.touched||(f.enabled&&this._toggleClass(w,!1),this.stateMap.delete(w)),f.touched=!1}}_toggleClass(x,w){(x=x.trim()).length>0&&x.split(xi).forEach(f=>{w?this._renderer.addClass(this._ngEl.nativeElement,f):this._renderer.removeClass(this._ngEl.nativeElement,f)})}}return D.\u0275fac=function(x){return new(x||D)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},D.\u0275dir=y.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),D})();class Fe{constructor(U,x,w,f){this.$implicit=U,this.ngForOf=x,this.index=w,this.count=f}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Te=(()=>{class D{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,w,f){this._viewContainer=x,this._template=w,this._differs=f,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const w=this._viewContainer;x.forEachOperation((f,g,C)=>{if(null==f.previousIndex)w.createEmbeddedView(this._template,new Fe(f.item,this._ngForOf,-1,-1),null===C?void 0:C);else if(null==C)w.remove(null===g?void 0:g);else if(null!==g){const B=w.get(g);w.move(B,C),ze(B,f)}});for(let f=0,g=w.length;f<g;f++){const B=w.get(f).context;B.index=f,B.count=g,B.ngForOf=this._ngForOf}x.forEachIdentityChange(f=>{ze(w.get(f.currentIndex),f)})}static ngTemplateContextGuard(x,w){return!0}}return D.\u0275fac=function(x){return new(x||D)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},D.\u0275dir=y.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function ze(D,U){D.context.$implicit=U.item}let Ct=(()=>{class D{constructor(x,w){this._viewContainer=x,this._context=new Jt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=w}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Vt("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Vt("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,w){return!0}}return D.\u0275fac=function(x){return new(x||D)(y.Y36(y.s_b),y.Y36(y.Rgc))},D.\u0275dir=y.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class Jt{constructor(){this.$implicit=null,this.ngIf=null}}function Vt(D,U){if(U&&!U.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,y.AaK)(U)}'.`)}class nr{constructor(U,x){this._viewContainerRef=U,this._templateRef=x,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(U){U&&!this._created?this.create():!U&&this._created&&this.destroy()}}let _n=(()=>{class D{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(x){this._ngSwitch=x,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(x){this._defaultViews.push(x)}_matchCase(x){const w=x==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||w,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),w}_updateDefaultCases(x){if(this._defaultViews.length>0&&x!==this._defaultUsed){this._defaultUsed=x;for(const w of this._defaultViews)w.enforceState(x)}}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275dir=y.lG2({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),D})(),ti=(()=>{class D{constructor(x,w,f){this.ngSwitch=f,f._addCase(),this._view=new nr(x,w)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return D.\u0275fac=function(x){return new(x||D)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(_n,9))},D.\u0275dir=y.lG2({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),D})(),Di=(()=>{class D{constructor(x,w,f){f._addDefault(new nr(x,w))}}return D.\u0275fac=function(x){return new(x||D)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(_n,9))},D.\u0275dir=y.lG2({type:D,selectors:[["","ngSwitchDefault",""]],standalone:!0}),D})(),Ar=(()=>{class D{constructor(x,w,f){this._ngEl=x,this._differs=w,this._renderer=f,this._ngStyle=null,this._differ=null}set ngStyle(x){this._ngStyle=x,!this._differ&&x&&(this._differ=this._differs.find(x).create())}ngDoCheck(){if(this._differ){const x=this._differ.diff(this._ngStyle);x&&this._applyChanges(x)}}_setStyle(x,w){const[f,g]=x.split("."),C=-1===f.indexOf("-")?void 0:y.JOm.DashCase;null!=w?this._renderer.setStyle(this._ngEl.nativeElement,f,g?`${w}${g}`:w,C):this._renderer.removeStyle(this._ngEl.nativeElement,f,C)}_applyChanges(x){x.forEachRemovedItem(w=>this._setStyle(w.key,null)),x.forEachAddedItem(w=>this._setStyle(w.key,w.currentValue)),x.forEachChangedItem(w=>this._setStyle(w.key,w.currentValue))}}return D.\u0275fac=function(x){return new(x||D)(y.Y36(y.SBq),y.Y36(y.aQg),y.Y36(y.Qsj))},D.\u0275dir=y.lG2({type:D,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),D})(),Gi=(()=>{class D{constructor(x){this._viewContainerRef=x,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(x){if(x.ngTemplateOutlet||x.ngTemplateOutletInjector){const w=this._viewContainerRef;if(this._viewRef&&w.remove(w.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:f,ngTemplateOutletContext:g,ngTemplateOutletInjector:C}=this;this._viewRef=w.createEmbeddedView(f,g,C?{injector:C}:void 0)}else this._viewRef=null}else this._viewRef&&x.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return D.\u0275fac=function(x){return new(x||D)(y.Y36(y.s_b))},D.\u0275dir=y.lG2({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]}),D})();class Ho{createSubscription(U,x){return U.subscribe({next:x,error:w=>{throw w}})}dispose(U){U.unsubscribe()}}class fo{createSubscription(U,x){return U.then(x,w=>{throw w})}dispose(U){}}const po=new fo,br=new Ho;let ii=(()=>{class D{constructor(x){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=x}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(x){return this._obj?x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue:(x&&this._subscribe(x),this._latestValue)}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,w=>this._updateLatestValue(x,w))}_selectStrategy(x){if((0,y.QGY)(x))return po;if((0,y.F4k)(x))return br;throw function On(D,U){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,w){x===this._obj&&(this._latestValue=w,this._ref.markForCheck())}}return D.\u0275fac=function(x){return new(x||D)(y.Y36(y.sBO,16))},D.\u0275pipe=y.Yjl({name:"async",type:D,pure:!1,standalone:!0}),D})(),ss=(()=>{class D{}return D.\u0275fac=function(x){return new(x||D)},D.\u0275mod=y.oAB({type:D}),D.\u0275inj=y.cJS({}),D})();const Vi="browser";function Zs(D){return D===Vi}let ms=(()=>{class D{}return D.\u0275prov=(0,y.Yz7)({token:D,providedIn:"root",factory:()=>new Ts((0,y.LFG)(ce),window)}),D})();class Ts{constructor(U,x){this.document=U,this.window=x,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const x=function as(D,U){const x=D.getElementById(U)||D.getElementsByName(U)[0];if(x)return x;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const w=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let f=w.currentNode;for(;f;){const g=f.shadowRoot;if(g){const C=g.getElementById(U)||g.querySelector(`[name="${U}"]`);if(C)return C}f=w.nextNode()}}return null}(this.document,U);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(U){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=U)}}scrollToElement(U){const x=U.getBoundingClientRect(),w=x.left+this.window.pageXOffset,f=x.top+this.window.pageYOffset,g=this.offset();this.window.scrollTo(w-g[0],f-g[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const U=Ss(this.window.history)||Ss(Object.getPrototypeOf(this.window.history));return!(!U||!U.writable&&!U.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ss(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class $s{}},529:(xt,Re,O)=>{O.d(Re,{JF:()=>Dn,eN:()=>Ye,jN:()=>q});var y=O(6895),V=O(4650),X=O(9646),se=O(9751),ae=O(4351),ce=O(9300),ee=O(4004);class L{}class q{}class j{constructor(ie){this.normalizedNames=new Map,this.lazyUpdate=null,ie?this.lazyInit="string"==typeof ie?()=>{this.headers=new Map,ie.split("\n").forEach(me=>{const at=me.indexOf(":");if(at>0){const lt=me.slice(0,at),ue=lt.toLowerCase(),oe=me.slice(at+1).trim();this.maybeSetNormalizedName(lt,ue),this.headers.has(ue)?this.headers.get(ue).push(oe):this.headers.set(ue,[oe])}})}:()=>{this.headers=new Map,Object.keys(ie).forEach(me=>{let at=ie[me];const lt=me.toLowerCase();"string"==typeof at&&(at=[at]),at.length>0&&(this.headers.set(lt,at),this.maybeSetNormalizedName(me,lt))})}:this.headers=new Map}has(ie){return this.init(),this.headers.has(ie.toLowerCase())}get(ie){this.init();const me=this.headers.get(ie.toLowerCase());return me&&me.length>0?me[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ie){return this.init(),this.headers.get(ie.toLowerCase())||null}append(ie,me){return this.clone({name:ie,value:me,op:"a"})}set(ie,me){return this.clone({name:ie,value:me,op:"s"})}delete(ie,me){return this.clone({name:ie,value:me,op:"d"})}maybeSetNormalizedName(ie,me){this.normalizedNames.has(me)||this.normalizedNames.set(me,ie)}init(){this.lazyInit&&(this.lazyInit instanceof j?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ie=>this.applyUpdate(ie)),this.lazyUpdate=null))}copyFrom(ie){ie.init(),Array.from(ie.headers.keys()).forEach(me=>{this.headers.set(me,ie.headers.get(me)),this.normalizedNames.set(me,ie.normalizedNames.get(me))})}clone(ie){const me=new j;return me.lazyInit=this.lazyInit&&this.lazyInit instanceof j?this.lazyInit:this,me.lazyUpdate=(this.lazyUpdate||[]).concat([ie]),me}applyUpdate(ie){const me=ie.name.toLowerCase();switch(ie.op){case"a":case"s":let at=ie.value;if("string"==typeof at&&(at=[at]),0===at.length)return;this.maybeSetNormalizedName(ie.name,me);const lt=("a"===ie.op?this.headers.get(me):void 0)||[];lt.push(...at),this.headers.set(me,lt);break;case"d":const ue=ie.value;if(ue){let oe=this.headers.get(me);if(!oe)return;oe=oe.filter(Ee=>-1===ue.indexOf(Ee)),0===oe.length?(this.headers.delete(me),this.normalizedNames.delete(me)):this.headers.set(me,oe)}else this.headers.delete(me),this.normalizedNames.delete(me)}}forEach(ie){this.init(),Array.from(this.normalizedNames.keys()).forEach(me=>ie(this.normalizedNames.get(me),this.headers.get(me)))}}class re{encodeKey(ie){return ot(ie)}encodeValue(ie){return ot(ie)}decodeKey(ie){return decodeURIComponent(ie)}decodeValue(ie){return decodeURIComponent(ie)}}const je=/%(\d[a-f0-9])/gi,ye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ot(De){return encodeURIComponent(De).replace(je,(ie,me)=>ye[me]??ie)}function Se(De){return`${De}`}class He{constructor(ie={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ie.encoder||new re,ie.fromString){if(ie.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _e(De,ie){const me=new Map;return De.length>0&&De.replace(/^\?/,"").split("&").forEach(lt=>{const ue=lt.indexOf("="),[oe,Ee]=-1==ue?[ie.decodeKey(lt),""]:[ie.decodeKey(lt.slice(0,ue)),ie.decodeValue(lt.slice(ue+1))],Ge=me.get(oe)||[];Ge.push(Ee),me.set(oe,Ge)}),me}(ie.fromString,this.encoder)}else ie.fromObject?(this.map=new Map,Object.keys(ie.fromObject).forEach(me=>{const at=ie.fromObject[me],lt=Array.isArray(at)?at.map(Se):[Se(at)];this.map.set(me,lt)})):this.map=null}has(ie){return this.init(),this.map.has(ie)}get(ie){this.init();const me=this.map.get(ie);return me?me[0]:null}getAll(ie){return this.init(),this.map.get(ie)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ie,me){return this.clone({param:ie,value:me,op:"a"})}appendAll(ie){const me=[];return Object.keys(ie).forEach(at=>{const lt=ie[at];Array.isArray(lt)?lt.forEach(ue=>{me.push({param:at,value:ue,op:"a"})}):me.push({param:at,value:lt,op:"a"})}),this.clone(me)}set(ie,me){return this.clone({param:ie,value:me,op:"s"})}delete(ie,me){return this.clone({param:ie,value:me,op:"d"})}toString(){return this.init(),this.keys().map(ie=>{const me=this.encoder.encodeKey(ie);return this.map.get(ie).map(at=>me+"="+this.encoder.encodeValue(at)).join("&")}).filter(ie=>""!==ie).join("&")}clone(ie){const me=new He({encoder:this.encoder});return me.cloneFrom=this.cloneFrom||this,me.updates=(this.updates||[]).concat(ie),me}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ie=>this.map.set(ie,this.cloneFrom.map.get(ie))),this.updates.forEach(ie=>{switch(ie.op){case"a":case"s":const me=("a"===ie.op?this.map.get(ie.param):void 0)||[];me.push(Se(ie.value)),this.map.set(ie.param,me);break;case"d":if(void 0===ie.value){this.map.delete(ie.param);break}{let at=this.map.get(ie.param)||[];const lt=at.indexOf(Se(ie.value));-1!==lt&&at.splice(lt,1),at.length>0?this.map.set(ie.param,at):this.map.delete(ie.param)}}}),this.cloneFrom=this.updates=null)}}class Ze{constructor(){this.map=new Map}set(ie,me){return this.map.set(ie,me),this}get(ie){return this.map.has(ie)||this.map.set(ie,ie.defaultValue()),this.map.get(ie)}delete(ie){return this.map.delete(ie),this}has(ie){return this.map.has(ie)}keys(){return this.map.keys()}}function de(De){return typeof ArrayBuffer<"u"&&De instanceof ArrayBuffer}function Ae(De){return typeof Blob<"u"&&De instanceof Blob}function it(De){return typeof FormData<"u"&&De instanceof FormData}class Me{constructor(ie,me,at,lt){let ue;if(this.url=me,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ie.toUpperCase(),function Pe(De){switch(De){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||lt?(this.body=void 0!==at?at:null,ue=lt):ue=at,ue&&(this.reportProgress=!!ue.reportProgress,this.withCredentials=!!ue.withCredentials,ue.responseType&&(this.responseType=ue.responseType),ue.headers&&(this.headers=ue.headers),ue.context&&(this.context=ue.context),ue.params&&(this.params=ue.params)),this.headers||(this.headers=new j),this.context||(this.context=new Ze),this.params){const oe=this.params.toString();if(0===oe.length)this.urlWithParams=me;else{const Ee=me.indexOf("?");this.urlWithParams=me+(-1===Ee?"?":Ee<me.length-1?"&":"")+oe}}else this.params=new He,this.urlWithParams=me}serializeBody(){return null===this.body?null:de(this.body)||Ae(this.body)||it(this.body)||function we(De){return typeof URLSearchParams<"u"&&De instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof He?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||it(this.body)?null:Ae(this.body)?this.body.type||null:de(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof He?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ie={}){const me=ie.method||this.method,at=ie.url||this.url,lt=ie.responseType||this.responseType,ue=void 0!==ie.body?ie.body:this.body,oe=void 0!==ie.withCredentials?ie.withCredentials:this.withCredentials,Ee=void 0!==ie.reportProgress?ie.reportProgress:this.reportProgress;let Ge=ie.headers||this.headers,Le=ie.params||this.params;const Nt=ie.context??this.context;return void 0!==ie.setHeaders&&(Ge=Object.keys(ie.setHeaders).reduce((fe,ve)=>fe.set(ve,ie.setHeaders[ve]),Ge)),ie.setParams&&(Le=Object.keys(ie.setParams).reduce((fe,ve)=>fe.set(ve,ie.setParams[ve]),Le)),new Me(me,at,ue,{params:Le,headers:Ge,context:Nt,reportProgress:Ee,responseType:lt,withCredentials:oe})}}var Ke=(()=>((Ke=Ke||{})[Ke.Sent=0]="Sent",Ke[Ke.UploadProgress=1]="UploadProgress",Ke[Ke.ResponseHeader=2]="ResponseHeader",Ke[Ke.DownloadProgress=3]="DownloadProgress",Ke[Ke.Response=4]="Response",Ke[Ke.User=5]="User",Ke))();class Ft{constructor(ie,me=200,at="OK"){this.headers=ie.headers||new j,this.status=void 0!==ie.status?ie.status:me,this.statusText=ie.statusText||at,this.url=ie.url||null,this.ok=this.status>=200&&this.status<300}}class Pt extends Ft{constructor(ie={}){super(ie),this.type=Ke.ResponseHeader}clone(ie={}){return new Pt({headers:ie.headers||this.headers,status:void 0!==ie.status?ie.status:this.status,statusText:ie.statusText||this.statusText,url:ie.url||this.url||void 0})}}class on extends Ft{constructor(ie={}){super(ie),this.type=Ke.Response,this.body=void 0!==ie.body?ie.body:null}clone(ie={}){return new on({body:void 0!==ie.body?ie.body:this.body,headers:ie.headers||this.headers,status:void 0!==ie.status?ie.status:this.status,statusText:ie.statusText||this.statusText,url:ie.url||this.url||void 0})}}class kt extends Ft{constructor(ie){super(ie,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ie.url||"(unknown url)"}`:`Http failure response for ${ie.url||"(unknown url)"}: ${ie.status} ${ie.statusText}`,this.error=ie.error||null}}function Ve(De,ie){return{body:ie,headers:De.headers,context:De.context,observe:De.observe,params:De.params,reportProgress:De.reportProgress,responseType:De.responseType,withCredentials:De.withCredentials}}let Ye=(()=>{class De{constructor(me){this.handler=me}request(me,at,lt={}){let ue;if(me instanceof Me)ue=me;else{let Ge,Le;Ge=lt.headers instanceof j?lt.headers:new j(lt.headers),lt.params&&(Le=lt.params instanceof He?lt.params:new He({fromObject:lt.params})),ue=new Me(me,at,void 0!==lt.body?lt.body:null,{headers:Ge,context:lt.context,params:Le,reportProgress:lt.reportProgress,responseType:lt.responseType||"json",withCredentials:lt.withCredentials})}const oe=(0,X.of)(ue).pipe((0,ae.b)(Ge=>this.handler.handle(Ge)));if(me instanceof Me||"events"===lt.observe)return oe;const Ee=oe.pipe((0,ce.h)(Ge=>Ge instanceof on));switch(lt.observe||"body"){case"body":switch(ue.responseType){case"arraybuffer":return Ee.pipe((0,ee.U)(Ge=>{if(null!==Ge.body&&!(Ge.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ge.body}));case"blob":return Ee.pipe((0,ee.U)(Ge=>{if(null!==Ge.body&&!(Ge.body instanceof Blob))throw new Error("Response is not a Blob.");return Ge.body}));case"text":return Ee.pipe((0,ee.U)(Ge=>{if(null!==Ge.body&&"string"!=typeof Ge.body)throw new Error("Response is not a string.");return Ge.body}));default:return Ee.pipe((0,ee.U)(Ge=>Ge.body))}case"response":return Ee;default:throw new Error(`Unreachable: unhandled observe type ${lt.observe}}`)}}delete(me,at={}){return this.request("DELETE",me,at)}get(me,at={}){return this.request("GET",me,at)}head(me,at={}){return this.request("HEAD",me,at)}jsonp(me,at){return this.request("JSONP",me,{params:(new He).append(at,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(me,at={}){return this.request("OPTIONS",me,at)}patch(me,at,lt={}){return this.request("PATCH",me,Ve(lt,at))}post(me,at,lt={}){return this.request("POST",me,Ve(lt,at))}put(me,at,lt={}){return this.request("PUT",me,Ve(lt,at))}}return De.\u0275fac=function(me){return new(me||De)(V.LFG(L))},De.\u0275prov=V.Yz7({token:De,factory:De.\u0275fac}),De})();function ut(De,ie){return ie(De)}function mt(De,ie){return(me,at)=>ie.intercept(me,{handle:lt=>De(lt,at)})}const _t=new V.OlP("HTTP_INTERCEPTORS"),Bt=new V.OlP("HTTP_INTERCEPTOR_FNS");function Lt(){let De=null;return(ie,me)=>(null===De&&(De=((0,V.f3M)(_t,{optional:!0})??[]).reduceRight(mt,ut)),De(ie,me))}let Rn=(()=>{class De extends L{constructor(me,at){super(),this.backend=me,this.injector=at,this.chain=null}handle(me){if(null===this.chain){const at=Array.from(new Set(this.injector.get(Bt)));this.chain=at.reduceRight((lt,ue)=>function bt(De,ie,me){return(at,lt)=>me.runInContext(()=>ie(at,ue=>De(ue,lt)))}(lt,ue,this.injector),ut)}return this.chain(me,at=>this.backend.handle(at))}}return De.\u0275fac=function(me){return new(me||De)(V.LFG(q),V.LFG(V.lqb))},De.\u0275prov=V.Yz7({token:De,factory:De.\u0275fac}),De})();const wr=/^\)\]\}',?\n/;let Bn=(()=>{class De{constructor(me){this.xhrFactory=me}handle(me){if("JSONP"===me.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new se.y(at=>{const lt=this.xhrFactory.build();if(lt.open(me.method,me.urlWithParams),me.withCredentials&&(lt.withCredentials=!0),me.headers.forEach((te,be)=>lt.setRequestHeader(te,be.join(","))),me.headers.has("Accept")||lt.setRequestHeader("Accept","application/json, text/plain, */*"),!me.headers.has("Content-Type")){const te=me.detectContentTypeHeader();null!==te&&lt.setRequestHeader("Content-Type",te)}if(me.responseType){const te=me.responseType.toLowerCase();lt.responseType="json"!==te?te:"text"}const ue=me.serializeBody();let oe=null;const Ee=()=>{if(null!==oe)return oe;const te=lt.statusText||"OK",be=new j(lt.getAllResponseHeaders()),st=function Or(De){return"responseURL"in De&&De.responseURL?De.responseURL:/^X-Request-URL:/m.test(De.getAllResponseHeaders())?De.getResponseHeader("X-Request-URL"):null}(lt)||me.url;return oe=new Pt({headers:be,status:lt.status,statusText:te,url:st}),oe},Ge=()=>{let{headers:te,status:be,statusText:st,url:yt}=Ee(),Rt=null;204!==be&&(Rt=typeof lt.response>"u"?lt.responseText:lt.response),0===be&&(be=Rt?200:0);let In=be>=200&&be<300;if("json"===me.responseType&&"string"==typeof Rt){const An=Rt;Rt=Rt.replace(wr,"");try{Rt=""!==Rt?JSON.parse(Rt):null}catch(Ir){Rt=An,In&&(In=!1,Rt={error:Ir,text:Rt})}}In?(at.next(new on({body:Rt,headers:te,status:be,statusText:st,url:yt||void 0})),at.complete()):at.error(new kt({error:Rt,headers:te,status:be,statusText:st,url:yt||void 0}))},Le=te=>{const{url:be}=Ee(),st=new kt({error:te,status:lt.status||0,statusText:lt.statusText||"Unknown Error",url:be||void 0});at.error(st)};let Nt=!1;const fe=te=>{Nt||(at.next(Ee()),Nt=!0);let be={type:Ke.DownloadProgress,loaded:te.loaded};te.lengthComputable&&(be.total=te.total),"text"===me.responseType&&lt.responseText&&(be.partialText=lt.responseText),at.next(be)},ve=te=>{let be={type:Ke.UploadProgress,loaded:te.loaded};te.lengthComputable&&(be.total=te.total),at.next(be)};return lt.addEventListener("load",Ge),lt.addEventListener("error",Le),lt.addEventListener("timeout",Le),lt.addEventListener("abort",Le),me.reportProgress&&(lt.addEventListener("progress",fe),null!==ue&&lt.upload&&lt.upload.addEventListener("progress",ve)),lt.send(ue),at.next({type:Ke.Sent}),()=>{lt.removeEventListener("error",Le),lt.removeEventListener("abort",Le),lt.removeEventListener("load",Ge),lt.removeEventListener("timeout",Le),me.reportProgress&&(lt.removeEventListener("progress",fe),null!==ue&&lt.upload&&lt.upload.removeEventListener("progress",ve)),lt.readyState!==lt.DONE&&lt.abort()}})}}return De.\u0275fac=function(me){return new(me||De)(V.LFG(y.JF))},De.\u0275prov=V.Yz7({token:De,factory:De.\u0275fac}),De})();const Cn=new V.OlP("XSRF_ENABLED"),yr=new V.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),cr=new V.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ir{}let Gr=(()=>{class De{constructor(me,at,lt){this.doc=me,this.platform=at,this.cookieName=lt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const me=this.doc.cookie||"";return me!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(me,this.cookieName),this.lastCookieString=me),this.lastToken}}return De.\u0275fac=function(me){return new(me||De)(V.LFG(y.K0),V.LFG(V.Lbi),V.LFG(yr))},De.\u0275prov=V.Yz7({token:De,factory:De.\u0275fac}),De})();function an(De,ie){const me=De.url.toLowerCase();if(!(0,V.f3M)(Cn)||"GET"===De.method||"HEAD"===De.method||me.startsWith("http://")||me.startsWith("https://"))return ie(De);const at=(0,V.f3M)(ir).getToken(),lt=(0,V.f3M)(cr);return null!=at&&!De.headers.has(lt)&&(De=De.clone({headers:De.headers.set(lt,at)})),ie(De)}var Ut=(()=>((Ut=Ut||{})[Ut.Interceptors=0]="Interceptors",Ut[Ut.LegacyInterceptors=1]="LegacyInterceptors",Ut[Ut.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ut[Ut.NoXsrfProtection=3]="NoXsrfProtection",Ut[Ut.JsonpSupport=4]="JsonpSupport",Ut[Ut.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ut))();function $n(De,ie){return{\u0275kind:De,\u0275providers:ie}}function jn(...De){const ie=[Ye,Bn,Rn,{provide:L,useExisting:Rn},{provide:q,useExisting:Bn},{provide:Bt,useValue:an,multi:!0},{provide:Cn,useValue:!0},{provide:ir,useClass:Gr}];for(const me of De)ie.push(...me.\u0275providers);return(0,V.MR2)(ie)}const nn=new V.OlP("LEGACY_INTERCEPTOR_FN");let Dn=(()=>{class De{}return De.\u0275fac=function(me){return new(me||De)},De.\u0275mod=V.oAB({type:De}),De.\u0275inj=V.cJS({providers:[jn($n(Ut.LegacyInterceptors,[{provide:nn,useFactory:Lt},{provide:Bt,useExisting:nn,multi:!0}]))]}),De})()},4650:(xt,Re,O)=>{O.d(Re,{$8M:()=>La,$WT:()=>hi,$Z:()=>kg,AFp:()=>b0,ALo:()=>z_,AaK:()=>L,BQk:()=>fh,CHM:()=>Mo,CRH:()=>e0,CZH:()=>Nm,CqO:()=>nm,D6c:()=>TI,DdM:()=>L_,DyG:()=>oo,EJc:()=>$w,EiD:()=>Vd,EpF:()=>em,F$t:()=>Ep,F4k:()=>tm,FYo:()=>hg,FiY:()=>Ca,Gf:()=>X_,GfV:()=>df,Gpc:()=>Y,Hsn:()=>wp,JOm:()=>Xo,JVY:()=>$o,JZr:()=>ot,KtG:()=>cs,L6k:()=>Wm,LAX:()=>du,LFG:()=>ct,LSH:()=>Hc,Lbi:()=>Fw,Lck:()=>LE,MAs:()=>fp,MMx:()=>av,MR2:()=>Vl,NdJ:()=>mp,O4$:()=>jr,OlP:()=>kr,Oqu:()=>_l,P3R:()=>$d,PXZ:()=>nI,Q6J:()=>fl,QGY:()=>ph,QbO:()=>Uw,Qsj:()=>Qc,R0b:()=>mu,RDi:()=>Nl,RIp:()=>Lu,Rgc:()=>Np,SBq:()=>Yc,Sil:()=>Hw,Suo:()=>J_,TTD:()=>ms,TgZ:()=>pd,Tol:()=>Eh,Udp:()=>_h,VKq:()=>F_,W1O:()=>s0,WFA:()=>gh,WLB:()=>U_,X6Q:()=>uI,XFs:()=>Qt,Xpm:()=>An,Xts:()=>Zh,Y36:()=>el,YKP:()=>C_,YNc:()=>hd,Yjl:()=>ri,Yz7:()=>Dt,Z0I:()=>Kt,ZZ4:()=>Ov,_Bn:()=>S_,_UZ:()=>gd,_Vd:()=>Zc,_uU:()=>ym,aQg:()=>Nv,c2e:()=>Bw,cJS:()=>Vn,cg1:()=>Cm,d8E:()=>qu,dDg:()=>Xw,dqk:()=>an,eBb:()=>Zp,eJc:()=>yv,ekj:()=>ml,eoX:()=>O0,f3M:()=>De,g9A:()=>S0,h0i:()=>Mh,hGG:()=>bI,hij:()=>Ed,iGM:()=>Q_,iPO:()=>sI,ifc:()=>Le,ip1:()=>D0,jDz:()=>M_,kL8:()=>Gy,lG2:()=>ho,lcZ:()=>G_,lqb:()=>Eu,lri:()=>x0,mCW:()=>Bd,n5z:()=>ko,oAB:()=>Ri,oJD:()=>ig,oxw:()=>md,pB0:()=>Yp,q3G:()=>Xi,q4F:()=>pg,qLn:()=>zl,qOj:()=>cd,qZA:()=>bu,qzn:()=>$c,rWj:()=>P0,sBO:()=>cI,s_b:()=>xm,soG:()=>km,tBr:()=>xs,tb:()=>k0,tp0:()=>k,uIk:()=>ap,vHH:()=>Se,vpe:()=>Zu,wAp:()=>Nn,xp6:()=>Zd,ynx:()=>hh,z2F:()=>Lm,z3N:()=>lu,zSh:()=>nf,zs3:()=>dc});var y=O(7579),V=O(727),X=O(9751),se=O(6451),ae=O(3099);function ce(n){for(let r in n)if(n[r]===ce)return r;throw Error("Could not find renamed property on target object.")}function ee(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function L(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(L).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function q(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const j=ce({__forward_ref__:ce});function Y(n){return n.__forward_ref__=Y,n.toString=function(){return L(this())},n}function re(n){return _e(n)?n():n}function _e(n){return"function"==typeof n&&n.hasOwnProperty(j)&&n.__forward_ref__===Y}function je(n){return n&&!!n.\u0275providers}const ot="https://g.co/ng/security#xss";class Se extends Error{constructor(r,s){super(He(r,s)),this.code=r}}function He(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function Ce(n){return"string"==typeof n?n:null==n?"":String(n)}function Ze(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ce(n)}function it(n,r){throw new Se(-201,!1)}function Bt(n,r){null==n&&function Lt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Dt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ln(n){return ar(n,wr)||ar(n,Bn)}function Kt(n){return null!==Ln(n)}function ar(n,r){return n.hasOwnProperty(r)?n[r]:null}function mr(n){return n&&(n.hasOwnProperty(Or)||n.hasOwnProperty(Cn))?n[Or]:null}const wr=ce({\u0275prov:ce}),Or=ce({\u0275inj:ce}),Bn=ce({ngInjectableDef:ce}),Cn=ce({ngInjectorDef:ce});var Qt=(()=>((Qt=Qt||{})[Qt.Default=0]="Default",Qt[Qt.Host=1]="Host",Qt[Qt.Self=2]="Self",Qt[Qt.SkipSelf=4]="SkipSelf",Qt[Qt.Optional=8]="Optional",Qt))();let yr;function cr(n){const r=yr;return yr=n,r}function ir(n,r,s){const a=Ln(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Qt.Optional?null:void 0!==r?r:void it(L(n))}const an=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jn={},Wn="__NG_DI_FLAG__",nn="ngTempTokenPath",Yn="ngTokenPath",ke=/\n/gm,tt="\u0275",Et="__source";let ht;function hn(n){const r=ht;return ht=n,r}function Dn(n,r=Qt.Default){if(void 0===ht)throw new Se(-203,!1);return null===ht?ir(n,void 0,r):ht.get(n,r&Qt.Optional?null:void 0,r)}function ct(n,r=Qt.Default){return(function vr(){return yr}()||Dn)(re(n),r)}function De(n,r=Qt.Default){return ct(n,ie(r))}function ie(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function me(n){const r=[];for(let s=0;s<n.length;s++){const a=re(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Se(900,!1);let c,d=Qt.Default;for(let _=0;_<a.length;_++){const S=a[_],R=lt(S);"number"==typeof R?-1===R?c=S.token:d|=R:c=S}r.push(ct(c,d))}else r.push(ct(a))}return r}function at(n,r){return n[Wn]=r,n.prototype[Wn]=r,n}function lt(n){return n[Wn]}function Ee(n){return{toString:n}.toString()}var Ge=(()=>((Ge=Ge||{})[Ge.OnPush=0]="OnPush",Ge[Ge.Default=1]="Default",Ge))(),Le=(()=>{return(n=Le||(Le={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Le;var n})();const Nt={},fe=[],ve=ce({\u0275cmp:ce}),te=ce({\u0275dir:ce}),be=ce({\u0275pipe:ce}),st=ce({\u0275mod:ce}),yt=ce({\u0275fac:ce}),Rt=ce({__NG_ELEMENT_ID__:ce});let In=0;function An(n){return Ee(()=>{const r=Vr(n),s={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Le.Emulated,id:"c"+In++,styles:n.styles||fe,_:null,schemas:n.schemas||null,tView:null};zi(s);const a=n.dependencies;return s.directiveDefs=xi(a,!1),s.pipeDefs=xi(a,!0),s})}function Ii(n){return Hn(n)||Nr(n)}function ns(n){return null!==n}function Ri(n){return Ee(()=>({type:n.type,bootstrap:n.bootstrap||fe,declarations:n.declarations||fe,imports:n.imports||fe,exports:n.exports||fe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Fi(n,r){if(null==n)return Nt;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function ho(n){return Ee(()=>{const r=Vr(n);return zi(r),r})}function ri(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Hn(n){return n[ve]||null}function Nr(n){return n[te]||null}function Dr(n){return n[be]||null}function hi(n){const r=Hn(n)||Nr(n)||Dr(n);return null!==r&&r.standalone}function Br(n,r){const s=n[st]||null;if(!s&&!0===r)throw new Error(`Type ${L(n)} does not have '\u0275mod' property.`);return s}function Vr(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||fe,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fi(n.inputs,r),outputs:Fi(n.outputs)}}function zi(n){n.features?.forEach(r=>r(n))}function xi(n,r){if(!n)return null;const s=r?Dr:Ii;return()=>("function"==typeof n?n():n).map(a=>s(a)).filter(ns)}const lr=0,Ht=1,gn=2,Kn=3,ei=4,Fe=5,Te=6,ze=7,et=8,Ct=9,Jt=10,Vt=11,nr=12,_n=13,ti=14,Di=15,dr=16,Ui=17,rs=18,Ar=19,Gi=20,Ea=21,On=22,fo=1,po=2,br=7,ii=8,Bi=9,si=10;function fi(n){return Array.isArray(n)&&"object"==typeof n[fo]}function oi(n){return Array.isArray(n)&&!0===n[fo]}function zo(n){return 0!=(4&n.flags)}function pi(n){return n.componentOffset>-1}function Tr(n){return 1==(1&n.flags)}function Pi(n){return!!n.template}function Ls(n){return 0!=(256&n[gn])}function bi(n,r){return n.hasOwnProperty(yt)?n[yt]:null}class Bs{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ms(){return Ts}function Ts(n){return n.type.prototype.ngOnChanges&&(n.setInput=as),Ss}function Ss(){const n=$s(this),r=n?.current;if(r){const s=n.previous;if(s===Nt)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function as(n,r,s,a){const c=this.declaredInputs[s],d=$s(n)||function wa(n,r){return n[Vs]=r}(n,{previous:Nt,current:null}),_=d.current||(d.current={}),S=d.previous,R=S[c];_[c]=new Bs(R&&R.currentValue,r,S===Nt),n[a]=r}ms.ngInherit=!0;const Vs="__ngSimpleChanges__";function $s(n){return n[Vs]||null}const Qn=function(n,r,s){},js="svg";function Ur(n){for(;Array.isArray(n);)n=n[lr];return n}function Mr(n,r){return Ur(r[n])}function Rr(n,r){return Ur(r[n.index])}function Sr(n,r){return n.data[r]}function us(n,r){return n[r]}function gi(n,r){const s=r[n];return fi(s)?s:s[lr]}function ra(n){return 64==(64&n[gn])}function Ni(n,r){return null==r?null:n[r]}function Ki(n){n[rs]=0}function Co(n,r){n[Fe]+=r;let s=n,a=n[Kn];for(;null!==a&&(1===r&&1===s[Fe]||-1===r&&0===s[Fe]);)a[Fe]+=r,s=a,a=a[Kn]}const bn={lFrame:to(null),bindingsEnabled:!0};function Ao(){return bn.bindingsEnabled}function wt(){return bn.lFrame.lView}function Mn(){return bn.lFrame.tView}function Mo(n){return bn.lFrame.contextLView=n,n[et]}function cs(n){return bn.lFrame.contextLView=null,n}function ur(){let n=Wo();for(;null!==n&&64===n.type;)n=n.parent;return n}function Wo(){return bn.lFrame.currentTNode}function mi(n,r){const s=bn.lFrame;s.currentTNode=n,s.isParent=r}function sa(){return bn.lFrame.isParent}function Js(){bn.lFrame.isParent=!1}function hr(){const n=bn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function qi(){return bn.lFrame.bindingIndex++}function ls(n){const r=bn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Da(n,r){const s=bn.lFrame;s.bindingIndex=s.bindingRootIndex=n,ds(r)}function ds(n){bn.lFrame.currentDirectiveIndex=n}function ba(n){const r=bn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Oo(){return bn.lFrame.currentQueryIndex}function Ms(n){bn.lFrame.currentQueryIndex=n}function Oa(n){const r=n[Ht];return 2===r.type?r.declTNode:1===r.type?n[Te]:null}function vo(n,r,s){if(s&Qt.SkipSelf){let c=r,d=n;for(;!(c=c.parent,null!==c||s&Qt.Host||(c=Oa(d),null===c||(d=d[Di],10&c.type))););if(null===c)return!1;r=c,n=d}const a=bn.lFrame=Na();return a.currentTNode=r,a.lView=n,!0}function No(n){const r=Na(),s=n[Ht];bn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Na(){const n=bn.lFrame,r=null===n?null:n.child;return null===r?to(n):r}function to(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function oa(){const n=bn.lFrame;return bn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ka=oa;function $r(){const n=oa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Kr(){return bn.lFrame.selectedIndex}function Zi(n){bn.lFrame.selectedIndex=n}function dt(){const n=bn.lFrame;return Sr(n.tView,n.selectedIndex)}function jr(){bn.lFrame.currentNamespace=js}function jt(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:S,ngAfterViewInit:R,ngAfterViewChecked:$,ngOnDestroy:K}=d;_&&(n.contentHooks||(n.contentHooks=[])).push(-s,_),S&&((n.contentHooks||(n.contentHooks=[])).push(s,S),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,S)),R&&(n.viewHooks||(n.viewHooks=[])).push(-s,R),$&&((n.viewHooks||(n.viewHooks=[])).push(s,$),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,$)),null!=K&&(n.destroyHooks||(n.destroyHooks=[])).push(s,K)}}function Je(n,r,s){x(n,r,3,s)}function D(n,r,s,a){(3&n[gn])===s&&x(n,r,s,a)}function U(n,r){let s=n[gn];(3&s)===r&&(s&=2047,s+=1,n[gn]=s)}function x(n,r,s,a){const d=a??-1,_=r.length-1;let S=0;for(let R=void 0!==a?65535&n[rs]:0;R<_;R++)if("number"==typeof r[R+1]){if(S=r[R],null!=a&&S>=a)break}else r[R]<0&&(n[rs]+=65536),(S<d||-1==d)&&(w(n,s,r,R),n[rs]=(4294901760&n[rs])+R+2),R++}function w(n,r,s,a){const c=s[a]<0,d=s[a+1],S=n[c?-s[a]:s[a]];if(c){if(n[gn]>>11<n[rs]>>16&&(3&n[gn])===r){n[gn]+=2048,Qn(4,S,d);try{d.call(S)}finally{Qn(5,S,d)}}}else{Qn(4,S,d);try{d.call(S)}finally{Qn(5,S,d)}}}const f=-1;class g{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Tt(n,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],_=s[a++],S=s[a++];n.setAttribute(r,_,S,d)}else{const d=c,_=s[++a];Wt(d)?n.setProperty(r,d,_):n.setAttribute(r,d,_),a++}}return a}function Sn(n){return 3===n||4===n||6===n}function Wt(n){return 64===n.charCodeAt(0)}function gt(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||dn(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function dn(n,r,s,a,c){let d=0,_=n.length;if(-1===r)_=-1;else for(;d<n.length;){const S=n[d++];if("number"==typeof S){if(S===r){_=-1;break}if(S>r){_=d-1;break}}}for(;d<n.length;){const S=n[d];if("number"==typeof S)break;if(S===s){if(null===a)return void(null!==c&&(n[d+1]=c));if(a===n[d+1])return void(n[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==_&&(n.splice(_,0,r),d=_+1),n.splice(d++,0,s),null!==a&&n.splice(d++,0,a),null!==c&&n.splice(d++,0,c)}function Xt(n){return n!==f}function Xn(n){return 32767&n}function At(n,r){let s=function xn(n){return n>>16}(n),a=r;for(;s>0;)a=a[Di],s--;return a}let Pr=!0;function ki(n){const r=Pr;return Pr=n,r}const ai=255,Ci=5;let hs=0;const qr={};function vs(n,r){const s=Ko(n,r);if(-1!==s)return s;const a=r[Ht];a.firstCreatePass&&(n.injectorIndex=r.length,Zr(a.data,n),Zr(r,null),Zr(a.blueprint,null));const c=Ta(n,r),d=n.injectorIndex;if(Xt(c)){const _=Xn(c),S=At(c,r),R=S[Ht].data;for(let $=0;$<8;$++)r[d+$]=S[_+$]|R[_+$]}return r[d+8]=c,d}function Zr(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Ko(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Ta(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Sa(c),null===a)return f;if(s++,c=c[Di],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return f}function Gt(n,r,s){!function ro(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Rt)&&(a=s[Rt]),null==a&&(a=s[Rt]=hs++);const c=a&ai;r.data[n+(c>>Ci)]|=1<<c}(n,r,s)}function mn(n,r,s){if(s&Qt.Optional||void 0!==n)return n;it()}function Ue(n,r,s,a){if(s&Qt.Optional&&void 0===a&&(a=null),!(s&(Qt.Self|Qt.Host))){const c=n[Ct],d=cr(void 0);try{return c?c.get(r,a,s&Qt.Optional):ir(r,a,s&Qt.Optional)}finally{cr(d)}}return mn(a,0,s)}function sr(n,r,s,a=Qt.Default,c){if(null!==n){if(1024&r[gn]){const _=function qo(n,r,s,a,c){let d=n,_=r;for(;null!==d&&null!==_&&1024&_[gn]&&!(256&_[gn]);){const S=zr(d,_,s,a|Qt.Self,qr);if(S!==qr)return S;let R=d.parent;if(!R){const $=_[Ea];if($){const K=$.get(s,qr,a);if(K!==qr)return K}R=Sa(_),_=_[Di]}d=R}return c}(n,r,s,a,qr);if(_!==qr)return _}const d=zr(n,r,s,a,qr);if(d!==qr)return d}return Ue(r,s,a,c)}function zr(n,r,s,a,c){const d=function ca(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Rt)?n[Rt]:void 0;return"number"==typeof r?r>=0?r&ai:Ai:r}(s);if("function"==typeof d){if(!vo(r,n,a))return a&Qt.Host?mn(c,0,a):Ue(r,s,a,c);try{const _=d(a);if(null!=_||a&Qt.Optional)return _;it()}finally{ka()}}else if("number"==typeof d){let _=null,S=Ko(n,r),R=f,$=a&Qt.Host?r[dr][Te]:null;for((-1===S||a&Qt.SkipSelf)&&(R=-1===S?Ta(n,r):r[S+8],R!==f&&or(a,!1)?(_=r[Ht],S=Xn(R),r=At(R,r)):S=-1);-1!==S;){const K=r[Ht];if(ui(d,S,K.data)){const le=Yi(S,r,s,_,a,$);if(le!==qr)return le}R=r[S+8],R!==f&&or(a,r[Ht].data[S+8]===$)&&ui(d,S,r)?(_=K,S=Xn(R),r=At(R,r)):S=-1}}return c}function Yi(n,r,s,a,c,d){const _=r[Ht],S=_.data[n+8],K=Ei(S,_,s,null==a?pi(S)&&Pr:a!=_&&0!=(3&S.type),c&Qt.Host&&d===S);return null!==K?qn(r,_,K,S):qr}function Ei(n,r,s,a,c){const d=n.providerIndexes,_=r.data,S=1048575&d,R=n.directiveStart,K=d>>20,Oe=c?S+K:n.directiveEnd;for(let Qe=a?S:S+K;Qe<Oe;Qe++){const vt=_[Qe];if(Qe<R&&s===vt||Qe>=R&&vt.type===s)return Qe}if(c){const Qe=_[R];if(Qe&&Pi(Qe)&&Qe.type===s)return R}return null}function qn(n,r,s,a){let c=n[s];const d=r.data;if(function C(n){return n instanceof g}(c)){const _=c;_.resolving&&function Pe(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Se(-200,`Circular dependency in DI detected for ${n}${s}`)}(Ze(d[s]));const S=ki(_.canSeeViewProviders);_.resolving=!0;const R=_.injectImpl?cr(_.injectImpl):null;vo(n,a,Qt.Default);try{c=n[s]=_.factory(void 0,d,n,a),r.firstCreatePass&&s>=a.directiveStart&&function ua(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const _=Ts(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,d))}(s,d[s],r)}finally{null!==R&&cr(R),ki(S),_.resolving=!1,ka()}}return c}function ui(n,r,s){return!!(s[r+(n>>Ci)]&1<<n)}function or(n,r){return!(n&Qt.Self||n&Qt.Host&&r)}class fs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return sr(this._tNode,this._lView,r,ie(a),s)}}function Ai(){return new fs(ur(),wt())}function ko(n){return Ee(()=>{const r=n.prototype.constructor,s=r[yt]||Mi(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const d=c[yt]||Mi(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Mi(n){return _e(n)?()=>{const r=Mi(re(n));return r&&r()}:bi(n)}function Sa(n){const r=n[Ht],s=r.type;return 2===s?r.declTNode:1===s?n[Te]:null}function La(n){return function pn(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Sn(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(ur(),n)}const io="__parameters__";function Gs(n,r,s){return Ee(()=>{const a=function Fa(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const _=new c(...d);return S.annotation=_,S;function S(R,$,K){const le=R.hasOwnProperty(io)?R[io]:Object.defineProperty(R,io,{value:[]})[io];for(;le.length<=K;)le.push(null);return(le[K]=le[K]||[]).push(_),R}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class kr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Dt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const oo=Function;function ao(n,r){n.forEach(s=>Array.isArray(s)?ao(s,r):r(s))}function Uo(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Bo(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function E(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function z(n,r,s){let a=xe(n,r);return a>=0?n[1|a]=s:(a=~a,function M(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Q(n,r){const s=xe(n,r);if(s>=0)return n[1|s]}function xe(n,r){return function qt(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const d=a+(c-a>>1),_=n[d<<s];if(r===_)return d<<s;_>r?c=d:a=d+1}return~(c<<s)}(n,r,1)}const xs=at(Gs("Inject",n=>({token:n})),-1),Ca=at(Gs("Optional"),8),k=at(Gs("SkipSelf"),4);var Xo=(()=>((Xo=Xo||{})[Xo.Important=1]="Important",Xo[Xo.DashCase=2]="DashCase",Xo))();const ja=new Map;let Cd=0;const Oc="__ngContext__";function Hi(n,r){fi(r)?(n[Oc]=r[Gi],function Lp(n){ja.set(n[Gi],n)}(r)):n[Oc]=r}let It;function tn(n,r){return It(n,r)}function Gn(n){const r=n[Kn];return oi(r)?r[Kn]:r}function fa(n){return ga(n[_n])}function pa(n){return ga(n[ei])}function ga(n){for(;null!==n&&!oi(n);)n=n[ei];return n}function Ha(n,r,s,a,c){if(null!=a){let d,_=!1;oi(a)?d=a:fi(a)&&(_=!0,a=a[lr]);const S=Ur(a);0===n&&null!==s?null==c?Bp(r,s,S):nc(r,s,S,c||null,!0):1===n&&null!==s?nc(r,s,S,c||null,!0):2===n?function $h(n,r,s){const a=xu(n,r);a&&function Vm(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,S,_):3===n&&r.destroyNode(S),null!=d&&function gs(n,r,s,a,c){const d=s[br];d!==Ur(s)&&Ha(r,n,a,d,c);for(let S=si;S<s.length;S++){const R=s[S];uu(R[Ht],R,n,r,a,d)}}(r,n,d,s,c)}}function Ru(n,r,s){return n.createElement(r,s)}function Fp(n,r){const s=n[Bi],a=s.indexOf(r),c=r[Kn];512&r[gn]&&(r[gn]&=-513,Co(c,-1)),s.splice(a,1)}function Eo(n,r){if(n.length<=si)return;const s=si+r,a=n[s];if(a){const c=a[Ui];null!==c&&c!==n&&Fp(c,a),r>0&&(n[s-1][ei]=a[ei]);const d=Bo(n,si+r);!function xd(n,r){uu(n,r,r[Vt],2,null,null),r[lr]=null,r[Te]=null}(a[Ht],a);const _=d[Ar];null!==_&&_.detachView(d[Ht]),a[Kn]=null,a[ei]=null,a[gn]&=-65}return a}function kh(n,r){if(!(128&r[gn])){const s=r[Vt];s.destroyNode&&uu(n,r,s,3,null,null),function Pd(n){let r=n[_n];if(!r)return tc(n[Ht],n);for(;r;){let s=null;if(fi(r))s=r[_n];else{const a=r[si];a&&(s=a)}if(!s){for(;r&&!r[ei]&&r!==n;)fi(r)&&tc(r[Ht],r),r=r[Kn];null===r&&(r=n),fi(r)&&tc(r[Ht],r),s=r&&r[ei]}r=s}}(r)}}function tc(n,r){if(!(128&r[gn])){r[gn]&=-65,r[gn]|=128,function au(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof g)){const d=s[a+1];if(Array.isArray(d))for(let _=0;_<d.length;_+=2){const S=c[d[_]],R=d[_+1];Qn(4,S,R);try{R.call(S)}finally{Qn(5,S,R)}}else{Qn(4,c,d);try{d.call(c)}finally{Qn(5,c,d)}}}}}(n,r),function Up(n,r){const s=n.cleanup,a=r[ze];let c=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const _=s[d+3];_>=0?a[c=_]():a[c=-_].unsubscribe(),d+=2}else{const _=a[c=s[d+1]];s[d].call(_)}if(null!==a){for(let d=c+1;d<a.length;d++)(0,a[d])();r[ze]=null}}(n,r),1===r[Ht].type&&r[Vt].destroy();const s=r[Ui];if(null!==s&&oi(r[Kn])){s!==r[Kn]&&Fp(s,r);const a=r[Ar];null!==a&&a.detachView(n)}!function Nh(n){ja.delete(n[Gi])}(r)}}function Lh(n,r,s){return function Fc(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[lr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=n.data[a.directiveStart+c];if(d===Le.None||d===Le.Emulated)return null}return Rr(a,s)}}(n,r.parent,s)}function nc(n,r,s,a,c){n.insertBefore(r,s,a,c)}function Bp(n,r,s){n.appendChild(r,s)}function er(n,r,s,a,c){null!==a?nc(n,r,s,a,c):Bp(n,r,s)}function xu(n,r){return n.parentNode(r)}function xl(n,r,s){return Bh(n,r,s)}let Od,Bc,zh,Ld,Bh=function Uh(n,r,s){return 40&n.type?Rr(n,s):null};function Pl(n,r,s,a){const c=Lh(n,a,r),d=r[Vt],S=xl(a.parent||r[Te],a,r);if(null!=c)if(Array.isArray(s))for(let R=0;R<s.length;R++)er(d,c,s[R],S,!1);else er(d,c,s,S,!1);void 0!==Od&&Od(d,a,r,s,c)}function Ol(n,r){if(null!==r){const s=r.type;if(3&s)return Rr(r,n);if(4&s)return Vh(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Ol(n,a);{const c=n[r.index];return oi(c)?Vh(-1,c):Ur(c)}}if(32&s)return tn(r,n)()||Ur(n[r.index]);{const a=$p(n,r);return null!==a?Array.isArray(a)?a[0]:Ol(Gn(n[dr]),a):Ol(n,r.next)}}return null}function $p(n,r){return null!==r?n[dr][Te].projection[r.projection]:null}function Vh(n,r){const s=si+n+1;if(s<r.length){const a=r[s],c=a[Ht].firstChild;if(null!==c)return Ol(a,c)}return r[br]}function jh(n,r,s,a,c,d,_){for(;null!=s;){const S=a[s.index],R=s.type;if(_&&0===r&&(S&&Hi(Ur(S),a),s.flags|=2),32!=(32&s.flags))if(8&R)jh(n,r,s.child,a,c,d,!1),Ha(r,n,c,S,d);else if(32&R){const $=tn(s,a);let K;for(;K=$();)Ha(r,n,c,K,d);Ha(r,n,c,S,d)}else 16&R?Hp(n,r,a,s,c,d):Ha(r,n,c,S,d);s=_?s.projectionNext:s.next}}function uu(n,r,s,a,c,d){jh(s,a,n.firstChild,r,c,d,!1)}function Hp(n,r,s,a,c,d){const _=s[dr],R=_[Te].projection[a.projection];if(Array.isArray(R))for(let $=0;$<R.length;$++)Ha(r,n,c,R[$],d);else jh(n,r,R,_[Kn],c,d,!0)}function Uc(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function za(n,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&Tt(n,r,a),null!==c&&Uc(n,r,c),null!==d&&function zp(n,r,s){n.setAttribute(r,"style",s)}(n,r,d)}function cu(n){return function Nd(){if(void 0===Bc&&(Bc=null,an.trustedTypes))try{Bc=an.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Bc}()?.createHTML(n)||n}function Nl(n){zh=n}function Fd(){if(void 0===Ld&&(Ld=null,an.trustedTypes))try{Ld=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ld}function Ud(n){return Fd()?.createHTML(n)||n}function Kp(n){return Fd()?.createScriptURL(n)||n}class Pu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}class Hm extends Pu{getTypeName(){return"HTML"}}class zm extends Pu{getTypeName(){return"Style"}}class Gm extends Pu{getTypeName(){return"Script"}}class Ou extends Pu{getTypeName(){return"URL"}}class Vc extends Pu{getTypeName(){return"ResourceURL"}}function lu(n){return n instanceof Pu?n.changingThisBreaksApplicationSecurity:n}function $c(n,r){const s=function qp(n){return n instanceof Pu&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${ot})`)}return s===r}function $o(n){return new Hm(n)}function Wm(n){return new zm(n)}function Zp(n){return new Gm(n)}function du(n){return new Ou(n)}function Yp(n){return new Vc(n)}class Qp{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(cu(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Km{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=cu(r),s}}const Zm=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Bd(n){return(n=String(n)).match(Zm)?n:"unsafe:"+n}function yu(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Ll(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Xp=yu("area,br,col,hr,img,wbr"),Jp=yu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eg=yu("rp,rt"),Wh=Ll(Xp,Ll(Jp,yu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ll(eg,yu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ll(eg,Jp)),Kh=yu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tg=Ll(Kh,yu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ng=yu("script,style,template");class rg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Wh.hasOwnProperty(s))return this.sanitizedSomething=!0,!ng.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),_=d.name,S=_.toLowerCase();if(!tg.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let R=d.value;Kh[S]&&(R=Bd(R)),this.buf.push(" ",_,'="',Os(R),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Wh.hasOwnProperty(s)&&!Xp.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Os(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Qm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qh=/([^\#-~ |!])/g;function Os(n){return n.replace(/&/g,"&amp;").replace(Qm,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(qh,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jc;function Vd(n,r){let s=null;try{jc=jc||function kl(n){const r=new Km(n);return function qm(){try{return!!(new window.DOMParser).parseFromString(cu(""),"text/html")}catch{return!1}}()?new Qp(r):r}(n);let a=r?String(r):"";s=jc.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=jc.getInertBodyElement(a)}while(a!==d);return cu((new rg).sanitizeChildren(Fl(s)||s))}finally{if(s){const a=Fl(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Fl(n){return"content"in n&&function Nu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Xi=(()=>((Xi=Xi||{})[Xi.NONE=0]="NONE",Xi[Xi.HTML=1]="HTML",Xi[Xi.STYLE=2]="STYLE",Xi[Xi.SCRIPT=3]="SCRIPT",Xi[Xi.URL=4]="URL",Xi[Xi.RESOURCE_URL=5]="RESOURCE_URL",Xi))();function ig(n){const r=zc();return r?Ud(r.sanitize(Xi.HTML,n)||""):$c(n,"HTML")?Ud(lu(n)):Vd(function kd(){return void 0!==zh?zh:typeof document<"u"?document:void 0}(),Ce(n))}function Hc(n){const r=zc();return r?r.sanitize(Xi.URL,n)||"":$c(n,"URL")?lu(n):Bd(Ce(n))}function ku(n){const r=zc();if(r)return Kp(r.sanitize(Xi.RESOURCE_URL,n)||"");if($c(n,"ResourceURL"))return Kp(lu(n));throw new Se(904,!1)}function $d(n,r,s){return function og(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?ku:Hc}(r,s)(n)}function zc(){const n=wt();return n&&n[nr]}const Zh=new kr("ENVIRONMENT_INITIALIZER"),Yh=new kr("INJECTOR",-1),Qh=new kr("INJECTOR_DEF_TYPES");class Bl{get(r,s=jn){if(s===jn){const a=new Error(`NullInjectorError: No provider for ${L(r)}!`);throw a.name="NullInjectorError",a}return s}}function Vl(n){return{\u0275providers:n}}function Lu(...n){return{\u0275providers:ug(0,n),\u0275fromNgModule:!0}}function ug(n,...r){const s=[],a=new Set;let c;return ao(r,d=>{const _=d;Jh(_,s,[],a)&&(c||(c=[]),c.push(_))}),void 0!==c&&Xh(c,s),s}function Xh(n,r){for(let s=0;s<n.length;s++){const{providers:c}=n[s];ef(c,d=>{r.push(d)})}}function Jh(n,r,s,a){if(!(n=re(n)))return!1;let c=null,d=mr(n);const _=!d&&Hn(n);if(d||_){if(_&&!_.standalone)return!1;c=n}else{const R=n.ngModule;if(d=mr(R),!d)return!1;c=R}const S=a.has(c);if(_){if(S)return!1;if(a.add(c),_.dependencies){const R="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const $ of R)Jh($,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!S){let $;a.add(c);try{ao(d.imports,K=>{Jh(K,r,s,a)&&($||($=[]),$.push(K))})}finally{}void 0!==$&&Xh($,r)}if(!S){const $=bi(c)||(()=>new c);r.push({provide:c,useFactory:$,deps:fe},{provide:Qh,useValue:c,multi:!0},{provide:Zh,useValue:()=>ct(c),multi:!0})}const R=d.providers;null==R||S||ef(R,K=>{r.push(K)})}}return c!==n&&void 0!==n.providers}function ef(n,r){for(let s of n)je(s)&&(s=s.\u0275providers),Array.isArray(s)?ef(s,r):r(s)}const $l=ce({provide:String,useValue:ce});function vu(n){return null!==n&&"object"==typeof n&&$l in n}function sc(n){return"function"==typeof n}const nf=new kr("Set Injector scope."),Gc={},rf={};let jd;function Wc(){return void 0===jd&&(jd=new Bl),jd}class Eu{}class sf extends Eu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oc(r,_=>this.processProvider(_)),this.records.set(Yh,qc(void 0,this)),c.has("environment")&&this.records.set(Eu,qc(void 0,this));const d=this.records.get(nf);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Qh.multi,fe,Qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=hn(this),a=cr(void 0);try{return r()}finally{hn(s),cr(a)}}get(r,s=jn,a=Qt.Default){this.assertNotDestroyed(),a=ie(a);const c=hn(this),d=cr(void 0);try{if(!(a&Qt.SkipSelf)){let S=this.records.get(r);if(void 0===S){const R=function Hd(n){return"function"==typeof n||"object"==typeof n&&n instanceof kr}(r)&&Ln(r);S=R&&this.injectableDefInScope(R)?qc(Kc(r),Gc):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(a&Qt.Self?Wc():this.parent).get(r,s=a&Qt.Optional&&s===jn?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[nn]=_[nn]||[]).unshift(L(r)),c)throw _;return function ue(n,r,s,a){const c=n[nn];throw r[Et]&&c.unshift(r[Et]),n.message=function oe(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==tt?n.slice(2):n;let c=L(r);if(Array.isArray(r))c=r.map(L).join(" -> ");else if("object"==typeof r){let d=[];for(let _ in r)if(r.hasOwnProperty(_)){let S=r[_];d.push(_+":"+("string"==typeof S?JSON.stringify(S):L(S)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(ke,"\n  ")}`}("\n"+n.message,c,s,a),n[Yn]=c,n[nn]=null,n}(_,r,"R3InjectorError",this.source)}throw _}finally{cr(d),hn(c)}}resolveInjectorInitializers(){const r=hn(this),s=cr(void 0);try{const a=this.get(Zh.multi,fe,Qt.Self);for(const c of a)c()}finally{hn(r),cr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(L(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(r){let s=sc(r=re(r))?r:re(r&&r.provide);const a=function af(n){return vu(n)?qc(void 0,n.useValue):qc(jl(n),Gc)}(r);if(sc(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=qc(void 0,Gc,!0),c.factory=()=>me(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Gc&&(s.value=rf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Hl(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=re(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Kc(n){const r=Ln(n),s=null!==r?r.factory:bi(n);if(null!==s)return s;if(n instanceof kr)throw new Se(204,!1);if(n instanceof Function)return function Jm(n){const r=n.length;if(r>0)throw E(r,"?"),new Se(204,!1);const s=function fr(n){const r=n&&(n[wr]||n[Bn]);return r?(function rr(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),r):null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Se(204,!1)}function jl(n,r,s){let a;if(sc(n)){const c=re(n);return bi(c)||Kc(c)}if(vu(n))a=()=>re(n.useValue);else if(function tf(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...me(n.deps||[]));else if(function _u(n){return!(!n||!n.useExisting)}(n))a=()=>ct(re(n.useExisting));else{const c=re(n&&(n.useClass||n.provide));if(!function lg(n){return!!n.deps}(n))return bi(c)||Kc(c);a=()=>new c(...me(n.deps))}return a}function qc(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function oc(n,r){for(const s of n)Array.isArray(s)?oc(s,r):s&&je(s)?oc(s.\u0275providers,r):r(s)}class dg{}class uf{}class zd{resolveComponentFactory(r){throw function Jo(n){const r=Error(`No component factory found for ${L(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Zc=(()=>{class n{}return n.NULL=new zd,n})();function Fu(){return Ga(ur(),wt())}function Ga(n,r){return new Yc(Rr(n,r))}let Yc=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Fu,n})();function ac(n){return n instanceof Yc?n.nativeElement:n}class hg{}let Qc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function fg(){const n=wt(),s=gi(ur().index,n);return(fi(s)?s:n)[Vt]}(),n})(),Uu=(()=>{class n{}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:()=>null}),n})();class df{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const pg=new df("15.2.4"),hf={},ff="ngOriginalError";function Xc(n){return n[ff]}class zl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Xc(r);for(;s&&Xc(s);)s=Xc(s);return s||null}}function wu(n){return n instanceof Function?n():n}function Eg(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||n.charCodeAt(c+d)<=32)return c}s=c+1}}const wg="ng-template";function iy(n,r,s){let a=0,c=!0;for(;a<n.length;){let d=n[a++];if("string"==typeof d&&c){const _=n[a++];if(s&&"class"===d&&-1!==Eg(_.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<n.length&&"string"==typeof(d=n[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function pf(n){return 4===n.type&&n.value!==wg}function sy(n,r,s){return r===(4!==n.type||s?n.value:wg)}function Gd(n,r,s){let a=4;const c=n.attrs||[],d=function Wl(n){for(let r=0;r<n.length;r++)if(Sn(n[r]))return r;return n.length}(c);let _=!1;for(let S=0;S<r.length;S++){const R=r[S];if("number"!=typeof R){if(!_)if(4&a){if(a=2|1&a,""!==R&&!sy(n,R,s)||""===R&&1===r.length){if(Wa(a))return!1;_=!0}}else{const $=8&a?R:r[++S];if(8&a&&null!==n.attrs){if(!iy(n.attrs,$,s)){if(Wa(a))return!1;_=!0}continue}const le=Ig(8&a?"class":R,c,pf(n),s);if(-1===le){if(Wa(a))return!1;_=!0;continue}if(""!==$){let Oe;Oe=le>d?"":c[le+1].toLowerCase();const Qe=8&a?Oe:null;if(Qe&&-1!==Eg(Qe,$,0)||2&a&&$!==Oe){if(Wa(a))return!1;_=!0}}}}else{if(!_&&!Wa(a)&&!Wa(R))return!1;if(_&&Wa(R))continue;_=!1,a=R|1&a}}return Wa(a)||_}function Wa(n){return 0==(1&n)}function Ig(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const _=r[c];if(_===n)return c;if(3===_||6===_)d=!0;else{if(1===_||2===_){let S=r[++c];for(;"string"==typeof S;)S=r[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=d?1:2}return-1}return function Kd(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Wd(n,r,s=!1){for(let a=0;a<r.length;a++)if(Gd(n,r[a],s))return!0;return!1}function mf(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let c=0;c<n.length;c++)if(n[c]!==a[c])continue e;return!0}}return!1}function qd(n,r){return n?":not("+r.trim()+")":r}function Dg(n){let r=n[0],s=1,a=2,c="",d=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&a){const S=n[++s];c+="["+_+(S.length>0?'="'+S+'"':"")+"]"}else 8&a?c+="."+_:4&a&&(c+=" "+_);else""!==c&&!Wa(_)&&(r+=qd(d,c),c=""),a=_,d=d||!Wa(a);s++}return""!==c&&(r+=qd(d,c)),r}const Zn={};function Zd(n){Tg(Mn(),wt(),Kr()+n,!1)}function Tg(n,r,s,a){if(!a)if(3==(3&r[gn])){const d=n.preOrderCheckHooks;null!==d&&Je(r,d,s)}else{const d=n.preOrderHooks;null!==d&&D(r,d,0,s)}Zi(s)}function _f(n,r=null,s=null,a){const c=Ef(n,r,s,a);return c.resolveInjectorInitializers(),c}function Ef(n,r=null,s=null,a,c=new Set){const d=[s||fe,Lu(n)];return a=a||("object"==typeof n?void 0:L(n)),new sf(d,r||Wc(),a||null,c)}let dc=(()=>{class n{static create(s,a){if(Array.isArray(s))return _f({name:""},a,s,"");{const c=s.name??"";return _f({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=jn,n.NULL=new Bl,n.\u0275prov=Dt({token:n,providedIn:"any",factory:()=>ct(Yh)}),n.__NG_ELEMENT_ID__=-1,n})();function el(n,r=Qt.Default){const s=wt();return null===s?ct(n,r):sr(ur(),s,re(n),r)}function kg(){throw new Error("invalid")}function eh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const _=n.data[d];Ms(s[a]),_.contentQueries(2,r[d],d)}}}function hc(n,r,s,a,c,d,_,S,R,$,K){const le=r.blueprint.slice();return le[lr]=c,le[gn]=76|a,(null!==K||n&&1024&n[gn])&&(le[gn]|=1024),Ki(le),le[Kn]=le[Di]=n,le[et]=s,le[Jt]=_||n&&n[Jt],le[Vt]=S||n&&n[Vt],le[nr]=R||n&&n[nr]||null,le[Ct]=$||n&&n[Ct]||null,le[Te]=d,le[Gi]=function Ad(){return Cd++}(),le[Ea]=K,le[dr]=2==r.type?n[dr]:le,le}function hu(n,r,s,a,c){let d=n.data[r];if(null===d)d=function ed(n,r,s,a,c){const d=Wo(),_=sa(),R=n.data[r]=function xf(n,r,s,a,c,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?d:d&&d.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=R),null!==d&&(_?null==d.child&&null!==R.parent&&(d.child=R):null===d.next&&(d.next=R,R.prev=d)),R}(n,r,s,a,c),function ys(){return bn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const _=function yo(){const n=bn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===_?-1:_.injectorIndex}return mi(d,!0),d}function nl(n,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function td(n,r,s){No(r);try{const a=n.viewQuery;null!==a&&rh(1,a,s);const c=n.template;null!==c&&fu(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&eh(n,r),n.staticViewQueries&&rh(2,n.viewQuery,s);const d=n.components;null!==d&&function Af(n,r){for(let s=0;s<r.length;s++)Hf(n,r[s])}(r,d)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[gn]&=-5,$r()}}function rl(n,r,s,a){const c=r[gn];if(128!=(128&c)){No(r);try{Ki(r),function yi(n){return bn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&fu(n,r,s,2,a);const _=3==(3&c);if(_){const $=n.preOrderCheckHooks;null!==$&&Je(r,$,null)}else{const $=n.preOrderHooks;null!==$&&D(r,$,0,null),U(r,0)}if(function $f(n){for(let r=fa(n);null!==r;r=pa(r)){if(!r[po])continue;const s=r[Bi];for(let a=0;a<s.length;a++){const c=s[a];512&c[gn]||Co(c[Kn],1),c[gn]|=512}}}(r),function yy(n){for(let r=fa(n);null!==r;r=pa(r))for(let s=si;s<r.length;s++){const a=r[s],c=a[Ht];ra(a)&&rl(c,a,c.template,a[et])}}(r),null!==n.contentQueries&&eh(n,r),_){const $=n.contentCheckHooks;null!==$&&Je(r,$)}else{const $=n.contentHooks;null!==$&&D(r,$,1),U(r,1)}!function Jl(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Zi(~c);else{const d=c,_=s[++a],S=s[++a];Da(_,d),S(2,r[d])}}}finally{Zi(-1)}}(n,r);const S=n.components;null!==S&&function tl(n,r){for(let s=0;s<r.length;s++)jf(n,r[s])}(r,S);const R=n.viewQuery;if(null!==R&&rh(2,R,a),_){const $=n.viewCheckHooks;null!==$&&Je(r,$)}else{const $=n.viewHooks;null!==$&&D(r,$,2),U(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[gn]&=-41,512&r[gn]&&(r[gn]&=-513,Co(r[Kn],-1))}finally{$r()}}}function fu(n,r,s,a,c){const d=Kr(),_=2&a;try{Zi(-1),_&&r.length>On&&Tg(n,r,On,!1),Qn(_?2:0,c),s(a,c)}finally{Zi(d),Qn(_?3:1,c)}}function th(n,r,s){if(zo(r)){const c=r.directiveEnd;for(let d=r.directiveStart;d<c;d++){const _=n.data[d];_.contentQueries&&_.contentQueries(1,s[d],d)}}}function Mf(n,r,s){Ao()&&(function Lf(n,r,s,a){const c=s.directiveStart,d=s.directiveEnd;pi(s)&&function Vf(n,r,s){const a=Rr(r,n),c=Lg(s),d=n[Jt],_=nh(n,hc(n,c,null,s.onPush?32:16,a,r,d,d.createRenderer(a,s),null,null,null));n[r.index]=_}(r,s,n.data[c+s.componentOffset]),n.firstCreatePass||vs(s,r),Hi(a,r);const _=s.initialInputs;for(let S=c;S<d;S++){const R=n.data[S],$=qn(r,n,S,s);Hi($,r),null!==_&&$g(0,S-c,$,R,0,_),Pi(R)&&(gi(s.index,r)[et]=qn(r,n,S,s))}}(n,r,s,Rr(s,r)),64==(64&s.flags)&&Bg(n,r,s))}function nd(n,r,s=Rr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const _=a[d+1],S=-1===_?s(r,n):n[_];n[c++]=S}}}function Lg(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=rd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function rd(n,r,s,a,c,d,_,S,R,$){const K=On+a,le=K+c,Oe=function py(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Zn);return s}(K,le),Qe="function"==typeof $?$():$;return Oe[Ht]={type:n,blueprint:Oe,template:s,queries:null,viewQuery:S,declTNode:r,data:Oe.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:R,consts:Qe,incompleteFirstPass:!1}}function id(n,r,s,a){const c=zf(r);null===s?c.push(a):(c.push(s),n.firstCreatePass&&Gf(n).push(a,c.length-1))}function Pf(n,r,s,a){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const d=n[c];null===a?fc(s,r,c,d):a.hasOwnProperty(c)&&fc(s,r,a[c],d)}return s}function fc(n,r,s,a){n.hasOwnProperty(s)?n[s].push(r,a):n[s]=[r,a]}function ma(n,r,s,a,c,d,_,S){const R=Rr(r,s);let K,$=r.inputs;!S&&null!=$&&(K=$[a])?(qf(n,s,K,a,c),pi(r)&&Nf(s,r.index)):3&r.type&&(a=function gy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=_?_(c,r.value||"",a):c,d.setProperty(R,a,c))}function Nf(n,r){const s=gi(r,n);16&s[gn]||(s[gn]|=32)}function sd(n,r,s,a){if(Ao()){const c=null===a?null:{"":-1},d=function Vg(n,r){const s=n.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const _=s[d];if(Wd(r,_.selectors,!1))if(a||(a=[]),Pi(_))if(null!==_.findHostDirectiveDefs){const S=[];c=c||new Map,_.findHostDirectiveDefs(_,S,c),a.unshift(...S,_),od(n,r,S.length)}else a.unshift(_),od(n,r,0);else c=c||new Map,_.findHostDirectiveDefs?.(_,a,c),a.push(_)}return null===a?null:[a,c]}(n,s);let _,S;null===d?_=S=null:[_,S]=d,null!==_&&Ug(n,r,s,_,c,S),c&&function Uf(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Se(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=gt(s.mergedAttrs,s.attrs)}function Ug(n,r,s,a,c,d){for(let $=0;$<a.length;$++)Gt(vs(s,r),n,a[$].type);!function il(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,a.length);for(let $=0;$<a.length;$++){const K=a[$];K.providersResolver&&K.providersResolver(K)}let _=!1,S=!1,R=nl(n,r,a.length,null);for(let $=0;$<a.length;$++){const K=a[$];s.mergedAttrs=gt(s.mergedAttrs,K.hostAttrs),Vu(n,s,r,R,K),Bf(R,K,c),null!==K.contentQueries&&(s.flags|=4),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(s.flags|=64);const le=K.type.prototype;!_&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),_=!0),!S&&(le.ngOnChanges||le.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),S=!0),R++}!function Of(n,r,s){const c=r.directiveEnd,d=n.data,_=r.attrs,S=[];let R=null,$=null;for(let K=r.directiveStart;K<c;K++){const le=d[K],Oe=s?s.get(le):null,vt=Oe?Oe.outputs:null;R=Pf(le.inputs,K,R,Oe?Oe.inputs:null),$=Pf(le.outputs,K,$,vt);const zt=null===R||null===_||pf(r)?null:sl(R,K,_);S.push(zt)}null!==R&&(R.hasOwnProperty("class")&&(r.flags|=8),R.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=S,r.inputs=R,r.outputs=$}(n,s,d)}function Bg(n,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,_=function Po(){return bn.lFrame.currentDirectiveIndex}();try{Zi(d);for(let S=a;S<c;S++){const R=n.data[S],$=r[S];ds(S),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Ff(R,$)}}finally{Zi(-1),ds(_)}}function Ff(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function od(n,r,s){r.componentOffset=s,(n.components||(n.components=[])).push(r.index)}function Bf(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Pi(r)&&(s[""]=n)}}function Vu(n,r,s,a,c){n.data[a]=c;const d=c.factory||(c.factory=bi(c.type)),_=new g(d,Pi(c),el);n.blueprint[a]=_,s[a]=_,function kf(n,r,s,a,c){const d=c.hostBindings;if(d){let _=n.hostBindingOpCodes;null===_&&(_=n.hostBindingOpCodes=[]);const S=~r.index;(function my(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(_)!=S&&_.push(S),_.push(s,a,d)}}(n,r,a,nl(n,s,c.hostVars,Zn),c)}function jo(n,r,s,a,c,d){const _=Rr(n,r);!function $u(n,r,s,a,c,d,_){if(null==d)n.removeAttribute(r,c,s);else{const S=null==_?Ce(d):_(d,a||"",c);n.setAttribute(r,c,S,s)}}(r[Vt],_,d,n.value,s,a,c)}function $g(n,r,s,a,c,d){const _=d[r];if(null!==_){const S=a.setInput;for(let R=0;R<_.length;){const $=_[R++],K=_[R++],le=_[R++];null!==S?a.setInput(s,le,$,K):s[K]=le}}}function sl(n,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(n.hasOwnProperty(d)){null===a&&(a=[]);const _=n[d];for(let S=0;S<_.length;S+=2)if(_[S]===r){a.push(d,_[S+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function jg(n,r,s,a){return[n,!0,!1,r,null,0,a,s,null,null]}function jf(n,r){const s=gi(r,n);if(ra(s)){const a=s[Ht];48&s[gn]?rl(a,s,a.template,s[et]):s[Fe]>0&&ad(s)}}function ad(n){for(let a=fa(n);null!==a;a=pa(a))for(let c=si;c<a.length;c++){const d=a[c];if(ra(d))if(512&d[gn]){const _=d[Ht];rl(_,d,_.template,d[et])}else d[Fe]>0&&ad(d)}const s=n[Ht].components;if(null!==s)for(let a=0;a<s.length;a++){const c=gi(s[a],n);ra(c)&&c[Fe]>0&&ad(c)}}function Hf(n,r){const s=gi(r,n),a=s[Ht];(function vy(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),td(a,s,s[et])}function nh(n,r){return n[_n]?n[ti][ei]=r:n[_n]=r,n[ti]=r,r}function ud(n){for(;n;){n[gn]|=32;const r=Gn(n);if(Ls(n)&&!r)return n;n=r}return null}function ol(n,r,s,a=!0){const c=r[Jt];c.begin&&c.begin();try{rl(n,r,n.template,s)}catch(_){throw a&&Kf(r,_),_}finally{c.end&&c.end()}}function rh(n,r,s){Ms(0),r(n,s)}function zf(n){return n[ze]||(n[ze]=[])}function Gf(n){return n.cleanup||(n.cleanup=[])}function Wf(n,r,s){return(null===n||Pi(n))&&(s=function zs(n){for(;Array.isArray(n);){if("object"==typeof n[fo])return n;n=n[lr]}return null}(s[r.index])),s[Vt]}function Kf(n,r){const s=n[Ct],a=s?s.get(zl,null):null;a&&a.handleError(r)}function qf(n,r,s,a,c){for(let d=0;d<s.length;){const _=s[d++],S=s[d++],R=r[_],$=n.data[_];null!==$.setInput?$.setInput(R,c,a,S):R[S]=c}}function ih(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,d=0;if(null!==r)for(let _=0;_<r.length;_++){const S=r[_];"number"==typeof S?d=S:1==d?c=q(c,S):2==d&&(a=q(a,S+": "+r[++_]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function sh(n,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(Ur(d)),oi(d))for(let S=si;S<d.length;S++){const R=d[S],$=R[Ht].firstChild;null!==$&&sh(R[Ht],R,$,a)}const _=s.type;if(8&_)sh(n,r,s.child,a);else if(32&_){const S=tn(s,r);let R;for(;R=S();)a.push(R)}else if(16&_){const S=$p(r,s);if(Array.isArray(S))a.push(...S);else{const R=Gn(r[dr]);sh(R[Ht],R,S,a,!0)}}s=c?s.projectionNext:s.next}return a}class pc{get rootNodes(){const r=this._lView,s=r[Ht];return sh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[et]}set context(r){this._lView[et]=r}get destroyed(){return 128==(128&this._lView[gn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Kn];if(oi(r)){const s=r[ii],a=s?s.indexOf(this):-1;a>-1&&(Eo(r,a),Bo(s,a))}this._attachedToViewContainer=!1}kh(this._lView[Ht],this._lView)}onDestroy(r){id(this._lView[Ht],this._lView,null,r)}markForCheck(){ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[gn]&=-65}reattach(){this._lView[gn]|=64}detectChanges(){ol(this._lView[Ht],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gr(n,r){uu(n,r,r[Vt],2,null,null)}(this._lView[Ht],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=r}}class Zf extends pc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ol(r[Ht],r,r[et],!1)}checkNoChanges(){}get context(){return null}}class oh extends Zc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Hn(r);return new gc(s,this.ngModule)}}function Hg(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class _y{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=ie(a);const c=this.injector.get(r,hf,a);return c!==hf||s===hf?c:this.parentInjector.get(r,s,a)}}class gc extends uf{get inputs(){return Hg(this.componentDef.inputs)}get outputs(){return Hg(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function oy(n){return n.map(Dg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Eu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const _=d?new _y(r,d):r,S=_.get(hg,null);if(null===S)throw new Se(407,!1);const R=_.get(Uu,null),$=S.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",le=a?function Rf(n,r,s){return n.selectRootElement(r,s===Le.ShadowDom)}($,a,this.componentDef.encapsulation):Ru($,K,function Yf(n){const r=n.toLowerCase();return"svg"===r?js:"math"===r?"math":null}(K)),Oe=this.componentDef.onPush?288:272,Qe=rd(0,null,null,1,0,null,null,null,null,null),vt=hc(null,Qe,null,Oe,null,null,S,$,R,_,null);let zt,sn;No(vt);try{const vn=this.componentDef;let Un,Ot=null;vn.findHostDirectiveDefs?(Un=[],Ot=new Map,vn.findHostDirectiveDefs(vn,Un,Ot),Un.push(vn)):Un=[vn];const tr=function Wg(n,r){const s=n[Ht],a=On;return n[a]=r,hu(s,a,2,"#host",null)}(vt,le),ts=function Ey(n,r,s,a,c,d,_,S){const R=c[Ht];!function Qf(n,r,s,a){for(const c of n)r.mergedAttrs=gt(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(ih(r,r.mergedAttrs,!0),null!==s&&za(a,s,r))}(a,n,r,_);const $=d.createRenderer(r,s),K=hc(c,Lg(s),null,s.onPush?32:16,c[n.index],n,d,$,S||null,null,null);return R.firstCreatePass&&od(R,n,a.length-1),nh(c,K),c[n.index]=K}(tr,le,vn,Un,vt,S,$);sn=Sr(Qe,On),le&&function Xf(n,r,s,a){if(a)Tt(n,s,["ng-version",pg.full]);else{const{attrs:c,classes:d}=function bg(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let d=n[a];if("string"==typeof d)2===c?""!==d&&r.push(d,n[++a]):8===c&&s.push(d);else{if(!Wa(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Tt(n,s,c),d&&d.length>0&&Uc(n,s,d.join(" "))}}($,vn,le,a),void 0!==s&&function Iy(n,r,s){const a=n.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(sn,this.ngContentSelectors,s),zt=function wy(n,r,s,a,c,d){const _=ur(),S=c[Ht],R=Rr(_,c);Ug(S,c,_,s,null,a);for(let K=0;K<s.length;K++)Hi(qn(c,S,_.directiveStart+K,_),c);Bg(S,c,_),R&&Hi(R,c);const $=qn(c,S,_.directiveStart+_.componentOffset,_);if(n[et]=c[et]=$,null!==d)for(const K of d)K($,r);return th(S,_,n),$}(ts,vn,Un,Ot,vt,[Jf]),td(Qe,vt,null)}finally{$r()}return new zg(this.componentType,zt,Ga(sn,vt),vt,sn)}}class zg extends dg{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new Zf(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const d=this._rootLView;qf(d[Ht],d,c,r,s),Nf(d,this._tNode.index)}}get injector(){return new fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Jf(){const n=ur();jt(wt()[Ht],n)}function cd(n){let r=function Kg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(Pi(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Se(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const _=n;_.inputs=ld(n.inputs),_.declaredInputs=ld(n.declaredInputs),_.outputs=ld(n.outputs);const S=c.hostBindings;S&&tp(n,S);const R=c.viewQuery,$=c.contentQueries;if(R&&al(n,R),$&&qg(n,$),ee(n.inputs,c.inputs),ee(n.declaredInputs,c.declaredInputs),ee(n.outputs,c.outputs),Pi(c)&&c.data.animation){const K=n.data;K.animation=(K.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let _=0;_<d.length;_++){const S=d[_];S&&S.ngInherit&&S(n),S===cd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function ep(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=gt(c.hostAttrs,s=gt(s,c.hostAttrs))}}(a)}function ld(n){return n===Nt?{}:n===fe?[]:n}function al(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function qg(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function tp(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function ul(n){return!!sp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function sp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ka(n,r,s){return n[r]=s}function co(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function ap(n,r,s,a){const c=wt();return co(c,qi(),r)&&(Mn(),jo(dt(),c,n,r,s,a)),ap}function hd(n,r,s,a,c,d,_,S){const R=wt(),$=Mn(),K=n+On,le=$.firstCreatePass?function dp(n,r,s,a,c,d,_,S,R){const $=r.consts,K=hu(r,n,4,_||null,Ni($,S));sd(r,s,K,Ni($,R)),jt(r,K);const le=K.tView=rd(2,K,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,$);return null!==r.queries&&(r.queries.template(r,K),le.queries=r.queries.embeddedTView(K)),K}(K,$,R,r,s,a,c,d,_):$.data[K];mi(le,!1);const Oe=R[Vt].createComment("");Pl($,R,Oe,le),Hi(Oe,R),nh(R,R[K]=jg(Oe,R,Oe,le)),Tr(le)&&Mf($,R,le),null!=_&&nd(R,le,S)}function fp(n){return us(function eo(){return bn.lFrame.contextLView}(),On+n)}function fl(n,r,s){const a=wt();return co(a,qi(),r)&&ma(Mn(),dt(),a,n,r,a[Vt],s,!1),fl}function fd(n,r,s,a,c){const _=c?"class":"style";qf(n,s,r.inputs[_],_,a)}function pd(n,r,s,a){const c=wt(),d=Mn(),_=On+n,S=c[Vt],R=d.firstCreatePass?function pp(n,r,s,a,c,d){const _=r.consts,R=hu(r,n,2,a,Ni(_,c));return sd(r,s,R,Ni(_,d)),null!==R.attrs&&ih(R,R.attrs,!1),null!==R.mergedAttrs&&ih(R,R.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,R),R}(_,d,c,r,s,a):d.data[_],$=c[_]=Ru(S,r,function cn(){return bn.lFrame.currentNamespace}()),K=Tr(R);return mi(R,!0),za(S,$,R),32!=(32&R.flags)&&Pl(d,c,$,R),0===function ia(){return bn.lFrame.elementDepthCount}()&&Hi($,c),function Xs(){bn.lFrame.elementDepthCount++}(),K&&(Mf(d,c,R),th(d,R,c)),null!==a&&nd(c,R),pd}function bu(){let n=ur();sa()?Js():(n=n.parent,mi(n,!1));const r=n;!function Go(){bn.lFrame.elementDepthCount--}();const s=Mn();return s.firstCreatePass&&(jt(s,n),zo(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function pe(n){return 0!=(8&n.flags)}(r)&&fd(s,r,wt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ne(n){return 0!=(16&n.flags)}(r)&&fd(s,r,wt(),r.stylesWithoutHost,!1),bu}function gd(n,r,s,a){return pd(n,r,s,a),bu(),gd}function hh(n,r,s){const a=wt(),c=Mn(),d=n+On,_=c.firstCreatePass?function Sy(n,r,s,a,c){const d=r.consts,_=Ni(d,a),S=hu(r,n,8,"ng-container",_);return null!==_&&ih(S,_,!0),sd(r,s,S,Ni(d,c)),null!==r.queries&&r.queries.elementStart(r,S),S}(d,c,a,r,s):c.data[d];mi(_,!0);const S=a[d]=a[Vt].createComment("");return Pl(c,a,S,_),Hi(S,a),Tr(_)&&(Mf(c,a,_),th(c,_,a)),null!=s&&nd(a,_),hh}function fh(){let n=ur();const r=Mn();return sa()?Js():(n=n.parent,mi(n,!1)),r.firstCreatePass&&(jt(r,n),zo(n)&&r.queries.elementEnd(n)),fh}function em(){return wt()}function ph(n){return!!n&&"function"==typeof n.then}function tm(n){return!!n&&"function"==typeof n.subscribe}const nm=tm;function mp(n,r,s,a){const c=wt(),d=Mn(),_=ur();return rm(d,c,c[Vt],_,n,r,a),mp}function gh(n,r){const s=ur(),a=wt(),c=Mn();return rm(c,a,Wf(ba(c.data),s,a),s,n,r),gh}function rm(n,r,s,a,c,d,_){const S=Tr(a),$=n.firstCreatePass&&Gf(n),K=r[et],le=zf(r);let Oe=!0;if(3&a.type||_){const zt=Rr(a,r),sn=_?_(zt):zt,vn=le.length,Un=_?tr=>_(Ur(tr[a.index])):a.index;let Ot=null;if(!_&&S&&(Ot=function yp(n,r,s,a){const c=n.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const _=c[d];if(_===s&&c[d+1]===a){const S=r[ze],R=c[d+2];return S.length>R?S[R]:null}"string"==typeof _&&(d+=2)}return null}(n,r,c,a.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=d,Ot.__ngLastListenerFn__=d,Oe=!1;else{d=_p(a,r,K,d,!1);const tr=s.listen(sn,c,d);le.push(d,tr),$&&$.push(c,Un,vn,vn+1)}}else d=_p(a,r,K,d,!1);const Qe=a.outputs;let vt;if(Oe&&null!==Qe&&(vt=Qe[c])){const zt=vt.length;if(zt)for(let sn=0;sn<zt;sn+=2){const ts=r[vt[sn]][vt[sn+1]].subscribe(d),ks=le.length;le.push(d,ts),$&&$.push(c,a.index,ks,-(ks+1))}}}function vp(n,r,s,a){try{return Qn(6,r,s),!1!==s(a)}catch(c){return Kf(n,c),!1}finally{Qn(7,r,s)}}function _p(n,r,s,a,c){return function d(_){if(_===Function)return a;ud(n.componentOffset>-1?gi(n.index,r):r);let R=vp(r,s,a,_),$=d.__ngNextListenerFn__;for(;$;)R=vp(r,s,$,_)&&R,$=$.__ngNextListenerFn__;return c&&!1===R&&(_.preventDefault(),_.returnValue=!1),R}}function md(n=1){return function Rs(n){return(bn.lFrame.contextLView=function no(n,r){for(;n>0;)r=r[Di],n--;return r}(n,bn.lFrame.contextLView))[et]}(n)}function Cr(n,r){let s=null;const a=function gf(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===a?Wd(n,d,!0):mf(a,d))return c}else s=c}return s}function Ep(n){const r=wt()[dr][Te];if(!r.projection){const a=r.projection=E(n?n.length:1,null),c=a.slice();let d=r.child;for(;null!==d;){const _=n?Cr(d,n):0;null!==_&&(c[_]?c[_].projectionNext=d:a[_]=d,c[_]=d),d=d.next}}}function wp(n,r=0,s){const a=wt(),c=Mn(),d=hu(c,On+n,16,null,s||null);null===d.projection&&(d.projection=r),Js(),32!=(32&d.flags)&&function jp(n,r,s){Hp(r[Vt],0,r,s,Lh(n,s,r),xl(s.parent||r[Te],s,r))}(c,a,d)}function mh(n,r){return n<<17|r<<2}function pu(n){return n>>17&32767}function vi(n){return 2|n}function gl(n){return(131068&n)>>2}function Tp(n,r){return-131069&n|r<<2}function yh(n){return 1|n}function Ry(n,r,s,a,c){const d=n[s+1],_=null===r;let S=a?pu(d):gl(d),R=!1;for(;0!==S&&(!1===R||_);){const K=n[S+1];Yv(n[S],r)&&(R=!0,n[S+1]=a?yh(K):vi(K)),S=a?pu(K):gl(K)}R&&(n[s+1]=a?vi(d):yh(d))}function Yv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&xe(n,r)>=0}const qs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xy(n){return n.substring(qs.key,qs.keyEnd)}function Sp(n,r){const s=qs.textEnd;return s===r?-1:(r=qs.keyEnd=function Jv(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,qs.key=r,s),Za(n,r,s))}function Za(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function _h(n,r,s){return Ma(n,r,s,!1),_h}function ml(n,r){return Ma(n,r,null,!0),ml}function Eh(n){!function ya(n,r,s,a){const c=Mn(),d=ls(2);c.firstUpdatePass&&lm(c,null,d,a);const _=wt();if(s!==Zn&&co(_,d,s)){const S=c.data[Kr()];if(Ih(S,a)&&!cm(c,d)){let R=a?S.classesWithoutHost:S.stylesWithoutHost;null!==R&&(s=q(R,s||"")),fd(c,S,_,s,a)}else!function vd(n,r,s,a,c,d,_,S){c===Zn&&(c=fe);let R=0,$=0,K=0<c.length?c[0]:null,le=0<d.length?d[0]:null;for(;null!==K||null!==le;){const Oe=R<c.length?c[R+1]:void 0,Qe=$<d.length?d[$+1]:void 0;let zt,vt=null;K===le?(R+=2,$+=2,Oe!==Qe&&(vt=le,zt=Qe)):null===le||null!==K&&K<le?(R+=2,vt=K):($+=2,vt=le,zt=Qe),null!==vt&&gm(n,r,s,a,vt,zt,_,S),K=R<c.length?c[R]:null,le=$<d.length?d[$]:null}}(c,S,_,_[Vt],_[d+1],_[d+1]=function pm(n,r,s){if(null==s||""===s)return fe;const a=[],c=lu(s);if(Array.isArray(c))for(let d=0;d<c.length;d++)n(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&n(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(n,r,s),a,d)}}(z,ta,n,!0)}function ta(n,r){for(let s=function Xv(n){return function Wu(n){qs.key=0,qs.keyEnd=0,qs.value=0,qs.valueEnd=0,qs.textEnd=n.length}(n),Sp(n,Za(n,0,qs.textEnd))}(r);s>=0;s=Sp(r,s))z(n,xy(r),!0)}function Ma(n,r,s,a){const c=wt(),d=Mn(),_=ls(2);d.firstUpdatePass&&lm(d,n,_,a),r!==Zn&&co(c,_,r)&&gm(d,d.data[Kr()],c,c[Vt],n,c[_+1]=function mm(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=L(lu(n)))),n}(r,s),a,_)}function cm(n,r){return r>=n.expandoStartIndex}function lm(n,r,s,a){const c=n.data;if(null===c[s+1]){const d=c[Kr()],_=cm(n,s);Ih(d,a)&&null===r&&!_&&(r=!1),r=function Ny(n,r,s,a){const c=ba(n);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=vl(s=Tu(null,n,r,s,a),r.attrs,a),d=null);else{const _=r.directiveStylingLast;if(-1===_||n[_]!==c)if(s=Tu(c,n,r,s,a),null===d){let R=function dm(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==gl(a))return n[pu(a)]}(n,r,a);void 0!==R&&Array.isArray(R)&&(R=Tu(null,n,r,R[1],a),R=vl(R,r.attrs,a),function hm(n,r,s,a){n[pu(s?r.classBindings:r.styleBindings)]=a}(n,r,a,R))}else d=function fm(n,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=vl(a,n[d].hostAttrs,s);return vl(a,r.attrs,s)}(n,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function sm(n,r,s,a,c,d){let _=d?r.classBindings:r.styleBindings,S=pu(_),R=gl(_);n[a]=s;let K,$=!1;if(Array.isArray(s)?(K=s[1],(null===K||xe(s,K)>0)&&($=!0)):K=s,c)if(0!==R){const Oe=pu(n[S+1]);n[a+1]=mh(Oe,S),0!==Oe&&(n[Oe+1]=Tp(n[Oe+1],a)),n[S+1]=function qv(n,r){return 131071&n|r<<17}(n[S+1],a)}else n[a+1]=mh(S,0),0!==S&&(n[S+1]=Tp(n[S+1],a)),S=a;else n[a+1]=mh(R,0),0===S?S=a:n[R+1]=Tp(n[R+1],a),R=a;$&&(n[a+1]=vi(n[a+1])),Ry(n,K,a,!0),Ry(n,K,a,!1),function Zv(n,r,s,a,c){const d=c?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&xe(d,r)>=0&&(s[a+1]=yh(s[a+1]))}(r,K,n,a,d),_=mh(S,R),d?r.classBindings=_:r.styleBindings=_}(c,d,r,s,_,a)}}function Tu(n,r,s,a,c){let d=null;const _=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<_&&(d=r[S],a=vl(a,d.hostAttrs,c),d!==n);)S++;return null!==n&&(s.directiveStylingLast=S),a}function vl(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const _=r[d];"number"==typeof _?c=_:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),z(n,_,!!s||r[++d]))}return void 0===n?null:n}function gm(n,r,s,a,c,d,_,S){if(!(3&r.type))return;const R=n.data,$=R[S+1],K=function Is(n){return 1==(1&n)}($)?_d(R,r,s,c,gl($),_):void 0;_c(K)||(_c(d)||function My(n){return 2==(2&n)}($)&&(d=_d(R,null,s,c,S,_)),function Hh(n,r,s,a,c){if(r)c?n.addClass(s,a):n.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Xo.DashCase;null==c?n.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Xo.Important),n.setStyle(s,a,c,d))}}(a,_,Mr(Kr(),s),c,d))}function _d(n,r,s,a,c,d){const _=null===r;let S;for(;c>0;){const R=n[c],$=Array.isArray(R),K=$?R[1]:R,le=null===K;let Oe=s[c+1];Oe===Zn&&(Oe=le?fe:void 0);let Qe=le?Q(Oe,a):K===a?Oe:void 0;if($&&!_c(Qe)&&(Qe=Q(R,a)),_c(Qe)&&(S=Qe,_))return S;const vt=n[c+1];c=_?pu(vt):gl(vt)}if(null!==r){let R=d?r.residualClasses:r.residualStyles;null!=R&&(S=Q(R,a))}return S}function _c(n){return void 0!==n}function Ih(n,r){return 0!=(n.flags&(r?8:16))}function ym(n,r=""){const s=wt(),a=Mn(),c=n+On,d=a.firstCreatePass?hu(a,c,1,r,null):a.data[c],_=s[c]=function ec(n,r){return n.createText(r)}(s[Vt],r);Pl(a,s,_,d),mi(d,!1)}function _l(n){return Ed("",n,""),_l}function Ed(n,r,s){const a=wt(),c=function Hu(n,r,s,a){return co(n,qi(),s)?r+Ce(s)+a:Zn}(a,n,r,s);return c!==Zn&&function Iu(n,r,s){const a=Mr(r,n);!function kc(n,r,s){n.setValue(r,s)}(n[Vt],a,s)}(a,Kr(),c),Ed}function qu(n,r,s){const a=wt();if(co(a,qi(),r)){const d=Mn(),_=dt();ma(d,_,a,n,r,Wf(ba(d.data),_,a),s,!0)}return qu}const Ic=void 0;var zy=["en",[["a","p"],["AM","PM"],Ic],[["AM","PM"],Ic,Ic],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ic,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ic,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ic,"{1} 'at' {0}",Ic],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function o_(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let va={};function Cm(n){const r=function c_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Wy(r);if(s)return s;const a=r.split("-")[0];if(s=Wy(a),s)return s;if("en"===a)return zy;throw new Se(701,!1)}function Gy(n){return Cm(n)[Nn.PluralCase]}function Wy(n){return n in va||(va[n]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[n]),va[n]}var Nn=(()=>((Nn=Nn||{})[Nn.LocaleId=0]="LocaleId",Nn[Nn.DayPeriodsFormat=1]="DayPeriodsFormat",Nn[Nn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nn[Nn.DaysFormat=3]="DaysFormat",Nn[Nn.DaysStandalone=4]="DaysStandalone",Nn[Nn.MonthsFormat=5]="MonthsFormat",Nn[Nn.MonthsStandalone=6]="MonthsStandalone",Nn[Nn.Eras=7]="Eras",Nn[Nn.FirstDayOfWeek=8]="FirstDayOfWeek",Nn[Nn.WeekendRange=9]="WeekendRange",Nn[Nn.DateFormat=10]="DateFormat",Nn[Nn.TimeFormat=11]="TimeFormat",Nn[Nn.DateTimeFormat=12]="DateTimeFormat",Nn[Nn.NumberSymbols=13]="NumberSymbols",Nn[Nn.NumberFormats=14]="NumberFormats",Nn[Nn.CurrencyCode=15]="CurrencyCode",Nn[Nn.CurrencySymbol=16]="CurrencySymbol",Nn[Nn.CurrencyName=17]="CurrencyName",Nn[Nn.Currencies=18]="Currencies",Nn[Nn.Directionality=19]="Directionality",Nn[Nn.PluralCase=20]="PluralCase",Nn[Nn.ExtraData=21]="ExtraData",Nn))();const Id="en-US";let Am=Id;function nv(n,r,s,a,c){if(n=re(n),Array.isArray(n))for(let d=0;d<n.length;d++)nv(n[d],r,s,a,c);else{const d=Mn(),_=wt();let S=sc(n)?n:re(n.provide),R=jl(n);const $=ur(),K=1048575&$.providerIndexes,le=$.directiveStart,Oe=$.providerIndexes>>20;if(sc(n)||!n.multi){const Qe=new g(R,c,el),vt=iv(S,r,c?K:K+Oe,le);-1===vt?(Gt(vs($,_),d,S),rv(d,n,r.length),r.push(S),$.directiveStart++,$.directiveEnd++,c&&($.providerIndexes+=1048576),s.push(Qe),_.push(Qe)):(s[vt]=Qe,_[vt]=Qe)}else{const Qe=iv(S,r,K+Oe,le),vt=iv(S,r,K,K+Oe),sn=vt>=0&&s[vt];if(c&&!sn||!c&&!(Qe>=0&&s[Qe])){Gt(vs($,_),d,S);const vn=function kE(n,r,s,a,c){const d=new g(n,s,el);return d.multi=[],d.index=r,d.componentProviders=0,T_(d,c,a&&!s),d}(c?NE:OE,s.length,c,a,R);!c&&sn&&(s[vt].providerFactory=vn),rv(d,n,r.length,0),r.push(S),$.directiveStart++,$.directiveEnd++,c&&($.providerIndexes+=1048576),s.push(vn),_.push(vn)}else rv(d,n,Qe>-1?Qe:vt,T_(s[c?vt:Qe],R,!c&&a));!c&&a&&sn&&s[vt].componentProviders++}}}function rv(n,r,s,a){const c=sc(r),d=function cg(n){return!!n.useClass}(r);if(c||d){const R=(d?re(r.useClass):r).prototype.ngOnDestroy;if(R){const $=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const K=$.indexOf(s);-1===K?$.push(s,[a,R]):$[K+1].push(a,R)}else $.push(s,R)}}}function T_(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function iv(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function OE(n,r,s,a){return sv(this.multi,[])}function NE(n,r,s,a){const c=this.multi;let d;if(this.providerFactory){const _=this.providerFactory.componentProviders,S=qn(s,s[Ht],this.providerFactory.index,a);d=S.slice(0,_),sv(c,d);for(let R=_;R<S.length;R++)d.push(S[R])}else d=[],sv(c,d);return d}function sv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function S_(n,r=[]){return s=>{s.providersResolver=(a,c)=>function PE(n,r,s){const a=Mn();if(a.firstCreatePass){const c=Pi(n);nv(s,a.data,a.blueprint,c,!0),nv(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class Mh{}class C_{}function LE(n,r){return new A_(n,r??null)}class A_ extends Mh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oh(this);const a=Br(r);this._bootstrapComponents=wu(a.bootstrap),this._r3Injector=Ef(r,s,[{provide:Mh,useValue:this},{provide:Zc,useValue:this.componentFactoryResolver}],L(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class ov extends C_{constructor(r){super(),this.moduleType=r}create(r){return new A_(this.moduleType,r)}}class FE extends Mh{constructor(r,s,a){super(),this.componentFactoryResolver=new oh(this),this.instance=null;const c=new sf([...r,{provide:Mh,useValue:this},{provide:Zc,useValue:this.componentFactoryResolver}],s||Wc(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function av(n,r,s=null){return new FE(n,r,s).injector}let UE=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=ug(0,s.type),c=a.length>0?av([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Dt({token:n,providedIn:"environment",factory:()=>new n(ct(Eu))}),n})();function M_(n){n.getStandaloneInjector=r=>r.get(UE).getOrCreateStandaloneInjector(n)}function L_(n,r,s){const a=hr()+n,c=wt();return c[a]===Zn?Ka(c,a,s?r.call(s):r()):function mc(n,r){return n[r]}(c,a)}function F_(n,r,s,a){return B_(wt(),hr(),n,r,s,a)}function U_(n,r,s,a,c){return function V_(n,r,s,a,c,d,_){const S=r+s;return function yc(n,r,s,a){const c=co(n,r,s);return co(n,r+1,a)||c}(n,S,c,d)?Ka(n,S+2,_?a.call(_,c,d):a(c,d)):Pp(n,S+2)}(wt(),hr(),n,r,s,a,c)}function Pp(n,r){const s=n[r];return s===Zn?void 0:s}function B_(n,r,s,a,c,d){const _=r+s;return co(n,_,c)?Ka(n,_+1,d?a.call(d,c):a(c)):Pp(n,_+1)}function z_(n,r){const s=Mn();let a;const c=n+On;s.firstCreatePass?(a=function ew(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=bi(a.type)),_=cr(el);try{const S=ki(!1),R=d();return ki(S),function hp(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,wt(),c,R),R}finally{cr(_)}}function G_(n,r,s){const a=n+On,c=wt(),d=us(c,a);return function Op(n,r){return n[Ht].data[r].pure}(c,a)?B_(c,hr(),r,d.transform,s,d):d.transform(s)}function cv(n){return r=>{setTimeout(n,void 0,r)}}const Zu=class sw extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),_=a;if(r&&"object"==typeof r){const R=r;c=R.next?.bind(R),d=R.error?.bind(R),_=R.complete?.bind(R)}this.__isAsync&&(d=cv(d),c&&(c=cv(c)),_&&(_=cv(_)));const S=super.subscribe({next:c,error:d,complete:_});return r instanceof V.w0&&r.add(S),S}};function ow(){return this._results[Symbol.iterator]()}class lv{get changes(){return this._changes||(this._changes=new Zu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=lv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ow)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function ci(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Fo(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Np=(()=>{class n{}return n.__NG_ELEMENT_ID__=cw,n})();const aw=Np,uw=class extends aw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tView,c=hc(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[Ui]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[Ar];return null!==_&&(c[Ar]=_.createEmbeddedView(a)),td(a,c,r),new pc(c)}};function cw(){return Rm(ur(),wt())}function Rm(n,r){return 4&n.type?new uw(r,n,Ga(n,r)):null}let xm=(()=>{class n{}return n.__NG_ELEMENT_ID__=lw,n})();function lw(){return q_(ur(),wt())}const dw=xm,W_=class extends dw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Ga(this._hostTNode,this._hostLView)}get injector(){return new fs(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ta(this._hostTNode,this._hostLView);if(Xt(r)){const s=At(r,this._hostLView),a=Xn(r);return new fs(s[Ht].data[a+8],s)}return new fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=K_(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-si}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const _=r.createEmbeddedView(s||{},d);return this.insert(_,c),_}createComponent(r,s,a,c,d){const _=r&&!function _s(n){return"function"==typeof n}(r);let S;if(_)S=s;else{const le=s||{};S=le.index,a=le.injector,c=le.projectableNodes,d=le.environmentInjector||le.ngModuleRef}const R=_?r:new gc(Hn(r)),$=a||this.parentInjector;if(!d&&null==R.ngModule){const Oe=(_?$:this.parentInjector).get(Eu,null);Oe&&(d=Oe)}const K=R.create($,c,void 0,d);return this.insert(K.hostView,S),K}insert(r,s){const a=r._lView,c=a[Ht];if(function So(n){return oi(n[Kn])}(a)){const K=this.indexOf(r);if(-1!==K)this.detach(K);else{const le=a[Kn],Oe=new W_(le,le[Te],le[Kn]);Oe.detach(Oe.indexOf(r))}}const d=this._adjustIndex(s),_=this._lContainer;!function Lc(n,r,s,a){const c=si+a,d=s.length;a>0&&(s[c-1][ei]=r),a<d-si?(r[ei]=s[c],Uo(s,si+a,r)):(s.push(r),r[ei]=null),r[Kn]=s;const _=r[Ui];null!==_&&s!==_&&function ou(n,r){const s=n[Bi];r[dr]!==r[Kn][Kn][dr]&&(n[po]=!0),null===s?n[Bi]=[r]:s.push(r)}(_,r);const S=r[Ar];null!==S&&S.insertView(n),r[gn]|=64}(c,a,_,d);const S=Vh(d,_),R=a[Vt],$=xu(R,_[br]);return null!==$&&function Li(n,r,s,a,c,d){a[lr]=c,a[Te]=r,uu(n,a,s,1,c,d)}(c,_[Te],R,a,$,S),r.attachToViewContainerRef(),Uo(dv(_),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=K_(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Eo(this._lContainer,s);a&&(Bo(dv(this._lContainer),s),kh(a[Ht],a))}detach(r){const s=this._adjustIndex(r,-1),a=Eo(this._lContainer,s);return a&&null!=Bo(dv(this._lContainer),s)?new pc(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function K_(n){return n[ii]}function dv(n){return n[ii]||(n[ii]=[])}function q_(n,r){let s;const a=r[n.index];if(oi(a))s=a;else{let c;if(8&n.type)c=Ur(a);else{const d=r[Vt];c=d.createComment("");const _=Rr(n,r);nc(d,xu(d,_),c,function Rl(n,r){return n.nextSibling(r)}(d,_),!1)}r[n.index]=s=jg(a,r,c,n),nh(r,s)}return new W_(s,n,r)}class hv{constructor(r){this.queryList=r,this.matches=null}clone(){return new hv(this.queryList)}setDirty(){this.queryList.setDirty()}}class fv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const _=s.getByIndex(d);c.push(this.queries[_.indexInDeclarationView].clone())}return new fv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==r0(r,s).matches&&this.queries[s].setDirty()}}class Z_{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class pv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new pv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class gv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new gv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,hw(s,d)),this.matchTNodeWithReadOption(r,s,Ei(s,r,d,!1,!1))}else a===Np?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ei(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Yc||c===xm||c===Np&&4&s.type)this.addMatch(s.index,-2);else{const d=Ei(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function hw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function pw(n,r,s,a){return-1===s?function fw(n,r){return 11&n.type?Ga(n,r):4&n.type?Rm(n,r):null}(r,n):-2===s?function gw(n,r,s){return s===Yc?Ga(r,n):s===Np?Rm(r,n):s===xm?q_(r,n):void 0}(n,r,a):qn(n,n[Ht],s,r)}function Y_(n,r,s,a){const c=r[Ar].queries[a];if(null===c.matches){const d=n.data,_=s.matches,S=[];for(let R=0;R<_.length;R+=2){const $=_[R];S.push($<0?null:pw(r,d[$],_[R+1],s.metadata.read))}c.matches=S}return c.matches}function mv(n,r,s,a){const c=n.queries.getByIndex(s),d=c.matches;if(null!==d){const _=Y_(n,r,c,s);for(let S=0;S<d.length;S+=2){const R=d[S];if(R>0)a.push(_[S/2]);else{const $=d[S+1],K=r[-R];for(let le=si;le<K.length;le++){const Oe=K[le];Oe[Ui]===Oe[Kn]&&mv(Oe[Ht],Oe,$,a)}if(null!==K[Bi]){const le=K[Bi];for(let Oe=0;Oe<le.length;Oe++){const Qe=le[Oe];mv(Qe[Ht],Qe,$,a)}}}}}return a}function Q_(n){const r=wt(),s=Mn(),a=Oo();Ms(a+1);const c=r0(s,a);if(n.dirty&&function Qs(n){return 4==(4&n[gn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const d=c.crossesNgTemplate?mv(s,r,a,[]):Y_(s,r,c,a);n.reset(d,ac),n.notifyOnChanges()}return!0}return!1}function X_(n,r,s){const a=Mn();a.firstCreatePass&&(n0(a,new Z_(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),t0(a,wt(),r)}function J_(n,r,s,a){const c=Mn();if(c.firstCreatePass){const d=ur();n0(c,new Z_(r,s,a),d.index),function yw(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}t0(c,wt(),s)}function e0(){return function mw(n,r){return n[Ar].queries[r].queryList}(wt(),Oo())}function t0(n,r,s){const a=new lv(4==(4&s));id(n,r,a,a.destroy),null===r[Ar]&&(r[Ar]=new fv),r[Ar].queries.push(new hv(a))}function n0(n,r,s){null===n.queries&&(n.queries=new pv),n.queries.track(new gv(r,s))}function r0(n,r){return n.queries.getByIndex(r)}function s0(n,r){return Rm(n,r)}function yv(n){return!!Br(n)}function Om(...n){}const D0=new kr("Application Initializer");let Nm=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Om,this.reject=Om,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(ph(d))s.push(d);else if(nm(d)){const _=new Promise((S,R)=>{d.subscribe({complete:S,error:R})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(ct(D0,8))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b0=new kr("AppId",{providedIn:"root",factory:function T0(){return`${Iv()}${Iv()}${Iv()}`}});function Iv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const S0=new kr("Platform Initializer"),Fw=new kr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Uw=new kr("AnimationModuleType");let Bw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const km=new kr("LocaleId",{providedIn:"root",factory:()=>De(km,Qt.Optional|Qt.SkipSelf)||function Vw(){return typeof $localize<"u"&&$localize.locale||Id}()}),$w=new kr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Hw=(()=>{class n{compileModuleSync(s){return new ov(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=wu(Br(s).declarations).reduce((_,S)=>{const R=Hn(S);return R&&_.push(new gc(R)),_},[]);return new jw(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ww=(()=>Promise.resolve(0))();function Dv(n){typeof Zone>"u"?Ww.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class mu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zu(!1),this.onMicrotaskEmpty=new Zu(!1),this.onStable=new Zu(!1),this.onError=new Zu(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Kw(){let n=an.requestAnimationFrame,r=an.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Yw(n){const r=()=>{!function Zw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(an,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Tv(n),n.isCheckStableRunning=!0,bv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Tv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,_,S)=>{try{return M0(n),s.invokeTask(c,d,_,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),R0(n)}},onInvoke:(s,a,c,d,_,S,R)=>{try{return M0(n),s.invoke(c,d,_,S,R)}finally{n.shouldCoalesceRunChangeDetection&&r(),R0(n)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,Tv(n),bv(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mu.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(mu.isInAngularZone())throw new Se(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,_=d.scheduleEventTask("NgZoneEvent: "+c,r,qw,Om,Om);try{return d.runTask(_,s,a)}finally{d.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const qw={};function bv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Tv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function M0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function R0(n){n._nesting--,bv(n)}class Qw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zu,this.onMicrotaskEmpty=new Zu,this.onStable=new Zu,this.onError=new Zu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const x0=new kr(""),P0=new kr("");let Sv,Xw=(()=>{class n{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sv||(function Jw(n){Sv=n}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mu.assertNotInAngularZone(),Dv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(ct(mu),ct(O0),ct(P0))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})(),O0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Sv?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Dc=!1;let Il=null;const Cv=new kr("PlatformDestroyListeners"),k0=new kr("appBootstrapListener");class nI{constructor(r,s){this.name=r,this.token=s}}function sI(n){const{rootComponent:r,appProviders:s,platformProviders:a}=n;Dc&&void 0!==r&&function vg(n){if(function ry(n){if(!Hn(n))throw new Se(906,`The ${Ze(n)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(n),!Hn(n).standalone)throw new Se(907,`The ${Ze(n)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${Ze(n)} component has the \`standalone: true\` flag in the decorator.`)}(r);const c=function iI(n=[]){if(Il)return Il;const r=function F0(n=[],r){return dc.create({name:r,providers:[{provide:nf,useValue:"platform"},{provide:Cv,useValue:new Set([()=>Il=null])},...n]})}(n);return Il=r,function L0(n){const r=n.get(S0,null);r&&r.forEach(s=>s())}(r),r}(a),d=function V0(n,r){let s;return s="noop"===n?new Qw:("zone.js"===n?void 0:n)||new mu(r),s}("zone.js",function B0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return d.run(()=>{const S=av([{provide:mu,useValue:d},...s||[]],c,"Environment Injector"),R=S.get(zl,null);if(Dc&&!R)throw new Se(402,"No `ErrorHandler` found in the Dependency Injection tree.");let $;d.runOutsideAngular(()=>{$=d.onError.subscribe({next:Oe=>{R.handleError(Oe)}})});const K=()=>S.destroy(),le=c.get(Cv);return le.add(K),S.onDestroy(()=>{$.unsubscribe(),le.delete(K)}),function $0(n,r,s){try{const a=s();return ph(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(R,d,()=>{const Oe=S.get(Nm);return Oe.runInitializers(),Oe.donePromise.then(()=>{!function bd(n){Bt(n,"Expected localeId to be defined"),"string"==typeof n&&(Am=n.toLowerCase().replace(/_/g,"-"))}(S.get(km,Id)||Id);const vt=S.get(Lm);return void 0!==r&&vt.bootstrap(r),vt})})})}let Lm=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new X.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),_=new X.y(S=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{mu.assertNotInAngularZone(),Dv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{mu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{R.unsubscribe(),$.unsubscribe()}});this.isStable=(0,se.T)(d,_.pipe((0,ae.B)()))}bootstrap(s,a){Dc&&this.warnIfDestroyed();const c=s instanceof uf;if(!this._injector.get(Nm).done){const Qe="Cannot bootstrap as there are still asynchronous initializers running."+(!c&&hi(s)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new Se(405,Dc&&Qe)}let _;_=c?s:this._injector.get(Zc).resolveComponentFactory(s),this.componentTypes.push(_.componentType);const S=function tI(n){return n.isBoundToModule}(_)?void 0:this._injector.get(Mh),$=_.create(dc.NULL,[],a||_.selector,S),K=$.location.nativeElement,le=$.injector.get(x0,null);return le?.registerApplication(K),$.onDestroy(()=>{this.detachView($.hostView),Fm(this.components,$),le?.unregisterApplication(K)}),this._loadComponent($),$}tick(){if(Dc&&this.warnIfDestroyed(),this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){Dc&&this.warnIfDestroyed();const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){Dc&&this.warnIfDestroyed();const a=s;Fm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(k0,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return Dc&&this.warnIfDestroyed(),this._destroyListeners.push(s),()=>Fm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Se(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){Dc&&this._destroyed&&console.warn(He(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return n.\u0275fac=function(s){return new(s||n)(ct(mu),ct(Eu),ct(zl))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fm(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}function uI(){return!1}let cI=(()=>{class n{}return n.__NG_ELEMENT_ID__=lI,n})();function lI(n){return function dI(n,r,s){if(pi(n)&&!s){const a=gi(n.index,r);return new pc(a,a)}return 47&n.type?new pc(r[dr],r):null}(ur(),wt(),16==(16&n))}class K0{constructor(){}supports(r){return ul(r)}create(r){return new yI(r)}}const mI=(n,r)=>r;class yI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||mI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const _=!a||s&&s.currentIndex<Z0(a,c,d)?s:a,S=Z0(_,c,d),R=_.currentIndex;if(_===a)c--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)c++;else{d||(d=[]);const $=S-c,K=R-c;if($!=K){for(let Oe=0;Oe<$;Oe++){const Qe=Oe<d.length?d[Oe]:d[Oe]=0,vt=Qe+Oe;K<=vt&&vt<$&&(d[Oe]=Qe+1)}d[_.previousIndex]=K-$}}S!==R&&r(_,S,R)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!ul(r))throw new Se(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let S=0;S<this.length;S++)d=r[S],_=this._trackByFn(S,d),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,d,_,S)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,_,S),a=!0),s=s._next}else c=0,function ip(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,S=>{_=this._trackByFn(c,S),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,S,_,c)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,_,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new vI(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new q0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new q0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class vI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _I{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class q0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new _I,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Z0(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class Y0{constructor(){}supports(r){return r instanceof Map||sp(r)}create(){return new EI}}class EI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||sp(r)))throw new Se(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,_=c._next;return d&&(d._next=_),_&&(_._prev=d),c._next=null,c._prev=null,c}const a=new wI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class wI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Q0(){return new Ov([new K0])}let Ov=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Q0()),deps:[[n,new k,new Ca]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Se(901,!1)}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:Q0}),n})();function X0(){return new Nv([new Y0])}let Nv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||X0()),deps:[[n,new k,new Ca]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Se(901,!1)}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:X0}),n})(),bI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ct(Lm))},n.\u0275mod=Ri({type:n}),n.\u0275inj=Vn({}),n})();function TI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(xt,Re,O)=>{O.d(Re,{Cg:()=>Vn,Dx:()=>an,H7:()=>Ee,b2:()=>yr,se:()=>kt});var y=O(6895),V=O(4650);class X extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class se extends X{static makeCurrent(){(0,y.HT)(new se)}onAndCancel(ve,te,be){return ve.addEventListener(te,be,!1),()=>{ve.removeEventListener(te,be,!1)}}dispatchEvent(ve,te){ve.dispatchEvent(te)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,te){return(te=te||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,te){return"window"===te?window:"document"===te?ve:"body"===te?ve.body:null}getBaseHref(ve){const te=function ce(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==te?null:function L(fe){ee=ee||document.createElement("a"),ee.setAttribute("href",fe);const ve=ee.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(te)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,y.Mx)(document.cookie,ve)}}let ee,ae=null;const q=new V.OlP("TRANSITION_ID"),Y=[{provide:V.ip1,useFactory:function j(fe,ve,te){return()=>{te.get(V.CZH).donePromise.then(()=>{const be=(0,y.q)(),st=ve.querySelectorAll(`style[ng-transition="${fe}"]`);for(let yt=0;yt<st.length;yt++)be.remove(st[yt])})}},deps:[q,y.K0,V.zs3],multi:!0}];let _e=(()=>{class fe{build(){return new XMLHttpRequest}}return fe.\u0275fac=function(te){return new(te||fe)},fe.\u0275prov=V.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const je=new V.OlP("EventManagerPlugins");let ye=(()=>{class fe{constructor(te,be){this._zone=be,this._eventNameToPlugin=new Map,te.forEach(st=>{st.manager=this}),this._plugins=te.slice().reverse()}addEventListener(te,be,st){return this._findPluginFor(be).addEventListener(te,be,st)}addGlobalEventListener(te,be,st){return this._findPluginFor(be).addGlobalEventListener(te,be,st)}getZone(){return this._zone}_findPluginFor(te){const be=this._eventNameToPlugin.get(te);if(be)return be;const st=this._plugins;for(let yt=0;yt<st.length;yt++){const Rt=st[yt];if(Rt.supports(te))return this._eventNameToPlugin.set(te,Rt),Rt}throw new Error(`No event manager plugin found for event ${te}`)}}return fe.\u0275fac=function(te){return new(te||fe)(V.LFG(je),V.LFG(V.R0b))},fe.\u0275prov=V.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class ot{constructor(ve){this._doc=ve}addGlobalEventListener(ve,te,be){const st=(0,y.q)().getGlobalEventTarget(this._doc,ve);if(!st)throw new Error(`Unsupported event target ${st} for event ${te}`);return this.addEventListener(st,te,be)}}let Se=(()=>{class fe{constructor(){this.usageCount=new Map}addStyles(te){for(const be of te)1===this.changeUsageCount(be,1)&&this.onStyleAdded(be)}removeStyles(te){for(const be of te)0===this.changeUsageCount(be,-1)&&this.onStyleRemoved(be)}onStyleRemoved(te){}onStyleAdded(te){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(te,be){const st=this.usageCount;let yt=st.get(te)??0;return yt+=be,yt>0?st.set(te,yt):st.delete(te),yt}ngOnDestroy(){for(const te of this.getAllStyles())this.onStyleRemoved(te);this.usageCount.clear()}}return fe.\u0275fac=function(te){return new(te||fe)},fe.\u0275prov=V.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),He=(()=>{class fe extends Se{constructor(te){super(),this.doc=te,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(te){for(const be of this.hostNodes)this.addStyleToHost(be,te)}onStyleRemoved(te){const be=this.styleRef;be.get(te)?.forEach(yt=>yt.remove()),be.delete(te)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(te){this.hostNodes.add(te);for(const be of this.getAllStyles())this.addStyleToHost(te,be)}removeHost(te){this.hostNodes.delete(te)}addStyleToHost(te,be){const st=this.doc.createElement("style");st.textContent=be,te.appendChild(st);const yt=this.styleRef.get(be);yt?yt.push(st):this.styleRef.set(be,[st])}resetHostNodes(){const te=this.hostNodes;te.clear(),te.add(this.doc.head)}}return fe.\u0275fac=function(te){return new(te||fe)(V.LFG(y.K0))},fe.\u0275prov=V.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const Ce={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ze=/%COMP%/g,Me=new V.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Pt(fe,ve){return ve.flat(100).map(te=>te.replace(Ze,fe))}function on(fe){return ve=>{if("__ngUnwrap__"===ve)return fe;!1===fe(ve)&&(ve.preventDefault(),ve.returnValue=!1)}}let kt=(()=>{class fe{constructor(te,be,st,yt){this.eventManager=te,this.sharedStylesHost=be,this.appId=st,this.removeStylesOnCompDestory=yt,this.rendererByCompId=new Map,this.defaultRenderer=new Ve(te)}createRenderer(te,be){if(!te||!be)return this.defaultRenderer;const st=this.getOrCreateRenderer(te,be);return st instanceof Bt?st.applyToHost(te):st instanceof _t&&st.applyStyles(),st}getOrCreateRenderer(te,be){const st=this.rendererByCompId;let yt=st.get(be.id);if(!yt){const Rt=this.eventManager,In=this.sharedStylesHost,An=this.removeStylesOnCompDestory;switch(be.encapsulation){case V.ifc.Emulated:yt=new Bt(Rt,In,be,this.appId,An);break;case V.ifc.ShadowDom:return new bt(Rt,In,te,be);default:yt=new _t(Rt,In,be,An)}yt.onDestroy=()=>st.delete(be.id),st.set(be.id,yt)}return yt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return fe.\u0275fac=function(te){return new(te||fe)(V.LFG(ye),V.LFG(He),V.LFG(V.AFp),V.LFG(Me))},fe.\u0275prov=V.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class Ve{constructor(ve){this.eventManager=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,te){return te?document.createElementNS(Ce[te]||te,ve):document.createElement(ve)}createComment(ve){return document.createComment(ve)}createText(ve){return document.createTextNode(ve)}appendChild(ve,te){(mt(ve)?ve.content:ve).appendChild(te)}insertBefore(ve,te,be){ve&&(mt(ve)?ve.content:ve).insertBefore(te,be)}removeChild(ve,te){ve&&ve.removeChild(te)}selectRootElement(ve,te){let be="string"==typeof ve?document.querySelector(ve):ve;if(!be)throw new Error(`The selector "${ve}" did not match any elements`);return te||(be.textContent=""),be}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,te,be,st){if(st){te=st+":"+te;const yt=Ce[st];yt?ve.setAttributeNS(yt,te,be):ve.setAttribute(te,be)}else ve.setAttribute(te,be)}removeAttribute(ve,te,be){if(be){const st=Ce[be];st?ve.removeAttributeNS(st,te):ve.removeAttribute(`${be}:${te}`)}else ve.removeAttribute(te)}addClass(ve,te){ve.classList.add(te)}removeClass(ve,te){ve.classList.remove(te)}setStyle(ve,te,be,st){st&(V.JOm.DashCase|V.JOm.Important)?ve.style.setProperty(te,be,st&V.JOm.Important?"important":""):ve.style[te]=be}removeStyle(ve,te,be){be&V.JOm.DashCase?ve.style.removeProperty(te):ve.style[te]=""}setProperty(ve,te,be){ve[te]=be}setValue(ve,te){ve.nodeValue=te}listen(ve,te,be){return"string"==typeof ve?this.eventManager.addGlobalEventListener(ve,te,on(be)):this.eventManager.addEventListener(ve,te,on(be))}}function mt(fe){return"TEMPLATE"===fe.tagName&&void 0!==fe.content}class bt extends Ve{constructor(ve,te,be,st){super(ve),this.sharedStylesHost=te,this.hostEl=be,this.shadowRoot=be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const yt=Pt(st.id,st.styles);for(const Rt of yt){const In=document.createElement("style");In.textContent=Rt,this.shadowRoot.appendChild(In)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}appendChild(ve,te){return super.appendChild(this.nodeOrShadowRoot(ve),te)}insertBefore(ve,te,be){return super.insertBefore(this.nodeOrShadowRoot(ve),te,be)}removeChild(ve,te){return super.removeChild(this.nodeOrShadowRoot(ve),te)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _t extends Ve{constructor(ve,te,be,st,yt=be.id){super(ve),this.sharedStylesHost=te,this.removeStylesOnCompDestory=st,this.rendererUsageCount=0,this.styles=Pt(yt,be.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Bt extends _t{constructor(ve,te,be,st,yt){const Rt=st+"-"+be.id;super(ve,te,be,yt,Rt),this.contentAttr=function Ke(fe){return"_ngcontent-%COMP%".replace(Ze,fe)}(Rt),this.hostAttr=function Ft(fe){return"_nghost-%COMP%".replace(Ze,fe)}(Rt)}applyToHost(ve){this.applyStyles(),this.setAttribute(ve,this.hostAttr,"")}createElement(ve,te){const be=super.createElement(ve,te);return super.setAttribute(be,this.contentAttr,""),be}}let Lt=(()=>{class fe extends ot{constructor(te){super(te)}supports(te){return!0}addEventListener(te,be,st){return te.addEventListener(be,st,!1),()=>this.removeEventListener(te,be,st)}removeEventListener(te,be,st){return te.removeEventListener(be,st)}}return fe.\u0275fac=function(te){return new(te||fe)(V.LFG(y.K0))},fe.\u0275prov=V.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const Rn=["alt","control","meta","shift"],ln={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},un={alt:fe=>fe.altKey,control:fe=>fe.ctrlKey,meta:fe=>fe.metaKey,shift:fe=>fe.shiftKey};let Dt=(()=>{class fe extends ot{constructor(te){super(te)}supports(te){return null!=fe.parseEventName(te)}addEventListener(te,be,st){const yt=fe.parseEventName(be),Rt=fe.eventCallback(yt.fullKey,st,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(te,yt.domEventName,Rt))}static parseEventName(te){const be=te.toLowerCase().split("."),st=be.shift();if(0===be.length||"keydown"!==st&&"keyup"!==st)return null;const yt=fe._normalizeKey(be.pop());let Rt="",In=be.indexOf("code");if(In>-1&&(be.splice(In,1),Rt="code."),Rn.forEach(Ir=>{const Ii=be.indexOf(Ir);Ii>-1&&(be.splice(Ii,1),Rt+=Ir+".")}),Rt+=yt,0!=be.length||0===yt.length)return null;const An={};return An.domEventName=st,An.fullKey=Rt,An}static matchEventFullKeyCode(te,be){let st=ln[te.key]||te.key,yt="";return be.indexOf("code.")>-1&&(st=te.code,yt="code."),!(null==st||!st)&&(st=st.toLowerCase()," "===st?st="space":"."===st&&(st="dot"),Rn.forEach(Rt=>{Rt!==st&&(0,un[Rt])(te)&&(yt+=Rt+".")}),yt+=st,yt===be)}static eventCallback(te,be,st){return yt=>{fe.matchEventFullKeyCode(yt,te)&&st.runGuarded(()=>be(yt))}}static _normalizeKey(te){return"esc"===te?"escape":te}}return fe.\u0275fac=function(te){return new(te||fe)(V.LFG(y.K0))},fe.\u0275prov=V.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function Vn(fe,ve){return(0,V.iPO)({rootComponent:fe,...Kt(ve)})}function Kt(fe){return{appProviders:[...Qt,...fe?.providers??[]],platformProviders:wr}}const wr=[{provide:V.Lbi,useValue:y.bD},{provide:V.g9A,useValue:function fr(){se.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function mr(){return(0,V.RDi)(document),document},deps:[]}],Bn=new V.OlP(""),Cn=[{provide:V.rWj,useClass:class re{addToWindow(ve){V.dqk.getAngularTestability=(be,st=!0)=>{const yt=ve.findTestabilityInTree(be,st);if(null==yt)throw new Error("Could not find testability for element.");return yt},V.dqk.getAllAngularTestabilities=()=>ve.getAllTestabilities(),V.dqk.getAllAngularRootElements=()=>ve.getAllRootElements(),V.dqk.frameworkStabilizers||(V.dqk.frameworkStabilizers=[]),V.dqk.frameworkStabilizers.push(be=>{const st=V.dqk.getAllAngularTestabilities();let yt=st.length,Rt=!1;const In=function(An){Rt=Rt||An,yt--,0==yt&&be(Rt)};st.forEach(function(An){An.whenStable(In)})})}findTestabilityInTree(ve,te,be){return null==te?null:ve.getTestability(te)??(be?(0,y.q)().isShadowRoot(te)?this.findTestabilityInTree(ve,te.host,!0):this.findTestabilityInTree(ve,te.parentElement,!0):null)}},deps:[]},{provide:V.lri,useClass:V.dDg,deps:[V.R0b,V.eoX,V.rWj]},{provide:V.dDg,useClass:V.dDg,deps:[V.R0b,V.eoX,V.rWj]}],Qt=[{provide:V.zSh,useValue:"root"},{provide:V.qLn,useFactory:function rr(){return new V.qLn},deps:[]},{provide:je,useClass:Lt,multi:!0,deps:[y.K0,V.R0b,V.Lbi]},{provide:je,useClass:Dt,multi:!0,deps:[y.K0]},{provide:kt,useClass:kt,deps:[ye,He,V.AFp,Me]},{provide:V.FYo,useExisting:kt},{provide:Se,useExisting:He},{provide:He,useClass:He,deps:[y.K0]},{provide:ye,useClass:ye,deps:[je,V.R0b]},{provide:y.JF,useClass:_e,deps:[]},[]];let yr=(()=>{class fe{constructor(te){}static withServerTransition(te){return{ngModule:fe,providers:[{provide:V.AFp,useValue:te.appId},{provide:q,useExisting:V.AFp},Y]}}}return fe.\u0275fac=function(te){return new(te||fe)(V.LFG(Bn,12))},fe.\u0275mod=V.oAB({type:fe}),fe.\u0275inj=V.cJS({providers:[...Qt,...Cn],imports:[y.ez,V.hGG]}),fe})(),an=(()=>{class fe{constructor(te){this._doc=te}getTitle(){return this._doc.title}setTitle(te){this._doc.title=te||""}}return fe.\u0275fac=function(te){return new(te||fe)(V.LFG(y.K0))},fe.\u0275prov=V.Yz7({token:fe,factory:function(te){let be=null;return be=te?new te:function Gr(){return new an((0,V.LFG)(y.K0))}(),be},providedIn:"root"}),fe})();typeof window<"u"&&window;let Ee=(()=>{class fe{}return fe.\u0275fac=function(te){return new(te||fe)},fe.\u0275prov=V.Yz7({token:fe,factory:function(te){let be=null;return be=te?new(te||fe):V.LFG(Le),be},providedIn:"root"}),fe})(),Le=(()=>{class fe extends Ee{constructor(te){super(),this._doc=te}sanitize(te,be){if(null==be)return null;switch(te){case V.q3G.NONE:return be;case V.q3G.HTML:return(0,V.qzn)(be,"HTML")?(0,V.z3N)(be):(0,V.EiD)(this._doc,String(be)).toString();case V.q3G.STYLE:return(0,V.qzn)(be,"Style")?(0,V.z3N)(be):be;case V.q3G.SCRIPT:if((0,V.qzn)(be,"Script"))return(0,V.z3N)(be);throw new Error("unsafe value used in a script context");case V.q3G.URL:return(0,V.qzn)(be,"URL")?(0,V.z3N)(be):(0,V.mCW)(String(be));case V.q3G.RESOURCE_URL:if((0,V.qzn)(be,"ResourceURL"))return(0,V.z3N)(be);throw new Error(`unsafe value used in a resource URL context (see ${V.JZr})`);default:throw new Error(`Unexpected SecurityContext ${te} (see ${V.JZr})`)}}bypassSecurityTrustHtml(te){return(0,V.JVY)(te)}bypassSecurityTrustStyle(te){return(0,V.L6k)(te)}bypassSecurityTrustScript(te){return(0,V.eBb)(te)}bypassSecurityTrustUrl(te){return(0,V.LAX)(te)}bypassSecurityTrustResourceUrl(te){return(0,V.pB0)(te)}}return fe.\u0275fac=function(te){return new(te||fe)(V.LFG(y.K0))},fe.\u0275prov=V.Yz7({token:fe,factory:function(te){let be=null;return be=te?new te:function Ge(fe){return new Le(fe.get(y.K0))}(V.LFG(V.zs3)),be},providedIn:"root"}),fe})()},8176:(xt,Re,O)=>{O.d(Re,{F0:()=>Gt,Bz:()=>Lo,lC:()=>ms,bU:()=>ko});var y=O(4650),V=O(8996),X=O(9646),se=O(1135);const ce=(0,O(3888).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"});var ee=O(9841),L=O(7272),q=O(9770),j=O(9635),Y=O(9751),re=O(576);function _e(E,I){const v=(0,re.m)(E)?E:()=>E,M=F=>F.error(v());return new Y.y(I?F=>I.schedule(M,0,F):M)}var je=O(515),ye=O(4033),ot=O(7579),Se=O(6895),He=O(4004),Ce=O(3900),Ze=O(5698),Pe=O(8675),de=O(9300),Ae=O(5577),it=O(4482),we=O(5403);function Me(E){return(0,it.e)((I,v)=>{let M=!1;I.subscribe((0,we.x)(v,F=>{M=!0,v.next(F)},()=>{M||v.next(E),v.complete()}))})}function Ke(E=Ft){return(0,it.e)((I,v)=>{let M=!1;I.subscribe((0,we.x)(v,F=>{M=!0,v.next(F)},()=>M?v.complete():v.error(E())))})}function Ft(){return new ce}var Pt=O(4671);function on(E,I){const v=arguments.length>=2;return M=>M.pipe(E?(0,de.h)((F,z)=>E(F,z,M)):Pt.y,(0,Ze.q)(1),v?Me(I):Ke(()=>new ce))}var kt=O(4351),Ve=O(8505),Ye=O(262);function mt(E,I){return(0,it.e)(function ut(E,I,v,M,F){return(z,Q)=>{let xe=v,pt=I,qt=0;z.subscribe((0,we.x)(Q,Zt=>{const Fn=qt++;pt=xe?E(pt,Zt,Fn):(xe=!0,Zt),M&&Q.next(pt)},F&&(()=>{xe&&Q.next(pt),Q.complete()})))}}(E,I,arguments.length>=2,!0))}function bt(E){return E<=0?()=>je.E:(0,it.e)((I,v)=>{let M=[];I.subscribe((0,we.x)(v,F=>{M.push(F),E<M.length&&M.shift()},()=>{for(const F of M)v.next(F);v.complete()},void 0,()=>{M=null}))})}function _t(E,I){const v=arguments.length>=2;return M=>M.pipe(E?(0,de.h)((F,z)=>E(F,z,M)):Pt.y,bt(1),v?Me(I):Ke(()=>new ce))}var Bt=O(2529),Lt=O(9718),Rn=O(8746),ln=O(8343),un=O(8189),Dt=O(1481);const $t="primary",Vn=Symbol("RouteTitle");class Ln{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const v=this.params[I];return Array.isArray(v)?v[0]:v}return null}getAll(I){if(this.has(I)){const v=this.params[I];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function Kt(E){return new Ln(E)}function ar(E,I,v){const M=v.path.split("/");if(M.length>E.length||"full"===v.pathMatch&&(I.hasChildren()||M.length<E.length))return null;const F={};for(let z=0;z<M.length;z++){const Q=M[z],xe=E[z];if(Q.startsWith(":"))F[Q.substring(1)]=xe;else if(Q!==xe.path)return null}return{consumed:E.slice(0,M.length),posParams:F}}function rr(E,I){const v=E?Object.keys(E):void 0,M=I?Object.keys(I):void 0;if(!v||!M||v.length!=M.length)return!1;let F;for(let z=0;z<v.length;z++)if(F=v[z],!mr(E[F],I[F]))return!1;return!0}function mr(E,I){if(Array.isArray(E)&&Array.isArray(I)){if(E.length!==I.length)return!1;const v=[...E].sort(),M=[...I].sort();return v.every((F,z)=>M[z]===F)}return E===I}function wr(E){return Array.prototype.concat.apply([],E)}function Or(E){return E.length>0?E[E.length-1]:null}function Cn(E,I){for(const v in E)E.hasOwnProperty(v)&&I(E[v],v)}function Qt(E){return(0,y.CqO)(E)?E:(0,y.QGY)(E)?(0,V.D)(Promise.resolve(E)):(0,X.of)(E)}const yr=!1,vr={exact:function an(E,I,v){if(!tt(E.segments,I.segments)||!jn(E.segments,I.segments,v)||E.numberOfChildren!==I.numberOfChildren)return!1;for(const M in I.children)if(!E.children[M]||!an(E.children[M],I.children[M],v))return!1;return!0},subset:Ut},cr={exact:function Gr(E,I){return rr(E,I)},subset:function Yt(E,I){return Object.keys(I).length<=Object.keys(E).length&&Object.keys(I).every(v=>mr(E[v],I[v]))},ignored:()=>!0};function ir(E,I,v){return vr[v.paths](E.root,I.root,v.matrixParams)&&cr[v.queryParams](E.queryParams,I.queryParams)&&!("exact"===v.fragment&&E.fragment!==I.fragment)}function Ut(E,I,v){return $n(E,I,I.segments,v)}function $n(E,I,v,M){if(E.segments.length>v.length){const F=E.segments.slice(0,v.length);return!(!tt(F,v)||I.hasChildren()||!jn(F,v,M))}if(E.segments.length===v.length){if(!tt(E.segments,v)||!jn(E.segments,v,M))return!1;for(const F in I.children)if(!E.children[F]||!Ut(E.children[F],I.children[F],M))return!1;return!0}{const F=v.slice(0,E.segments.length),z=v.slice(E.segments.length);return!!(tt(E.segments,F)&&jn(E.segments,F,M)&&E.children[$t])&&$n(E.children[$t],I,z,M)}}function jn(E,I,v){return I.every((M,F)=>cr[v](E[F].parameters,M.parameters))}class Wn{constructor(I=new nn([],{}),v={},M=null){this.root=I,this.queryParams=v,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kt(this.queryParams)),this._queryParamMap}toString(){return Dn.serialize(this)}}class nn{constructor(I,v){this.segments=I,this.children=v,this.parent=null,Cn(v,(M,F)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ct(this)}}class Yn{constructor(I,v){this.path=I,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=Kt(this.parameters)),this._parameterMap}toString(){return oe(this)}}function tt(E,I){return E.length===I.length&&E.every((v,M)=>v.path===I[M].path)}let ht=(()=>{class E{}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=y.Yz7({token:E,factory:function(){return new hn},providedIn:"root"}),E})();class hn{parse(I){const v=new st(I);return new Wn(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(I){const v=`/${nt(I.root,!0)}`,M=function Ge(E){const I=Object.keys(E).map(v=>{const M=E[v];return Array.isArray(M)?M.map(F=>`${ie(v)}=${ie(F)}`).join("&"):`${ie(v)}=${ie(M)}`}).filter(v=>!!v);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${v}${M}${"string"==typeof I.fragment?`#${function me(E){return encodeURI(E)}(I.fragment)}`:""}`}}const Dn=new hn;function ct(E){return E.segments.map(I=>oe(I)).join("/")}function nt(E,I){if(!E.hasChildren())return ct(E);if(I){const v=E.children[$t]?nt(E.children[$t],!1):"",M=[];return Cn(E.children,(F,z)=>{z!==$t&&M.push(`${z}:${nt(F,!1)}`)}),M.length>0?`${v}(${M.join("//")})`:v}{const v=function Et(E,I){let v=[];return Cn(E.children,(M,F)=>{F===$t&&(v=v.concat(I(M,F)))}),Cn(E.children,(M,F)=>{F!==$t&&(v=v.concat(I(M,F)))}),v}(E,(M,F)=>F===$t?[nt(E.children[$t],!1)]:[`${F}:${nt(M,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[$t]?`${ct(E)}/${v[0]}`:`${ct(E)}/(${v.join("//")})`}}function De(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ie(E){return De(E).replace(/%3B/gi,";")}function at(E){return De(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lt(E){return decodeURIComponent(E)}function ue(E){return lt(E.replace(/\+/g,"%20"))}function oe(E){return`${at(E.path)}${function Ee(E){return Object.keys(E).map(I=>`;${at(I)}=${at(E[I])}`).join("")}(E.parameters)}`}const Le=/^[^\/()?;=#]+/;function Nt(E){const I=E.match(Le);return I?I[0]:""}const fe=/^[^=?&#]+/,te=/^[^&#]+/;class st{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(I.length>0||Object.keys(v).length>0)&&(M[$t]=new nn(I,v)),M}parseSegment(){const I=Nt(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new y.vHH(4009,yr);return this.capture(I),new Yn(lt(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const v=Nt(this.remaining);if(!v)return;this.capture(v);let M="";if(this.consumeOptional("=")){const F=Nt(this.remaining);F&&(M=F,this.capture(M))}I[lt(v)]=lt(M)}parseQueryParam(I){const v=function ve(E){const I=E.match(fe);return I?I[0]:""}(this.remaining);if(!v)return;this.capture(v);let M="";if(this.consumeOptional("=")){const Q=function be(E){const I=E.match(te);return I?I[0]:""}(this.remaining);Q&&(M=Q,this.capture(M))}const F=ue(v),z=ue(M);if(I.hasOwnProperty(F)){let Q=I[F];Array.isArray(Q)||(Q=[Q],I[F]=Q),Q.push(z)}else I[F]=z}parseParens(I){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Nt(this.remaining),F=this.remaining[M.length];if("/"!==F&&")"!==F&&";"!==F)throw new y.vHH(4010,yr);let z;M.indexOf(":")>-1?(z=M.slice(0,M.indexOf(":")),this.capture(z),this.capture(":")):I&&(z=$t);const Q=this.parseChildren();v[z]=1===Object.keys(Q).length?Q[$t]:new nn([],Q),this.consumeOptional("//")}return v}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new y.vHH(4011,yr)}}function yt(E){return E.segments.length>0?new nn([],{[$t]:E}):E}function Rt(E){const I={};for(const M of Object.keys(E.children)){const z=Rt(E.children[M]);(z.segments.length>0||z.hasChildren())&&(I[M]=z)}return function In(E){if(1===E.numberOfChildren&&E.children[$t]){const I=E.children[$t];return new nn(E.segments.concat(I.segments),I.children)}return E}(new nn(E.segments,I))}function An(E){return E instanceof Wn}const Ir=!1;function _r(E,I,v,M,F){if(0===v.length)return ri(I.root,I.root,I.root,M,F);const z=function Dr(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Nr(!0,0,E);let I=0,v=!1;const M=E.reduce((F,z,Q)=>{if("object"==typeof z&&null!=z){if(z.outlets){const xe={};return Cn(z.outlets,(pt,qt)=>{xe[qt]="string"==typeof pt?pt.split("/"):pt}),[...F,{outlets:xe}]}if(z.segmentPath)return[...F,z.segmentPath]}return"string"!=typeof z?[...F,z]:0===Q?(z.split("/").forEach((xe,pt)=>{0==pt&&"."===xe||(0==pt&&""===xe?v=!0:".."===xe?I++:""!=xe&&F.push(xe))}),F):[...F,z]},[]);return new Nr(v,I,M)}(v);return z.toRoot()?ri(I.root,I.root,new nn([],{}),M,F):function Q(pt){const qt=function Vr(E,I,v,M){if(E.isAbsolute)return new hi(I.root,!0,0);if(-1===M)return new hi(v,v===I.root,0);return function zi(E,I,v){let M=E,F=I,z=v;for(;z>F;){if(z-=F,M=M.parent,!M)throw new y.vHH(4005,Ir&&"Invalid number of '../'");F=M.segments.length}return new hi(M,!1,F-z)}(v,M+(Fi(E.commands[0])?0:1),E.numberOfDoubleDots)}(z,I,E.snapshot?._urlSegment,pt),Zt=qt.processChildren?Ht(qt.segmentGroup,qt.index,z.commands):lr(qt.segmentGroup,qt.index,z.commands);return ri(I.root,qt.segmentGroup,Zt,M,F)}(E.snapshot?._lastPathIndex)}function Fi(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function ho(E){return"object"==typeof E&&null!=E&&E.outlets}function ri(E,I,v,M,F){let Q,z={};M&&Cn(M,(pt,qt)=>{z[qt]=Array.isArray(pt)?pt.map(Zt=>`${Zt}`):`${pt}`}),Q=E===I?v:Hn(E,I,v);const xe=yt(Rt(Q));return new Wn(xe,z,F)}function Hn(E,I,v){const M={};return Cn(E.children,(F,z)=>{M[z]=F===I?v:Hn(F,I,v)}),new nn(E.segments,M)}class Nr{constructor(I,v,M){if(this.isAbsolute=I,this.numberOfDoubleDots=v,this.commands=M,I&&M.length>0&&Fi(M[0]))throw new y.vHH(4003,Ir&&"Root segment cannot have matrix parameters");const F=M.find(ho);if(F&&F!==Or(M))throw new y.vHH(4004,Ir&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hi{constructor(I,v,M){this.segmentGroup=I,this.processChildren=v,this.index=M}}function lr(E,I,v){if(E||(E=new nn([],{})),0===E.segments.length&&E.hasChildren())return Ht(E,I,v);const M=function gn(E,I,v){let M=0,F=I;const z={match:!1,pathIndex:0,commandIndex:0};for(;F<E.segments.length;){if(M>=v.length)return z;const Q=E.segments[F],xe=v[M];if(ho(xe))break;const pt=`${xe}`,qt=M<v.length-1?v[M+1]:null;if(F>0&&void 0===pt)break;if(pt&&qt&&"object"==typeof qt&&void 0===qt.outlets){if(!Te(pt,qt,Q))return z;M+=2}else{if(!Te(pt,{},Q))return z;M++}F++}return{match:!0,pathIndex:F,commandIndex:M}}(E,I,v),F=v.slice(M.commandIndex);if(M.match&&M.pathIndex<E.segments.length){const z=new nn(E.segments.slice(0,M.pathIndex),{});return z.children[$t]=new nn(E.segments.slice(M.pathIndex),E.children),Ht(z,0,F)}return M.match&&0===F.length?new nn(E.segments,{}):M.match&&!E.hasChildren()?Kn(E,I,v):M.match?Ht(E,0,F):Kn(E,I,v)}function Ht(E,I,v){if(0===v.length)return new nn(E.segments,{});{const M=function xi(E){return ho(E[0])?E[0].outlets:{[$t]:E}}(v),F={};return!M[$t]&&E.children[$t]&&1===E.numberOfChildren&&0===E.children[$t].segments.length?Ht(E.children[$t],I,v):(Cn(M,(z,Q)=>{"string"==typeof z&&(z=[z]),null!==z&&(F[Q]=lr(E.children[Q],I,z))}),Cn(E.children,(z,Q)=>{void 0===M[Q]&&(F[Q]=z)}),new nn(E.segments,F))}}function Kn(E,I,v){const M=E.segments.slice(0,I);let F=0;for(;F<v.length;){const z=v[F];if(ho(z)){const pt=ei(z.outlets);return new nn(M,pt)}if(0===F&&Fi(v[0])){M.push(new Yn(E.segments[I].path,Fe(v[0]))),F++;continue}const Q=ho(z)?z.outlets[$t]:`${z}`,xe=F<v.length-1?v[F+1]:null;Q&&xe&&Fi(xe)?(M.push(new Yn(Q,Fe(xe))),F+=2):(M.push(new Yn(Q,{})),F++)}return new nn(M,{})}function ei(E){const I={};return Cn(E,(v,M)=>{"string"==typeof v&&(v=[v]),null!==v&&(I[M]=Kn(new nn([],{}),0,v))}),I}function Fe(E){const I={};return Cn(E,(v,M)=>I[M]=`${v}`),I}function Te(E,I,v){return E==v.path&&rr(I,v.parameters)}const ze="imperative";class et{constructor(I,v){this.id=I,this.url=v}}class Ct extends et{constructor(I,v,M="imperative",F=null){super(I,v),this.type=0,this.navigationTrigger=M,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jt extends et{constructor(I,v,M){super(I,v),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vt extends et{constructor(I,v,M,F){super(I,v),this.reason=M,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nr extends et{constructor(I,v,M,F){super(I,v),this.reason=M,this.code=F,this.type=16}}class _n extends et{constructor(I,v,M,F){super(I,v),this.error=M,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ti extends et{constructor(I,v,M,F){super(I,v),this.urlAfterRedirects=M,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends et{constructor(I,v,M,F){super(I,v),this.urlAfterRedirects=M,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dr extends et{constructor(I,v,M,F,z){super(I,v),this.urlAfterRedirects=M,this.state=F,this.shouldActivate=z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ui extends et{constructor(I,v,M,F){super(I,v),this.urlAfterRedirects=M,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs extends et{constructor(I,v,M,F){super(I,v),this.urlAfterRedirects=M,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gi{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ea{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class On{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ho{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class po{constructor(I,v,M){this.routerEvent=I,this.position=v,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Bi=(()=>{class E{createUrlTree(v,M,F,z,Q,xe){return _r(v||M.root,F,z,Q,xe)}}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac}),E})(),Qa=(()=>{class E{}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=y.Yz7({token:E,factory:function(I){return Bi.\u0275fac(I)},providedIn:"root"}),E})();class fi{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const v=this.pathFromRoot(I);return v.length>1?v[v.length-2]:null}children(I){const v=oi(I,this._root);return v?v.children.map(M=>M.value):[]}firstChild(I){const v=oi(I,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(I){const v=zo(I,this._root);return v.length<2?[]:v[v.length-2].children.map(F=>F.value).filter(F=>F!==I)}pathFromRoot(I){return zo(I,this._root).map(v=>v.value)}}function oi(E,I){if(E===I.value)return I;for(const v of I.children){const M=oi(E,v);if(M)return M}return null}function zo(E,I){if(E===I.value)return[I];for(const v of I.children){const M=zo(E,v);if(M.length)return M.unshift(I),M}return[]}class pi{constructor(I,v){this.value=I,this.children=v}toString(){return`TreeNode(${this.value})`}}function Tr(E){const I={};return E&&E.children.forEach(v=>I[v.value.outlet]=v),I}class Pi extends fi{constructor(I,v){super(I),this.snapshot=v,bo(this,I)}toString(){return this.snapshot.toString()}}function Ls(E,I){const v=function Fs(E,I){const Q=new bs([],{},{},"",{},$t,I,null,E.root,-1,{});return new Xa("",new pi(Q,[]))}(E,I),M=new se.X([new Yn("",{})]),F=new se.X({}),z=new se.X({}),Q=new se.X({}),xe=new se.X(""),pt=new Jn(M,F,Q,xe,z,$t,I,v.root);return pt.snapshot=v.root,new Pi(new pi(pt,[]),v)}class Jn{constructor(I,v,M,F,z,Q,xe,pt){this.url=I,this.params=v,this.queryParams=M,this.fragment=F,this.data=z,this.outlet=Q,this.component=xe,this.title=this.data?.pipe((0,He.U)(qt=>qt[Vn]))??(0,X.of)(void 0),this._futureSnapshot=pt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.U)(I=>Kt(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.U)(I=>Kt(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wi(E,I="emptyOnly"){const v=E.pathFromRoot;let M=0;if("always"!==I)for(M=v.length-1;M>=1;){const F=v[M],z=v[M-1];if(F.routeConfig&&""===F.routeConfig.path)M--;else{if(z.component)break;M--}}return function Do(E){return E.reduce((I,v)=>({params:{...I.params,...v.params},data:{...I.data,...v.data},resolve:{...v.data,...I.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(M))}class bs{get title(){return this.data?.[Vn]}constructor(I,v,M,F,z,Q,xe,pt,qt,Zt,Fn){this.url=I,this.params=v,this.queryParams=M,this.fragment=F,this.data=z,this.outlet=Q,this.component=xe,this.routeConfig=pt,this._urlSegment=qt,this._lastPathIndex=Zt,this._resolve=Fn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xa extends fi{constructor(I,v){super(v),this.url=I,bo(this,v)}toString(){return go(this._root)}}function bo(E,I){I.value._routerState=E,I.children.forEach(v=>bo(E,v))}function go(E){const I=E.children.length>0?` { ${E.children.map(go).join(", ")} } `:"";return`${E.value}${I}`}function na(E){if(E.snapshot){const I=E.snapshot,v=E._futureSnapshot;E.snapshot=v,rr(I.queryParams,v.queryParams)||E.queryParams.next(v.queryParams),I.fragment!==v.fragment&&E.fragment.next(v.fragment),rr(I.params,v.params)||E.params.next(v.params),function fr(E,I){if(E.length!==I.length)return!1;for(let v=0;v<E.length;++v)if(!rr(E[v],I[v]))return!1;return!0}(I.url,v.url)||E.url.next(v.url),rr(I.data,v.data)||E.data.next(v.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function is(E,I){const v=rr(E.params,I.params)&&function ke(E,I){return tt(E,I)&&E.every((v,M)=>rr(v.parameters,I[M].parameters))}(E.url,I.url);return v&&!(!E.parent!=!I.parent)&&(!E.parent||is(E.parent,I.parent))}function Us(E,I,v){if(v&&E.shouldReuseRoute(I.value,v.value.snapshot)){const M=v.value;M._futureSnapshot=I.value;const F=function ss(E,I,v){return I.children.map(M=>{for(const F of v.children)if(E.shouldReuseRoute(M.value,F.value.snapshot))return Us(E,M,F);return Us(E,M)})}(E,I,v);return new pi(M,F)}{if(E.shouldAttach(I.value)){const z=E.retrieve(I.value);if(null!==z){const Q=z.route;return Q.value._futureSnapshot=I.value,Q.children=I.children.map(xe=>Us(E,xe)),Q}}const M=function Vi(E){return new Jn(new se.X(E.url),new se.X(E.params),new se.X(E.queryParams),new se.X(E.fragment),new se.X(E.data),E.outlet,E.component,E)}(I.value),F=I.children.map(z=>Us(E,z));return new pi(M,F)}}const os="ngNavigationCancelingError";function To(E,I){const{redirectTo:v,navigationBehaviorOptions:M}=An(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,F=Oi(!1,0,I);return F.url=v,F.navigationBehaviorOptions=M,F}function Oi(E,I,v){const M=new Error("NavigationCancelingError: "+(E||""));return M[os]=!0,M.cancellationCode=I,v&&(M.url=v),M}function Zs(E){return Ra(E)&&An(E.url)}function Ra(E){return E&&E[os]}class xa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new bi,this.attachRef=null}}let bi=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(v,M){const F=this.getOrCreateContext(v);F.outlet=M,this.contexts.set(v,F)}onChildOutletDestroyed(v){const M=this.getContext(v);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let M=this.getContext(v);return M||(M=new xa,this.contexts.set(v,M)),M}getContext(v){return this.contexts.get(v)||null}}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Bs=!1;let ms=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(bi),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb)}ngOnChanges(v){if(v.name){const{firstChange:M,previousValue:F}=v.name;if(M)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,Bs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,Bs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,Bs);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,M){this.activated=v,this._activatedRoute=M,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,M){if(this.isActivated)throw new y.vHH(4013,Bs);this._activatedRoute=v;const F=this.location,Q=v.snapshot.component,xe=this.parentContexts.getOrCreateContext(this.name).children,pt=new Ts(v,xe,F.injector);if(M&&function Ss(E){return!!E.resolveComponentFactory}(M)){const qt=M.resolveComponentFactory(Q);this.activated=F.createComponent(qt,F.length,pt)}else this.activated=F.createComponent(Q,{index:F.length,injector:pt,environmentInjector:M??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(v){return new(v||E)},E.\u0275dir=y.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),E})();class Ts{constructor(I,v,M){this.route=I,this.childContexts=v,this.parent=M}get(I,v){return I===Jn?this.route:I===bi?this.childContexts:this.parent.get(I,v)}}let as=(()=>{class E{}return E.\u0275fac=function(v){return new(v||E)},E.\u0275cmp=y.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(v,M){1&v&&y._UZ(0,"router-outlet")},dependencies:[ms],encapsulation:2}),E})();function Vs(E,I){return E.providers&&!E._injector&&(E._injector=(0,y.MMx)(E.providers,I,`Route: ${E.path}`)),E._injector??I}function zs(E){const I=E.children&&E.children.map(zs),v=I?{...E,children:I}:{...E};return!v.component&&!v.loadComponent&&(I||v.loadChildren)&&v.outlet&&v.outlet!==$t&&(v.component=as),v}function Mr(E){return E.outlet||$t}function Rr(E,I){const v=E.filter(M=>Mr(M)===I);return v.push(...E.filter(M=>Mr(M)!==I)),v}function Ys(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let I=E.parent;I;I=I.parent){const v=I.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class us{constructor(I,v,M,F){this.routeReuseStrategy=I,this.futureState=v,this.currState=M,this.forwardEvent=F}activate(I){const v=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,M,I),na(this.futureState.root),this.activateChildRoutes(v,M,I)}deactivateChildRoutes(I,v,M){const F=Tr(v);I.children.forEach(z=>{const Q=z.value.outlet;this.deactivateRoutes(z,F[Q],M),delete F[Q]}),Cn(F,(z,Q)=>{this.deactivateRouteAndItsChildren(z,M)})}deactivateRoutes(I,v,M){const F=I.value,z=v?v.value:null;if(F===z)if(F.component){const Q=M.getContext(F.outlet);Q&&this.deactivateChildRoutes(I,v,Q.children)}else this.deactivateChildRoutes(I,v,M);else z&&this.deactivateRouteAndItsChildren(v,M)}deactivateRouteAndItsChildren(I,v){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,v):this.deactivateRouteAndOutlet(I,v)}detachAndStoreRouteSubtree(I,v){const M=v.getContext(I.value.outlet),F=M&&I.value.component?M.children:v,z=Tr(I);for(const Q of Object.keys(z))this.deactivateRouteAndItsChildren(z[Q],F);if(M&&M.outlet){const Q=M.outlet.detach(),xe=M.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Q,route:I,contexts:xe})}}deactivateRouteAndOutlet(I,v){const M=v.getContext(I.value.outlet),F=M&&I.value.component?M.children:v,z=Tr(I);for(const Q of Object.keys(z))this.deactivateRouteAndItsChildren(z[Q],F);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(I,v,M){const F=Tr(v);I.children.forEach(z=>{this.activateRoutes(z,F[z.value.outlet],M),this.forwardEvent(new fo(z.value.snapshot))}),I.children.length&&this.forwardEvent(new On(I.value.snapshot))}activateRoutes(I,v,M){const F=I.value,z=v?v.value:null;if(na(F),F===z)if(F.component){const Q=M.getOrCreateContext(F.outlet);this.activateChildRoutes(I,v,Q.children)}else this.activateChildRoutes(I,v,M);else if(F.component){const Q=M.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const xe=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),Q.children.onOutletReAttached(xe.contexts),Q.attachRef=xe.componentRef,Q.route=xe.route.value,Q.outlet&&Q.outlet.attach(xe.componentRef,xe.route.value),na(xe.route.value),this.activateChildRoutes(I,null,Q.children)}else{const xe=Ys(F.snapshot),pt=xe?.get(y._Vd)??null;Q.attachRef=null,Q.route=F,Q.resolver=pt,Q.injector=xe,Q.outlet&&Q.outlet.activateWith(F,Q.injector),this.activateChildRoutes(I,null,Q.children)}}else this.activateChildRoutes(I,null,M)}}class gi{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Qs{constructor(I,v){this.component=I,this.route=v}}function ra(E,I,v){const M=E._root;return Ki(M,I?I._root:null,v,[M.value])}function Ni(E,I){const v=Symbol(),M=I.get(E,v);return M===v?"function"!=typeof E||(0,y.Z0I)(E)?I.get(E):E:M}function Ki(E,I,v,M,F={canDeactivateChecks:[],canActivateChecks:[]}){const z=Tr(I);return E.children.forEach(Q=>{(function Co(E,I,v,M,F={canDeactivateChecks:[],canActivateChecks:[]}){const z=E.value,Q=I?I.value:null,xe=v?v.getContext(E.value.outlet):null;if(Q&&z.routeConfig===Q.routeConfig){const pt=function bn(E,I,v){if("function"==typeof v)return v(E,I);switch(v){case"pathParamsChange":return!tt(E.url,I.url);case"pathParamsOrQueryParamsChange":return!tt(E.url,I.url)||!rr(E.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!is(E,I)||!rr(E.queryParams,I.queryParams);default:return!is(E,I)}}(Q,z,z.routeConfig.runGuardsAndResolvers);pt?F.canActivateChecks.push(new gi(M)):(z.data=Q.data,z._resolvedData=Q._resolvedData),Ki(E,I,z.component?xe?xe.children:null:v,M,F),pt&&xe&&xe.outlet&&xe.outlet.isActivated&&F.canDeactivateChecks.push(new Qs(xe.outlet.component,Q))}else Q&&Ti(I,xe,F),F.canActivateChecks.push(new gi(M)),Ki(E,null,z.component?xe?xe.children:null:v,M,F)})(Q,z[Q.value.outlet],v,M.concat([Q.value]),F),delete z[Q.value.outlet]}),Cn(z,(Q,xe)=>Ti(Q,v.getContext(xe),F)),F}function Ti(E,I,v){const M=Tr(E),F=E.value;Cn(M,(z,Q)=>{Ti(z,F.component?I?I.children.getContext(Q):null:I,v)}),v.canDeactivateChecks.push(new Qs(F.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,F))}function As(E){return"function"==typeof E}function Mo(E){return E instanceof ce||"EmptyError"===E?.name}const cs=Symbol("INITIAL_VALUE");function ur(){return(0,Ce.w)(E=>(0,ee.a)(E.map(I=>I.pipe((0,Ze.q)(1),(0,Pe.O)(cs)))).pipe((0,He.U)(I=>{for(const v of I)if(!0!==v){if(v===cs)return cs;if(!1===v||v instanceof Wn)return v}return!0}),(0,de.h)(I=>I!==cs),(0,Ze.q)(1)))}function Si(E){return(0,j.z)((0,Ve.b)(I=>{if(An(I))throw To(0,I)}),(0,He.U)(I=>!0===I))}const qi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ls(E,I,v,M,F){const z=ys(E,I,v);return z.matched?function yi(E,I,v,M){const F=I.canMatch;if(!F||0===F.length)return(0,X.of)(!0);const z=F.map(Q=>{const xe=Ni(Q,E);return Qt(function xr(E){return E&&As(E.canMatch)}(xe)?xe.canMatch(I,v):E.runInContext(()=>xe(I,v)))});return(0,X.of)(z).pipe(ur(),Si())}(M=Vs(I,M),I,v).pipe((0,He.U)(Q=>!0===Q?z:{...qi})):(0,X.of)(z)}function ys(E,I,v){if(""===I.path)return"full"===I.pathMatch&&(E.hasChildren()||v.length>0)?{...qi}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const F=(I.matcher||ar)(v,E,I);if(!F)return{...qi};const z={};Cn(F.posParams,(xe,pt)=>{z[pt]=xe.path});const Q=F.consumed.length>0?{...z,...F.consumed[F.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:F.consumed,remainingSegments:v.slice(F.consumed.length),parameters:Q,positionalParamSegments:F.posParams??{}}}function Wr(E,I,v,M){if(v.length>0&&function ds(E,I,v){return v.some(M=>Oo(E,I,M)&&Mr(M)!==$t)}(E,v,M)){const z=new nn(I,function Po(E,I,v,M){const F={};F[$t]=M,M._sourceSegment=E,M._segmentIndexShift=I.length;for(const z of v)if(""===z.path&&Mr(z)!==$t){const Q=new nn([],{});Q._sourceSegment=E,Q._segmentIndexShift=I.length,F[Mr(z)]=Q}return F}(E,I,M,new nn(v,E.children)));return z._sourceSegment=E,z._segmentIndexShift=I.length,{segmentGroup:z,slicedSegments:[]}}if(0===v.length&&function ba(E,I,v){return v.some(M=>Oo(E,I,M))}(E,v,M)){const z=new nn(E.segments,function Da(E,I,v,M,F){const z={};for(const Q of M)if(Oo(E,v,Q)&&!F[Mr(Q)]){const xe=new nn([],{});xe._sourceSegment=E,xe._segmentIndexShift=I.length,z[Mr(Q)]=xe}return{...F,...z}}(E,I,v,M,E.children));return z._sourceSegment=E,z._segmentIndexShift=I.length,{segmentGroup:z,slicedSegments:v}}const F=new nn(E.segments,E.children);return F._sourceSegment=E,F._segmentIndexShift=I.length,{segmentGroup:F,slicedSegments:v}}function Oo(E,I,v){return(!(E.hasChildren()||I.length>0)||"full"!==v.pathMatch)&&""===v.path}function Ms(E,I,v,M){return!!(Mr(E)===M||M!==$t&&Oo(I,v,E))&&("**"===E.path||ys(I,E,v).matched)}function Oa(E,I,v){return 0===I.length&&!E.children[v]}const vo=!1;class No{constructor(I){this.segmentGroup=I||null}}class Na{constructor(I){this.urlTree=I}}function to(E){return _e(new No(E))}function oa(E){return _e(new Na(E))}class no{constructor(I,v,M,F,z){this.injector=I,this.configLoader=v,this.urlSerializer=M,this.urlTree=F,this.config=z,this.allowRedirects=!0}apply(){const I=Wr(this.urlTree.root,[],[],this.config).segmentGroup,v=new nn(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,v,$t).pipe((0,He.U)(z=>this.createUrlTree(Rt(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ye.K)(z=>{if(z instanceof Na)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof No?this.noMatchError(z):z}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,$t).pipe((0,He.U)(F=>this.createUrlTree(Rt(F),I.queryParams,I.fragment))).pipe((0,Ye.K)(F=>{throw F instanceof No?this.noMatchError(F):F}))}noMatchError(I){return new y.vHH(4002,vo)}createUrlTree(I,v,M){const F=yt(I);return new Wn(F,v,M)}expandSegmentGroup(I,v,M,F){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(I,v,M).pipe((0,He.U)(z=>new nn([],z))):this.expandSegment(I,M,v,M.segments,F,!0)}expandChildren(I,v,M){const F=[];for(const z of Object.keys(M.children))"primary"===z?F.unshift(z):F.push(z);return(0,V.D)(F).pipe((0,kt.b)(z=>{const Q=M.children[z],xe=Rr(v,z);return this.expandSegmentGroup(I,xe,Q,z).pipe((0,He.U)(pt=>({segment:pt,outlet:z})))}),mt((z,Q)=>(z[Q.outlet]=Q.segment,z),{}),_t())}expandSegment(I,v,M,F,z,Q){return(0,V.D)(M).pipe((0,kt.b)(xe=>this.expandSegmentAgainstRoute(I,v,M,xe,F,z,Q).pipe((0,Ye.K)(qt=>{if(qt instanceof No)return(0,X.of)(null);throw qt}))),on(xe=>!!xe),(0,Ye.K)((xe,pt)=>{if(Mo(xe))return Oa(v,F,z)?(0,X.of)(new nn([],{})):to(v);throw xe}))}expandSegmentAgainstRoute(I,v,M,F,z,Q,xe){return Ms(F,v,z,Q)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(I,v,F,z,Q):xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,v,M,F,z,Q):to(v):to(v)}expandSegmentAgainstRouteUsingRedirect(I,v,M,F,z,Q){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,M,F,Q):this.expandRegularSegmentAgainstRouteUsingRedirect(I,v,M,F,z,Q)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,v,M,F){const z=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?oa(z):this.lineralizeSegments(M,z).pipe((0,Ae.z)(Q=>{const xe=new nn(Q,{});return this.expandSegment(I,xe,v,Q,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,v,M,F,z,Q){const{matched:xe,consumedSegments:pt,remainingSegments:qt,positionalParamSegments:Zt}=ys(v,F,z);if(!xe)return to(v);const Fn=this.applyRedirectCommands(pt,F.redirectTo,Zt);return F.redirectTo.startsWith("/")?oa(Fn):this.lineralizeSegments(F,Fn).pipe((0,Ae.z)(Yr=>this.expandSegment(I,v,M,Yr.concat(qt),Q,!1)))}matchSegmentAgainstRoute(I,v,M,F,z){return"**"===M.path?(I=Vs(M,I),M.loadChildren?(M._loadedRoutes?(0,X.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):this.configLoader.loadChildren(I,M)).pipe((0,He.U)(xe=>(M._loadedRoutes=xe.routes,M._loadedInjector=xe.injector,new nn(F,{})))):(0,X.of)(new nn(F,{}))):ls(v,M,F,I).pipe((0,Ce.w)(({matched:Q,consumedSegments:xe,remainingSegments:pt})=>Q?this.getChildConfig(I=M._injector??I,M,F).pipe((0,Ae.z)(Zt=>{const Fn=Zt.injector??I,Yr=Zt.routes,{segmentGroup:ps,slicedSegments:_o}=Wr(v,xe,pt,Yr),Yo=new nn(ps.segments,ps.children);if(0===_o.length&&Yo.hasChildren())return this.expandChildren(Fn,Yr,Yo).pipe((0,He.U)(Ca=>new nn(xe,Ca)));if(0===Yr.length&&0===_o.length)return(0,X.of)(new nn(xe,{}));const Pn=Mr(M)===z;return this.expandSegment(Fn,Yo,Yr,_o,Pn?$t:z,!0).pipe((0,He.U)(xs=>new nn(xe.concat(xs.segments),xs.children)))})):to(v)))}getChildConfig(I,v,M){return v.children?(0,X.of)({routes:v.children,injector:I}):v.loadChildren?void 0!==v._loadedRoutes?(0,X.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function hr(E,I,v,M){const F=I.canLoad;if(void 0===F||0===F.length)return(0,X.of)(!0);const z=F.map(Q=>{const xe=Ni(Q,E);return Qt(function Xs(E){return E&&As(E.canLoad)}(xe)?xe.canLoad(I,v):E.runInContext(()=>xe(I,v)))});return(0,X.of)(z).pipe(ur(),Si())}(I,v,M).pipe((0,Ae.z)(F=>F?this.configLoader.loadChildren(I,v).pipe((0,Ve.b)(z=>{v._loadedRoutes=z.routes,v._loadedInjector=z.injector})):function $r(E){return _e(Oi(vo,3))}())):(0,X.of)({routes:[],injector:I})}lineralizeSegments(I,v){let M=[],F=v.root;for(;;){if(M=M.concat(F.segments),0===F.numberOfChildren)return(0,X.of)(M);if(F.numberOfChildren>1||!F.children[$t])return I.redirectTo,_e(new y.vHH(4e3,vo));F=F.children[$t]}}applyRedirectCommands(I,v,M){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),I,M)}applyRedirectCreateUrlTree(I,v,M,F){const z=this.createSegmentGroup(I,v.root,M,F);return new Wn(z,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(I,v){const M={};return Cn(I,(F,z)=>{if("string"==typeof F&&F.startsWith(":")){const xe=F.substring(1);M[z]=v[xe]}else M[z]=F}),M}createSegmentGroup(I,v,M,F){const z=this.createSegments(I,v.segments,M,F);let Q={};return Cn(v.children,(xe,pt)=>{Q[pt]=this.createSegmentGroup(I,xe,M,F)}),new nn(z,Q)}createSegments(I,v,M,F){return v.map(z=>z.path.startsWith(":")?this.findPosParam(I,z,F):this.findOrReturn(z,M))}findPosParam(I,v,M){const F=M[v.path.substring(1)];if(!F)throw new y.vHH(4001,vo);return F}findOrReturn(I,v){let M=0;for(const F of v){if(F.path===I.path)return v.splice(M),F;M++}return I}}class dt{}class aa{constructor(I,v,M,F,z,Q,xe){this.injector=I,this.rootComponentType=v,this.config=M,this.urlTree=F,this.url=z,this.paramsInheritanceStrategy=Q,this.urlSerializer=xe}recognize(){const I=Wr(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,$t).pipe((0,He.U)(v=>{if(null===v)return null;const M=new bs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new pi(M,v),z=new Xa(this.url,F);return this.inheritParamsAndData(z._root),z}))}inheritParamsAndData(I){const v=I.value,M=Wi(v,this.paramsInheritanceStrategy);v.params=Object.freeze(M.params),v.data=Object.freeze(M.data),I.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(I,v,M,F){return 0===M.segments.length&&M.hasChildren()?this.processChildren(I,v,M):this.processSegment(I,v,M,M.segments,F)}processChildren(I,v,M){return(0,V.D)(Object.keys(M.children)).pipe((0,kt.b)(F=>{const z=M.children[F],Q=Rr(v,F);return this.processSegmentGroup(I,Q,z,F)}),mt((F,z)=>F&&z?(F.push(...z),F):null),(0,Bt.o)(F=>null!==F),Me(null),_t(),(0,He.U)(F=>{if(null===F)return null;const z=jt(F);return function rn(E){E.sort((I,v)=>I.value.outlet===$t?-1:v.value.outlet===$t?1:I.value.outlet.localeCompare(v.value.outlet))}(z),z}))}processSegment(I,v,M,F,z){return(0,V.D)(v).pipe((0,kt.b)(Q=>this.processSegmentAgainstRoute(Q._injector??I,Q,M,F,z)),on(Q=>!!Q),(0,Ye.K)(Q=>{if(Mo(Q))return Oa(M,F,z)?(0,X.of)([]):(0,X.of)(null);throw Q}))}processSegmentAgainstRoute(I,v,M,F,z){if(v.redirectTo||!Ms(v,M,F,z))return(0,X.of)(null);let Q;if("**"===v.path){const xe=F.length>0?Or(F).parameters:{},pt=U(M)+F.length,qt=new bs(F,xe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w(v),Mr(v),v.component??v._loadedComponent??null,v,D(M),pt,f(v));Q=(0,X.of)({snapshot:qt,consumedSegments:[],remainingSegments:[]})}else Q=ls(M,v,F,I).pipe((0,He.U)(({matched:xe,consumedSegments:pt,remainingSegments:qt,parameters:Zt})=>{if(!xe)return null;const Fn=U(M)+pt.length;return{snapshot:new bs(pt,Zt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w(v),Mr(v),v.component??v._loadedComponent??null,v,D(M),Fn,f(v)),consumedSegments:pt,remainingSegments:qt}}));return Q.pipe((0,Ce.w)(xe=>{if(null===xe)return(0,X.of)(null);const{snapshot:pt,consumedSegments:qt,remainingSegments:Zt}=xe;I=v._injector??I;const Fn=v._loadedInjector??I,Yr=function cn(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(v),{segmentGroup:ps,slicedSegments:_o}=Wr(M,qt,Zt,Yr.filter(Pn=>void 0===Pn.redirectTo));if(0===_o.length&&ps.hasChildren())return this.processChildren(Fn,Yr,ps).pipe((0,He.U)(Pn=>null===Pn?null:[new pi(pt,Pn)]));if(0===Yr.length&&0===_o.length)return(0,X.of)([new pi(pt,[])]);const Yo=Mr(v)===z;return this.processSegment(Fn,Yr,ps,_o,Yo?$t:z).pipe((0,He.U)(Pn=>null===Pn?null:[new pi(pt,Pn)]))}))}}function ua(E){const I=E.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function jt(E){const I=[],v=new Set;for(const M of E){if(!ua(M)){I.push(M);continue}const F=I.find(z=>M.value.routeConfig===z.value.routeConfig);void 0!==F?(F.children.push(...M.children),v.add(F)):I.push(M)}for(const M of v){const F=jt(M.children);I.push(new pi(M.value,F))}return I.filter(M=>!v.has(M))}function D(E){let I=E;for(;I._sourceSegment;)I=I._sourceSegment;return I}function U(E){let I=E,v=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,v+=I._segmentIndexShift??0;return v-1}function w(E){return E.data||{}}function f(E){return E.resolve||{}}function Ne(E){return"string"==typeof E.title||null===E.title}function We(E){return(0,Ce.w)(I=>{const v=E(I);return v?(0,V.D)(v).pipe((0,He.U)(()=>I)):(0,X.of)(I)})}const Tt=new y.OlP("ROUTES");let Sn=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,X.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const M=Qt(v.loadComponent()).pipe((0,He.U)(gt),(0,Ve.b)(z=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=z}),(0,Rn.x)(()=>{this.componentLoaders.delete(v)})),F=new ye.c(M,()=>new ot.x).pipe((0,ln.x)());return this.componentLoaders.set(v,F),F}loadChildren(v,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,X.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const z=this.loadModuleFactoryOrRoutes(M.loadChildren).pipe((0,He.U)(xe=>{this.onLoadEndListener&&this.onLoadEndListener(M);let pt,qt,Zt=!1;Array.isArray(xe)?qt=xe:(pt=xe.create(v).injector,qt=wr(pt.get(Tt,[],y.XFs.Self|y.XFs.Optional)));return{routes:qt.map(zs),injector:pt}}),(0,Rn.x)(()=>{this.childrenLoaders.delete(M)})),Q=new ye.c(z,()=>new ot.x).pipe((0,ln.x)());return this.childrenLoaders.set(M,Q),Q}loadModuleFactoryOrRoutes(v){return Qt(v()).pipe((0,He.U)(gt),(0,Ae.z)(M=>M instanceof y.YKP||Array.isArray(M)?(0,X.of)(M):(0,V.D)(this.compiler.compileModuleAsync(M))))}}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function gt(E){return function Wt(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Xt=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ot.x,this.configLoader=(0,y.f3M)(Sn),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(ht),this.rootContexts=(0,y.f3M)(bi),this.navigationId=0,this.afterPreactivation=()=>(0,X.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=F=>this.events.next(new Gi(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new Ar(F))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:M})}setupNavigations(v){return this.transitions=new se.X({id:0,targetPageId:0,currentUrlTree:v.currentUrlTree,currentRawUrl:v.currentUrlTree,extractedUrl:v.urlHandlingStrategy.extract(v.currentUrlTree),urlAfterRedirects:v.urlHandlingStrategy.extract(v.currentUrlTree),rawUrl:v.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ze,restoredState:null,currentSnapshot:v.routerState.snapshot,targetSnapshot:null,currentRouterState:v.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,de.h)(M=>0!==M.id),(0,He.U)(M=>({...M,extractedUrl:v.urlHandlingStrategy.extract(M.rawUrl)})),(0,Ce.w)(M=>{let F=!1,z=!1;return(0,X.of)(M).pipe((0,Ve.b)(Q=>{this.currentNavigation={id:Q.id,initialUrl:Q.rawUrl,extractedUrl:Q.extractedUrl,trigger:Q.source,extras:Q.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ce.w)(Q=>{const xe=v.browserUrlTree.toString(),pt=!v.navigated||Q.extractedUrl.toString()!==xe||xe!==v.currentUrlTree.toString();if(!pt&&"reload"!==(Q.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const Zt="";return this.events.next(new nr(Q.id,v.serializeUrl(M.rawUrl),Zt,0)),v.rawUrlTree=Q.rawUrl,Q.resolve(null),je.E}if(v.urlHandlingStrategy.shouldProcessUrl(Q.rawUrl))return Xn(Q.source)&&(v.browserUrlTree=Q.extractedUrl),(0,X.of)(Q).pipe((0,Ce.w)(Zt=>{const Fn=this.transitions?.getValue();return this.events.next(new Ct(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),Zt.source,Zt.restoredState)),Fn!==this.transitions?.getValue()?je.E:Promise.resolve(Zt)}),function Kr(E,I,v,M){return(0,Ce.w)(F=>function Rs(E,I,v,M,F){return new no(E,I,v,M,F).apply()}(E,I,v,F.extractedUrl,M).pipe((0,He.U)(z=>({...F,urlAfterRedirects:z}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,v.config),(0,Ve.b)(Zt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Zt.urlAfterRedirects},M.urlAfterRedirects=Zt.urlAfterRedirects}),function g(E,I,v,M,F){return(0,Ae.z)(z=>function Hr(E,I,v,M,F,z,Q="emptyOnly"){return new aa(E,I,v,M,F,Q,z).recognize().pipe((0,Ce.w)(xe=>null===xe?function jr(E){return new Y.y(I=>I.error(E))}(new dt):(0,X.of)(xe)))}(E,I,v,z.urlAfterRedirects,M.serialize(z.urlAfterRedirects),M,F).pipe((0,He.U)(Q=>({...z,targetSnapshot:Q}))))}(this.environmentInjector,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),(0,Ve.b)(Zt=>{if(M.targetSnapshot=Zt.targetSnapshot,"eager"===v.urlUpdateStrategy){if(!Zt.extras.skipLocationChange){const Yr=v.urlHandlingStrategy.merge(Zt.urlAfterRedirects,Zt.rawUrl);v.setBrowserUrl(Yr,Zt)}v.browserUrlTree=Zt.urlAfterRedirects}const Fn=new ti(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects),Zt.targetSnapshot);this.events.next(Fn)}));if(pt&&v.urlHandlingStrategy.shouldProcessUrl(v.rawUrlTree)){const{id:Zt,extractedUrl:Fn,source:Yr,restoredState:ps,extras:_o}=Q,Yo=new Ct(Zt,this.urlSerializer.serialize(Fn),Yr,ps);this.events.next(Yo);const Pn=Ls(Fn,this.rootComponentType).snapshot;return M={...Q,targetSnapshot:Pn,urlAfterRedirects:Fn,extras:{..._o,skipLocationChange:!1,replaceUrl:!1}},(0,X.of)(M)}{const Zt="";return this.events.next(new nr(Q.id,v.serializeUrl(M.extractedUrl),Zt,1)),v.rawUrlTree=Q.rawUrl,Q.resolve(null),je.E}}),(0,Ve.b)(Q=>{const xe=new Di(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot);this.events.next(xe)}),(0,He.U)(Q=>M={...Q,guards:ra(Q.targetSnapshot,Q.currentSnapshot,this.rootContexts)}),function Wo(E,I){return(0,Ae.z)(v=>{const{targetSnapshot:M,currentSnapshot:F,guards:{canActivateChecks:z,canDeactivateChecks:Q}}=v;return 0===Q.length&&0===z.length?(0,X.of)({...v,guardsResult:!0}):function yo(E,I,v,M){return(0,V.D)(E).pipe((0,Ae.z)(F=>function xo(E,I,v,M,F){const z=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,X.of)(!0);const Q=z.map(xe=>{const pt=Ys(I)??F,qt=Ni(xe,pt);return Qt(function Ia(E){return E&&As(E.canDeactivate)}(qt)?qt.canDeactivate(E,I,v,M):pt.runInContext(()=>qt(E,I,v,M))).pipe(on())});return(0,X.of)(Q).pipe(ur())}(F.component,F.route,v,I,M)),on(F=>!0!==F,!0))}(Q,M,F,E).pipe((0,Ae.z)(xe=>xe&&function ia(E){return"boolean"==typeof E}(xe)?function mi(E,I,v,M){return(0,V.D)(I).pipe((0,kt.b)(F=>(0,L.z)(function Js(E,I){return null!==E&&I&&I(new Ea(E)),(0,X.of)(!0)}(F.route.parent,M),function sa(E,I){return null!==E&&I&&I(new Ho(E)),(0,X.of)(!0)}(F.route,M),function Ro(E,I,v){const M=I[I.length-1],z=I.slice(0,I.length-1).reverse().map(Q=>function So(E){const I=E.routeConfig?E.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:E,guards:I}:null}(Q)).filter(Q=>null!==Q).map(Q=>(0,q.P)(()=>{const xe=Q.guards.map(pt=>{const qt=Ys(Q.node)??v,Zt=Ni(pt,qt);return Qt(function Ao(E){return E&&As(E.canActivateChild)}(Zt)?Zt.canActivateChild(M,E):qt.runInContext(()=>Zt(M,E))).pipe(on())});return(0,X.of)(xe).pipe(ur())}));return(0,X.of)(z).pipe(ur())}(E,F.path,v),function eo(E,I,v){const M=I.routeConfig?I.routeConfig.canActivate:null;if(!M||0===M.length)return(0,X.of)(!0);const F=M.map(z=>(0,q.P)(()=>{const Q=Ys(I)??v,xe=Ni(z,Q);return Qt(function Go(E){return E&&As(E.canActivate)}(xe)?xe.canActivate(I,E):Q.runInContext(()=>xe(I,E))).pipe(on())}));return(0,X.of)(F).pipe(ur())}(E,F.route,v))),on(F=>!0!==F,!0))}(M,z,E,I):(0,X.of)(xe)),(0,He.U)(xe=>({...v,guardsResult:xe})))})}(this.environmentInjector,Q=>this.events.next(Q)),(0,Ve.b)(Q=>{if(M.guardsResult=Q.guardsResult,An(Q.guardsResult))throw To(0,Q.guardsResult);const xe=new dr(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot,!!Q.guardsResult);this.events.next(xe)}),(0,de.h)(Q=>!!Q.guardsResult||(v.restoreHistory(Q),this.cancelNavigationTransition(Q,"",3),!1)),We(Q=>{if(Q.guards.canActivateChecks.length)return(0,X.of)(Q).pipe((0,Ve.b)(xe=>{const pt=new Ui(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(pt)}),(0,Ce.w)(xe=>{let pt=!1;return(0,X.of)(xe).pipe(function C(E,I){return(0,Ae.z)(v=>{const{targetSnapshot:M,guards:{canActivateChecks:F}}=v;if(!F.length)return(0,X.of)(v);let z=0;return(0,V.D)(F).pipe((0,kt.b)(Q=>function B(E,I,v,M){const F=E.routeConfig,z=E._resolve;return void 0!==F?.title&&!Ne(F)&&(z[Vn]=F.title),function Z(E,I,v,M){const F=function he(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===F.length)return(0,X.of)({});const z={};return(0,V.D)(F).pipe((0,Ae.z)(Q=>function pe(E,I,v,M){const F=Ys(I)??M,z=Ni(E,F);return Qt(z.resolve?z.resolve(I,v):F.runInContext(()=>z(I,v)))}(E[Q],I,v,M).pipe(on(),(0,Ve.b)(xe=>{z[Q]=xe}))),bt(1),(0,Lt.h)(z),(0,Ye.K)(Q=>Mo(Q)?je.E:_e(Q)))}(z,E,I,M).pipe((0,He.U)(Q=>(E._resolvedData=Q,E.data=Wi(E,v).resolve,F&&Ne(F)&&(E.data[Vn]=F.title),null)))}(Q.route,M,E,I)),(0,Ve.b)(()=>z++),bt(1),(0,Ae.z)(Q=>z===F.length?(0,X.of)(v):je.E))})}(v.paramsInheritanceStrategy,this.environmentInjector),(0,Ve.b)({next:()=>pt=!0,complete:()=>{pt||(v.restoreHistory(xe),this.cancelNavigationTransition(xe,"",2))}}))}),(0,Ve.b)(xe=>{const pt=new rs(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(pt)}))}),We(Q=>{const xe=pt=>{const qt=[];pt.routeConfig?.loadComponent&&!pt.routeConfig._loadedComponent&&qt.push(this.configLoader.loadComponent(pt.routeConfig).pipe((0,Ve.b)(Zt=>{pt.component=Zt}),(0,He.U)(()=>{})));for(const Zt of pt.children)qt.push(...xe(Zt));return qt};return(0,ee.a)(xe(Q.targetSnapshot.root)).pipe(Me(),(0,Ze.q)(1))}),We(()=>this.afterPreactivation()),(0,He.U)(Q=>{const xe=function mo(E,I,v){const M=Us(E,I._root,v?v._root:void 0);return new Pi(M,I)}(v.routeReuseStrategy,Q.targetSnapshot,Q.currentRouterState);return M={...Q,targetRouterState:xe}}),(0,Ve.b)(Q=>{v.currentUrlTree=Q.urlAfterRedirects,v.rawUrlTree=v.urlHandlingStrategy.merge(Q.urlAfterRedirects,Q.rawUrl),v.routerState=Q.targetRouterState,"deferred"===v.urlUpdateStrategy&&(Q.extras.skipLocationChange||v.setBrowserUrl(v.rawUrlTree,Q),v.browserUrlTree=Q.urlAfterRedirects)}),((E,I,v)=>(0,He.U)(M=>(new us(I,M.targetRouterState,M.currentRouterState,v).activate(E),M)))(this.rootContexts,v.routeReuseStrategy,Q=>this.events.next(Q)),(0,Ve.b)({next:Q=>{F=!0,this.lastSuccessfulNavigation=this.currentNavigation,v.navigated=!0,this.events.next(new Jt(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(v.currentUrlTree))),v.titleStrategy?.updateTitle(Q.targetRouterState.snapshot),Q.resolve(!0)},complete:()=>{F=!0}}),(0,Rn.x)(()=>{F||z||this.cancelNavigationTransition(M,"",1),this.currentNavigation?.id===M.id&&(this.currentNavigation=null)}),(0,Ye.K)(Q=>{if(z=!0,Ra(Q)){Zs(Q)||(v.navigated=!0,v.restoreHistory(M,!0));const xe=new Vt(M.id,this.urlSerializer.serialize(M.extractedUrl),Q.message,Q.cancellationCode);if(this.events.next(xe),Zs(Q)){const pt=v.urlHandlingStrategy.merge(Q.url,v.rawUrlTree),qt={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===v.urlUpdateStrategy||Xn(M.source)};v.scheduleNavigation(pt,ze,null,qt,{resolve:M.resolve,reject:M.reject,promise:M.promise})}else M.resolve(!1)}else{v.restoreHistory(M,!0);const xe=new _n(M.id,this.urlSerializer.serialize(M.extractedUrl),Q,M.targetSnapshot??void 0);this.events.next(xe);try{M.resolve(v.errorHandler(Q))}catch(pt){M.reject(pt)}}return je.E}))}))}cancelNavigationTransition(v,M,F){const z=new Vt(v.id,this.urlSerializer.serialize(v.extractedUrl),M,F);this.events.next(z),v.resolve(!1)}}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Xn(E){return E!==ze}let xn=(()=>{class E{buildTitle(v){let M,F=v.root;for(;void 0!==F;)M=this.getResolvedTitleForRoute(F)??M,F=F.children.find(z=>z.outlet===$t);return M}getResolvedTitleForRoute(v){return v.data[Vn]}}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=y.Yz7({token:E,factory:function(){return(0,y.f3M)(At)},providedIn:"root"}),E})(),At=(()=>{class E extends xn{constructor(v){super(),this.title=v}updateTitle(v){const M=this.buildTitle(v);void 0!==M&&this.title.setTitle(M)}}return E.\u0275fac=function(v){return new(v||E)(y.LFG(Dt.Dx))},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Pr=(()=>{class E{}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=y.Yz7({token:E,factory:function(){return(0,y.f3M)($i)},providedIn:"root"}),E})();class ki{shouldDetach(I){return!1}store(I,v){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,v){return I.routeConfig===v.routeConfig}}let $i=(()=>{class E extends ki{}return E.\u0275fac=function(){let I;return function(M){return(I||(I=y.n5z(E)))(M||E)}}(),E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ci=new y.OlP("",{providedIn:"root",factory:()=>({})});let hs=(()=>{class E{}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=y.Yz7({token:E,factory:function(){return(0,y.f3M)(qr)},providedIn:"root"}),E})(),qr=(()=>{class E{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,M){return v}}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function vs(E){throw E}function Zr(E,I,v){return I.parse("/")}const Ko={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ta={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gt=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(Ci,{optional:!0})||{},this.errorHandler=this.options.errorHandler||vs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Zr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(hs),this.routeReuseStrategy=(0,y.f3M)(Pr),this.urlCreationStrategy=(0,y.f3M)(Qa),this.titleStrategy=(0,y.f3M)(xn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=wr((0,y.f3M)(Tt,{optional:!0})??[]),this.navigationTransitions=(0,y.f3M)(Xt),this.urlSerializer=(0,y.f3M)(ht),this.location=(0,y.f3M)(Se.Ye),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Wn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ls(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ze,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const M="popstate"===v.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,M,v.state)},0)}))}navigateToSyncWithBrowser(v,M,F){const z={replaceUrl:!0},Q=F?.navigationId?F:null;if(F){const pt={...F};delete pt.navigationId,delete pt.\u0275routerPageId,0!==Object.keys(pt).length&&(z.state=pt)}const xe=this.parseUrl(v);this.scheduleNavigation(xe,M,Q,z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(v){this.config=v.map(zs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,M={}){const{relativeTo:F,queryParams:z,fragment:Q,queryParamsHandling:xe,preserveFragment:pt}=M,qt=pt?this.currentUrlTree.fragment:Q;let Zt=null;switch(xe){case"merge":Zt={...this.currentUrlTree.queryParams,...z};break;case"preserve":Zt=this.currentUrlTree.queryParams;break;default:Zt=z||null}return null!==Zt&&(Zt=this.removeEmptyProps(Zt)),this.urlCreationStrategy.createUrlTree(F,this.routerState,this.currentUrlTree,v,Zt,qt??null)}navigateByUrl(v,M={skipLocationChange:!1}){const F=An(v)?v:this.parseUrl(v),z=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(z,ze,null,M)}navigate(v,M={skipLocationChange:!1}){return function pn(E){for(let I=0;I<E.length;I++){const v=E[I];if(null==v)throw new y.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,M),M)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let M;try{M=this.urlSerializer.parse(v)}catch(F){M=this.malformedUriErrorHandler(F,this.urlSerializer,v)}return M}isActive(v,M){let F;if(F=!0===M?{...Ko}:!1===M?{...Ta}:M,An(v))return ir(this.currentUrlTree,v,F);const z=this.parseUrl(v);return ir(this.currentUrlTree,z,F)}removeEmptyProps(v){return Object.keys(v).reduce((M,F)=>{const z=v[F];return null!=z&&(M[F]=z),M},{})}scheduleNavigation(v,M,F,z,Q){if(this.disposed)return Promise.resolve(!1);let xe,pt,qt,Zt;return Q?(xe=Q.resolve,pt=Q.reject,qt=Q.promise):qt=new Promise((Fn,Yr)=>{xe=Fn,pt=Yr}),Zt="computed"===this.canceledNavigationResolution?F&&F.\u0275routerPageId?F.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Zt,source:M,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:v,extras:z,resolve:xe,reject:pt,promise:qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qt.catch(Fn=>Promise.reject(Fn))}setBrowserUrl(v,M){const F=this.urlSerializer.serialize(v),z={...M.extras.state,...this.generateNgRouterState(M.id,M.targetPageId)};this.location.isCurrentPathEqualTo(F)||M.extras.replaceUrl?this.location.replaceState(F,"",z):this.location.go(F,"",z)}restoreHistory(v,M=!1){if("computed"===this.canceledNavigationResolution){const F=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===F?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===F&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(F)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,M){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:M}:{navigationId:v}}}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class zr{}let qn=(()=>{class E{constructor(v,M,F,z,Q){this.router=v,this.injector=F,this.preloadingStrategy=z,this.loader=Q}setUpPreloading(){this.subscription=this.router.events.pipe((0,de.h)(v=>v instanceof Jt),(0,kt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,M){const F=[];for(const z of M){z.providers&&!z._injector&&(z._injector=(0,y.MMx)(z.providers,v,`Route: ${z.path}`));const Q=z._injector??v,xe=z._loadedInjector??Q;z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent?F.push(this.preloadConfig(Q,z)):(z.children||z._loadedRoutes)&&F.push(this.processRoutes(xe,z.children??z._loadedRoutes))}return(0,V.D)(F).pipe((0,un.J)())}preloadConfig(v,M){return this.preloadingStrategy.preload(M,()=>{let F;F=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(v,M):(0,X.of)(null);const z=F.pipe((0,Ae.z)(Q=>null===Q?(0,X.of)(void 0):(M._loadedRoutes=Q.routes,M._loadedInjector=Q.injector,this.processRoutes(Q.injector??v,Q.routes))));if(M.loadComponent&&!M._loadedComponent){const Q=this.loader.loadComponent(M);return(0,V.D)([z,Q]).pipe((0,un.J)())}return z})}}return E.\u0275fac=function(v){return new(v||E)(y.LFG(Gt),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(zr),y.LFG(Sn))},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const ca=new y.OlP("");let ui=(()=>{class E{constructor(v,M,F,z,Q={}){this.urlSerializer=v,this.transitions=M,this.viewportScroller=F,this.zone=z,this.options=Q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Q.scrollPositionRestoration=Q.scrollPositionRestoration||"disabled",Q.anchorScrolling=Q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Ct?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Jt&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof po&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new po(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return E.\u0275fac=function(v){y.$Z()},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac}),E})();var or=(()=>((or=or||{})[or.COMPLETE=0]="COMPLETE",or[or.FAILED=1]="FAILED",or[or.REDIRECTING=2]="REDIRECTING",or))();const Ai=!1;function ko(E,...I){return(0,y.MR2)([{provide:Tt,multi:!0,useValue:E},Ai?{provide:Sa,useValue:!0}:[],{provide:Jn,useFactory:Mi,deps:[Gt]},{provide:y.tb,multi:!0,useFactory:la},I.map(v=>v.\u0275providers)])}function Mi(E){return E.routerState.root}function qo(E,I){return{\u0275kind:E,\u0275providers:I}}const Sa=new y.OlP("",{providedIn:"root",factory:()=>!1});function la(){const E=(0,y.f3M)(y.zs3);return I=>{const v=E.get(y.z2F);if(I!==v.components[0])return;const M=E.get(Gt),F=E.get(da);1===E.get(Fa)&&M.initialNavigation(),E.get(kr,null,y.XFs.Optional)?.setUpPreloading(),E.get(ca,null,y.XFs.Optional)?.init(),M.resetRootComponentType(v.componentTypes[0]),F.closed||(F.next(),F.unsubscribe())}}const da=new y.OlP(Ai?"bootstrap done indicator":"",{factory:()=>new ot.x}),Fa=new y.OlP(Ai?"initial navigation":"",{providedIn:"root",factory:()=>1});function Ua(){let E=[];return E=Ai?[{provide:y.Xts,multi:!0,useFactory:()=>{const I=(0,y.f3M)(Gt);return()=>I.events.subscribe(v=>{console.group?.(`Router Event: ${v.constructor.name}`),console.log(function br(E){if(!("type"in E))return`Unknown Router Event: ${E.constructor.name}`;switch(E.type){case 14:return`ActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state}, shouldActivate: ${E.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 2:return`NavigationCancel(id: ${E.id}, url: '${E.url}')`;case 16:return`NavigationSkipped(id: ${E.id}, url: '${E.url}')`;case 1:return`NavigationEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${E.id}, url: '${E.url}', error: ${E.error})`;case 0:return`NavigationStart(id: ${E.id}, url: '${E.url}')`;case 6:return`ResolveEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 5:return`ResolveStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 10:return`RouteConfigLoadEnd(path: ${E.route.path})`;case 9:return`RouteConfigLoadStart(path: ${E.route.path})`;case 4:return`RoutesRecognized(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 15:return`Scroll(anchor: '${E.anchor}', position: '${E.position?`${E.position[0]}, ${E.position[1]}`:null}')`}}(v)),console.log(v),console.groupEnd?.()})}}]:[],qo(1,E)}const kr=new y.OlP(Ai?"router preloader":"");function Yu(E){return qo(0,[{provide:kr,useExisting:qn},{provide:zr,useExisting:E}])}const Lr=!1,tu=new y.OlP(Lr?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Ba=[Se.Ye,{provide:ht,useClass:hn},Gt,bi,{provide:Jn,useFactory:Mi,deps:[Gt]},Sn,Lr?{provide:Sa,useValue:!0}:[]];function so(){return new y.PXZ("Router",Gt)}let Lo=(()=>{class E{constructor(v){}static forRoot(v,M){return{ngModule:E,providers:[Ba,Lr&&M?.enableTracing?Ua().\u0275providers:[],{provide:Tt,multi:!0,useValue:v},{provide:tu,useFactory:Fo,deps:[[Gt,new y.FiY,new y.tp0]]},{provide:Ci,useValue:M||{}},M?.useHash?{provide:Se.S$,useClass:Se.Do}:{provide:Se.S$,useClass:Se.b0},{provide:ca,useFactory:()=>{const E=(0,y.f3M)(Se.EM),I=(0,y.f3M)(y.R0b),v=(0,y.f3M)(Ci),M=(0,y.f3M)(Xt),F=(0,y.f3M)(ht);return v.scrollOffset&&E.setOffset(v.scrollOffset),new ui(F,M,E,I,v)}},M?.preloadingStrategy?Yu(M.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:so},M?.initialNavigation?ci(M):[],[{provide:ao,useFactory:la},{provide:y.tb,multi:!0,useExisting:ao}]]}}static forChild(v){return{ngModule:E,providers:[{provide:Tt,multi:!0,useValue:v}]}}}return E.\u0275fac=function(v){return new(v||E)(y.LFG(tu,8))},E.\u0275mod=y.oAB({type:E}),E.\u0275inj=y.cJS({imports:[as]}),E})();function Fo(E){if(Lr&&E)throw new y.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ci(E){return["disabled"===E.initialNavigation?qo(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const I=(0,y.f3M)(Gt);return()=>{I.setUpLocationChangeListener()}}},{provide:Fa,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?qo(2,[{provide:Fa,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:I=>{const v=I.get(Se.V_,Promise.resolve());return()=>v.then(()=>new Promise(M=>{const F=I.get(Gt),z=I.get(da);(function fs(E,I){E.events.pipe((0,de.h)(v=>v instanceof Jt||v instanceof Vt||v instanceof _n||v instanceof nr),(0,He.U)(v=>v instanceof Jt||v instanceof nr?or.COMPLETE:v instanceof Vt&&(0===v.code||1===v.code)?or.REDIRECTING:or.FAILED),(0,de.h)(v=>v!==or.REDIRECTING),(0,Ze.q)(1)).subscribe(()=>{I()})})(F,()=>{M(!0)}),I.get(Xt).afterPreactivation=()=>(M(!0),z.closed?(0,X.of)(void 0):z),F.initialNavigation()}))}}]).\u0275providers:[]]}const ao=new y.OlP(Lr?"Router Initializer":"")},9681:(xt,Re,O)=>{O.d(Re,{C6:()=>wr,Jn:()=>fr,KN:()=>Cn,Mq:()=>mr,Xd:()=>un,ZF:()=>rr,qX:()=>Dt});var y=O(5861),V=O(4859),X=O(1877),se=O(2090),ae=O(8766);class ce{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(De=>{if(function ee(ct){return"VERSION"===ct.getComponent()?.type}(De)){const ie=De.getImmediate();return`${ie.library}/${ie.version}`}return null}).filter(De=>De).join(" ")}}const L="@firebase/app",q="0.9.5",j=new X.Yd("@firebase/app"),bt="[DEFAULT]",_t={[L]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bt=new Map,Lt=new Map;function Rn(ct,nt){try{ct.container.addComponent(nt)}catch(De){j.debug(`Component ${nt.name} failed to register with FirebaseApp ${ct.name}`,De)}}function un(ct){const nt=ct.name;if(Lt.has(nt))return j.debug(`There were multiple attempts to register component ${nt}.`),!1;Lt.set(nt,ct);for(const De of Bt.values())Rn(De,ct);return!0}function Dt(ct,nt){const De=ct.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),ct.container.getProvider(nt)}const Kt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ar{constructor(nt,De,ie){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=ie,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}const fr="9.18.0";function rr(ct,nt={}){let De=ct;"object"!=typeof nt&&(nt={name:nt});const ie=Object.assign({name:bt,automaticDataCollectionEnabled:!1},nt),me=ie.name;if("string"!=typeof me||!me)throw Kt.create("bad-app-name",{appName:String(me)});if(De||(De=(0,se.aH)()),!De)throw Kt.create("no-options");const at=Bt.get(me);if(at){if((0,se.vZ)(De,at.options)&&(0,se.vZ)(ie,at.config))return at;throw Kt.create("duplicate-app",{appName:me})}const lt=new V.H0(me);for(const oe of Lt.values())lt.addComponent(oe);const ue=new ar(De,ie,lt);return Bt.set(me,ue),ue}function mr(ct=bt){const nt=Bt.get(ct);if(!nt&&ct===bt)return rr();if(!nt)throw Kt.create("no-app",{appName:ct});return nt}function wr(){return Array.from(Bt.values())}function Cn(ct,nt,De){var ie;let me=null!==(ie=_t[ct])&&void 0!==ie?ie:ct;De&&(me+=`-${De}`);const at=me.match(/\s|\//),lt=nt.match(/\s|\//);if(at||lt){const ue=[`Unable to register library "${me}" with version "${nt}":`];return at&&ue.push(`library name "${me}" contains illegal characters (whitespace or "/")`),at&&lt&&ue.push("and"),lt&&ue.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void j.warn(ue.join(" "))}un(new V.wA(`${me}-version`,()=>({library:me,version:nt}),"VERSION"))}const vr="firebase-heartbeat-database",cr=1,ir="firebase-heartbeat-store";let Gr=null;function an(){return Gr||(Gr=(0,ae.X3)(vr,cr,{upgrade:(ct,nt)=>{0===nt&&ct.createObjectStore(ir)}}).catch(ct=>{throw Kt.create("idb-open",{originalErrorMessage:ct.message})})),Gr}function Ut(){return(Ut=(0,y.Z)(function*(ct){try{return(yield an()).transaction(ir).objectStore(ir).get(Wn(ct))}catch(nt){if(nt instanceof se.ZR)j.warn(nt.message);else{const De=Kt.create("idb-get",{originalErrorMessage:nt?.message});j.warn(De.message)}}})).apply(this,arguments)}function $n(ct,nt){return jn.apply(this,arguments)}function jn(){return(jn=(0,y.Z)(function*(ct,nt){try{const ie=(yield an()).transaction(ir,"readwrite");return yield ie.objectStore(ir).put(nt,Wn(ct)),ie.done}catch(De){if(De instanceof se.ZR)j.warn(De.message);else{const ie=Kt.create("idb-set",{originalErrorMessage:De?.message});j.warn(ie.message)}}})).apply(this,arguments)}function Wn(ct){return`${ct.name}!${ct.options.appId}`}class ke{constructor(nt){this.container=nt,this._heartbeatsCache=null;const De=this.container.getProvider("app").getImmediate();this._storage=new ht(De),this._heartbeatsCachePromise=this._storage.read().then(ie=>(this._heartbeatsCache=ie,ie))}triggerHeartbeat(){var nt=this;return(0,y.Z)(function*(){const ie=nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),me=tt();if(null===nt._heartbeatsCache&&(nt._heartbeatsCache=yield nt._heartbeatsCachePromise),nt._heartbeatsCache.lastSentHeartbeatDate!==me&&!nt._heartbeatsCache.heartbeats.some(at=>at.date===me))return nt._heartbeatsCache.heartbeats.push({date:me,agent:ie}),nt._heartbeatsCache.heartbeats=nt._heartbeatsCache.heartbeats.filter(at=>{const lt=new Date(at.date).valueOf();return Date.now()-lt<=2592e6}),nt._storage.overwrite(nt._heartbeatsCache)})()}getHeartbeatsHeader(){var nt=this;return(0,y.Z)(function*(){if(null===nt._heartbeatsCache&&(yield nt._heartbeatsCachePromise),null===nt._heartbeatsCache||0===nt._heartbeatsCache.heartbeats.length)return"";const De=tt(),{heartbeatsToSend:ie,unsentEntries:me}=function Et(ct,nt=1024){const De=[];let ie=ct.slice();for(const me of ct){const at=De.find(lt=>lt.agent===me.agent);if(at){if(at.dates.push(me.date),hn(De)>nt){at.dates.pop();break}}else if(De.push({agent:me.agent,dates:[me.date]}),hn(De)>nt){De.pop();break}ie=ie.slice(1)}return{heartbeatsToSend:De,unsentEntries:ie}}(nt._heartbeatsCache.heartbeats),at=(0,se.L)(JSON.stringify({version:2,heartbeats:ie}));return nt._heartbeatsCache.lastSentHeartbeatDate=De,me.length>0?(nt._heartbeatsCache.heartbeats=me,yield nt._storage.overwrite(nt._heartbeatsCache)):(nt._heartbeatsCache.heartbeats=[],nt._storage.overwrite(nt._heartbeatsCache)),at})()}}function tt(){return(new Date).toISOString().substring(0,10)}class ht{constructor(nt){this.app=nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var nt=this;return(0,y.Z)(function*(){return(yield nt._canUseIndexedDBPromise)&&(yield function Yt(ct){return Ut.apply(this,arguments)}(nt.app))||{heartbeats:[]}})()}overwrite(nt){var De=this;return(0,y.Z)(function*(){var ie;if(yield De._canUseIndexedDBPromise){const at=yield De.read();return $n(De.app,{lastSentHeartbeatDate:null!==(ie=nt.lastSentHeartbeatDate)&&void 0!==ie?ie:at.lastSentHeartbeatDate,heartbeats:nt.heartbeats})}})()}add(nt){var De=this;return(0,y.Z)(function*(){var ie;if(yield De._canUseIndexedDBPromise){const at=yield De.read();return $n(De.app,{lastSentHeartbeatDate:null!==(ie=nt.lastSentHeartbeatDate)&&void 0!==ie?ie:at.lastSentHeartbeatDate,heartbeats:[...at.heartbeats,...nt.heartbeats]})}})()}}function hn(ct){return(0,se.L)(JSON.stringify({version:2,heartbeats:ct})).length}!function Dn(ct){un(new V.wA("platform-logger",nt=>new ce(nt),"PRIVATE")),un(new V.wA("heartbeat",nt=>new ke(nt),"PRIVATE")),Cn(L,q,ct),Cn(L,q,"esm2017"),Cn("fire-js","")}("")},4859:(xt,Re,O)=>{O.d(Re,{H0:()=>L,wA:()=>X});var y=O(5861),V=O(2090);class X{constructor(j,Y,re){this.name=j,this.instanceFactory=Y,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const se="[DEFAULT]";class ae{constructor(j,Y){this.name=j,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const Y=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(Y)){const re=new V.BH;if(this.instancesDeferred.set(Y,re),this.isInitialized(Y)||this.shouldAutoInitialize())try{const _e=this.getOrInitializeService({instanceIdentifier:Y});_e&&re.resolve(_e)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(j){var Y;const re=this.normalizeInstanceIdentifier(j?.identifier),_e=null!==(Y=j?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(_e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(je){if(_e)return null;throw je}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ee(q){return"EAGER"===q.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Y,re]of this.instancesDeferred.entries()){const _e=this.normalizeInstanceIdentifier(Y);try{const je=this.getOrInitializeService({instanceIdentifier:_e});re.resolve(je)}catch{}}}}clearInstance(j=se){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,y.Z)(function*(){const Y=Array.from(j.instances.values());yield Promise.all([...Y.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...Y.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=se){return this.instances.has(j)}getOptions(j=se){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:Y={}}=j,re=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _e=this.getOrInitializeService({instanceIdentifier:re,options:Y});for(const[je,ye]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(je)&&ye.resolve(_e);return _e}onInit(j,Y){var re;const _e=this.normalizeInstanceIdentifier(Y),je=null!==(re=this.onInitCallbacks.get(_e))&&void 0!==re?re:new Set;je.add(j),this.onInitCallbacks.set(_e,je);const ye=this.instances.get(_e);return ye&&j(ye,_e),()=>{je.delete(j)}}invokeOnInitCallbacks(j,Y){const re=this.onInitCallbacks.get(Y);if(re)for(const _e of re)try{_e(j,Y)}catch{}}getOrInitializeService({instanceIdentifier:j,options:Y={}}){let re=this.instances.get(j);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(q=j,q===se?void 0:q),options:Y}),this.instances.set(j,re),this.instancesOptions.set(j,Y),this.invokeOnInitCallbacks(re,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,re)}catch{}var q;return re||null}normalizeInstanceIdentifier(j=se){return this.component?this.component.multipleInstances?j:se:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class L{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const Y=this.getProvider(j.name);if(Y.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);Y.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const Y=new ae(j,this);return this.providers.set(j,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,Re,O)=>{O.d(Re,{Yd:()=>ee,in:()=>V});const y=[];var V=(()=>{return(j=V||(V={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",V;var j})();const X={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},se=V.INFO,ae={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ce=(j,Y,...re)=>{if(Y<j.logLevel)return;const _e=(new Date).toISOString(),je=ae[Y];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[je](`[${_e}]  ${j.name}:`,...re)};class ee{constructor(Y){this.name=Y,this._logLevel=se,this._logHandler=ce,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in V))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?X[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...Y),this._logHandler(this,V.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...Y),this._logHandler(this,V.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,V.INFO,...Y),this._logHandler(this,V.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,V.WARN,...Y),this._logHandler(this,V.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...Y),this._logHandler(this,V.ERROR,...Y)}}},259:(xt,Re,O)=>{O.d(Re,{C6:()=>y.C6,KN:()=>y.KN,Mq:()=>y.Mq,ZF:()=>y.ZF});var y=O(9681);(0,y.KN)("firebase","9.18.0","app")},5407:(xt,Re,O)=>{O.d(Re,{_O:()=>Do,v0:()=>Rd,rh:()=>Uo,w7:()=>Rs});var y=O(5861),V=O(2090),X=O(9681),se=O(1877),ae=O(655),ce=O(4859);const ye=function _e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new se.Yd("@firebase/auth");function Ce(b,...h){He.logLevel<=se.in.ERROR&&He.error(`Auth (${X.Jn}): ${b}`,...h)}function Ze(b,...h){throw it(b,...h)}function Pe(b,...h){return it(b,...h)}function de(b,h,p){const A=Object.assign(Object.assign({},ye()),{[h]:p});return new V.LL("auth","Firebase",A).create(h,{appName:b.name})}function it(b,...h){if("string"!=typeof b){const p=h[0],A=[...h.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(p,...A)}return ot.create(b,...h)}function we(b,h,...p){if(!b)throw it(h,...p)}function Me(b){const h="INTERNAL ASSERTION FAILED: "+b;throw Ce(h),new Error(h)}function Ke(b,h){b||Me(h)}const Ft=new Map;function Pt(b){Ke(b instanceof Function,"Expected a class definition");let h=Ft.get(b);return h?(Ke(h instanceof b,"Instance stored in cache mismatched with class"),h):(h=new b,Ft.set(b,h),h)}function Ve(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function ut(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class _t{constructor(h,p){this.shortDelay=h,this.longDelay=p,Ke(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function mt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ye(){return"http:"===ut()||"https:"===ut()}()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bt(b,h){Ke(b.emulator,"Emulator should always be set here");const{url:p}=b.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Lt{static initialize(h,p,A){this.fetchImpl=h,p&&(this.headersImpl=p),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ln=new _t(3e4,6e4);function Dt(b,h,p,A){return $t.apply(this,arguments)}function $t(){return($t=(0,y.Z)(function*(b,h,p,A,G={}){return Vn(b,G,(0,y.Z)(function*(){let ne={},$e={};A&&("GET"===h?$e=A:ne={body:JSON.stringify(A)});const It=(0,V.xO)(Object.assign({key:b.config.apiKey},$e)).slice(1),tn=yield b._getAdditionalHeaders();return tn["Content-Type"]="application/json",b.languageCode&&(tn["X-Firebase-Locale"]=b.languageCode),Lt.fetch()(fr(b,b.config.apiHost,p,It),Object.assign({method:h,headers:tn,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function Vn(b,h,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,y.Z)(function*(b,h,p){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},Rn),h);try{const G=new rr(b),ne=yield Promise.race([p(),G.promise]);G.clearNetworkTimeout();const $e=yield ne.json();if("needConfirmation"in $e)throw mr(b,"account-exists-with-different-credential",$e);if(ne.ok&&!("errorMessage"in $e))return $e;{const It=ne.ok?$e.errorMessage:$e.error.message,[tn,Tn]=It.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tn)throw mr(b,"credential-already-in-use",$e);if("EMAIL_EXISTS"===tn)throw mr(b,"email-already-in-use",$e);if("USER_DISABLED"===tn)throw mr(b,"user-disabled",$e);const Gn=A[tn]||tn.toLowerCase().replace(/[_\s]+/g,"-");if(Tn)throw de(b,Gn,Tn);Ze(b,Gn)}}catch(G){if(G instanceof V.ZR)throw G;Ze(b,"internal-error",{message:String(G)})}})).apply(this,arguments)}function Kt(b,h,p,A){return ar.apply(this,arguments)}function ar(){return(ar=(0,y.Z)(function*(b,h,p,A,G={}){const ne=yield Dt(b,h,p,A,G);return"mfaPendingCredential"in ne&&Ze(b,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function fr(b,h,p,A){const G=`${h}${p}?${A}`;return b.config.emulator?Bt(b.config,G):`${b.config.apiScheme}://${G}`}class rr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,A)=>{this.timer=setTimeout(()=>A(Pe(this.auth,"network-request-failed")),ln.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mr(b,h,p){const A={appName:b.name};p.email&&(A.email=p.email),p.phoneNumber&&(A.phoneNumber=p.phoneNumber);const G=Pe(b,h,A);return G.customData._tokenResponse=p,G}function Or(){return(Or=(0,y.Z)(function*(b,h){return Dt(b,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function yr(){return(yr=(0,y.Z)(function*(b,h){return Dt(b,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function vr(b){if(b)try{const h=new Date(Number(b));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Gr(){return(Gr=(0,y.Z)(function*(b,h=!1){const p=(0,V.m9)(b),A=yield p.getIdToken(h),G=Yt(A);we(G&&G.exp&&G.auth_time&&G.iat,p.auth,"internal-error");const ne="object"==typeof G.firebase?G.firebase:void 0,$e=ne?.sign_in_provider;return{claims:G,token:A,authTime:vr(an(G.auth_time)),issuedAtTime:vr(an(G.iat)),expirationTime:vr(an(G.exp)),signInProvider:$e||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function an(b){return 1e3*Number(b)}function Yt(b){const[h,p,A]=b.split(".");if(void 0===h||void 0===p||void 0===A)return Ce("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,V.tV)(p);return G?JSON.parse(G):(Ce("Failed to decode base64 JWT payload"),null)}catch(G){return Ce("Caught error parsing JWT payload as JSON",G?.toString()),null}}function $n(b,h){return jn.apply(this,arguments)}function jn(){return(jn=(0,y.Z)(function*(b,h,p=!1){if(p)return h;try{return yield h}catch(A){throw A instanceof V.ZR&&function Wn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}class nn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const G=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const A=this.getInterval(h);this.timerId=setTimeout((0,y.Z)(function*(){yield p.iteration()}),A)}iteration(){var h=this;return(0,y.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Yn{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=vr(this.lastLoginAt),this.creationTime=vr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ke(b){return tt.apply(this,arguments)}function tt(){return tt=(0,y.Z)(function*(b){var h;const p=b.auth,A=yield b.getIdToken(),G=yield $n(b,function Qt(b,h){return yr.apply(this,arguments)}(p,{idToken:A}));we(G?.users.length,p,"internal-error");const ne=G.users[0];b._notifyReloadListener(ne);const $e=null!==(h=ne.providerUserInfo)&&void 0!==h&&h.length?function Dn(b){return b.map(h=>{var{providerId:p}=h,A=(0,ae._T)(h,["providerId"]);return{providerId:p,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(ne.providerUserInfo):[],It=function hn(b,h){return[...b.filter(A=>!h.some(G=>G.providerId===A.providerId)),...h]}(b.providerData,$e),Gn=!!b.isAnonymous&&!(b.email&&ne.passwordHash||It?.length),Xr={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:It,metadata:new Yn(ne.createdAt,ne.lastLoginAt),isAnonymous:Gn};Object.assign(b,Xr)}),tt.apply(this,arguments)}function ht(){return(ht=(0,y.Z)(function*(b){const h=(0,V.m9)(b);yield ke(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function nt(){return(nt=(0,y.Z)(function*(b,h){const p=yield Vn(b,{},(0,y.Z)(function*(){const A=(0,V.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:G,apiKey:ne}=b.config,$e=fr(b,G,"/v1/token",`key=${ne}`),It=yield b._getAdditionalHeaders();return It["Content-Type"]="application/x-www-form-urlencoded",Lt.fetch()($e,{method:"POST",headers:It,body:A})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class De{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){we(h.idToken,"internal-error"),we(typeof h.idToken<"u","internal-error"),we(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ut(b){const h=Yt(b);return we(h,"internal-error"),we(typeof h.exp<"u","internal-error"),we(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var A=this;return(0,y.Z)(function*(){return we(!A.accessToken||A.refreshToken,h,"user-token-expired"),p||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(h,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var A=this;return(0,y.Z)(function*(){const{accessToken:G,refreshToken:ne,expiresIn:$e}=yield function ct(b,h){return nt.apply(this,arguments)}(h,p);A.updateTokensAndExpiration(G,ne,Number($e))})()}updateTokensAndExpiration(h,p,A){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(h,p){const{refreshToken:A,accessToken:G,expirationTime:ne}=p,$e=new De;return A&&(we("string"==typeof A,"internal-error",{appName:h}),$e.refreshToken=A),G&&(we("string"==typeof G,"internal-error",{appName:h}),$e.accessToken=G),ne&&(we("number"==typeof ne,"internal-error",{appName:h}),$e.expirationTime=ne),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new De,this.toJSON())}_performRefresh(){return Me("not implemented")}}function ie(b,h){we("string"==typeof b||typeof b>"u","internal-error",{appName:h})}class me{constructor(h){var{uid:p,auth:A,stsTokenManager:G}=h,ne=(0,ae._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=A,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new Yn(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,y.Z)(function*(){const A=yield $n(p,p.stsTokenManager.getToken(p.auth,h));return we(A,p.auth,"internal-error"),p.accessToken!==A&&(p.accessToken=A,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),A})()}getIdTokenResult(h){return function ir(b){return Gr.apply(this,arguments)}(this,h)}reload(){return function Et(b){return ht.apply(this,arguments)}(this)}_assign(h){this!==h&&(we(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new me(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var A=this;return(0,y.Z)(function*(){let G=!1;h.idToken&&h.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(h),G=!0),p&&(yield ke(A)),yield A.auth._persistUserIfCurrent(A),G&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var h=this;return(0,y.Z)(function*(){const p=yield h.getIdToken();return yield $n(h,function wr(b,h){return Or.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var A,G,ne,$e,It,tn,Tn,Gn;const Xr=null!==(A=p.displayName)&&void 0!==A?A:void 0,Aa=null!==(G=p.email)&&void 0!==G?G:void 0,fa=null!==(ne=p.phoneNumber)&&void 0!==ne?ne:void 0,pa=null!==($e=p.photoURL)&&void 0!==$e?$e:void 0,ga=null!==(It=p.tenantId)&&void 0!==It?It:void 0,Ha=null!==(tn=p._redirectEventId)&&void 0!==tn?tn:void 0,ec=null!==(Tn=p.createdAt)&&void 0!==Tn?Tn:void 0,kc=null!==(Gn=p.lastLoginAt)&&void 0!==Gn?Gn:void 0,{uid:su,emailVerified:Ru,isAnonymous:xd,providerData:Li,stsTokenManager:gr}=p;we(su&&gr,h,"internal-error");const Pd=De.fromJSON(this.name,gr);we("string"==typeof su,h,"internal-error"),ie(Xr,h.name),ie(Aa,h.name),we("boolean"==typeof Ru,h,"internal-error"),we("boolean"==typeof xd,h,"internal-error"),ie(fa,h.name),ie(pa,h.name),ie(ga,h.name),ie(Ha,h.name),ie(ec,h.name),ie(kc,h.name);const Lc=new me({uid:su,auth:h,email:Aa,emailVerified:Ru,displayName:Xr,isAnonymous:xd,photoURL:pa,phoneNumber:fa,tenantId:ga,stsTokenManager:Pd,createdAt:ec,lastLoginAt:kc});return Li&&Array.isArray(Li)&&(Lc.providerData=Li.map(ou=>Object.assign({},ou))),Ha&&(Lc._redirectEventId=Ha),Lc}static _fromIdTokenResponse(h,p,A=!1){return(0,y.Z)(function*(){const G=new De;G.updateFromServerResponse(p);const ne=new me({uid:p.localId,auth:h,stsTokenManager:G,isAnonymous:A});return yield ke(ne),ne})()}}const lt=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(p,A){var G=this;return(0,y.Z)(function*(){G.storage[p]=A})()}_get(p){var A=this;return(0,y.Z)(function*(){const G=A.storage[p];return void 0===G?null:G})()}_remove(p){var A=this;return(0,y.Z)(function*(){delete A.storage[p]})()}_addListener(p,A){}_removeListener(p,A){}}return b.type="NONE",b})();function ue(b,h,p){return`firebase:${b}:${h}:${p}`}class oe{constructor(h,p,A){this.persistence=h,this.auth=p,this.userKey=A;const{config:G,name:ne}=this.auth;this.fullUserKey=ue(this.userKey,G.apiKey,ne),this.fullPersistenceKey=ue("persistence",G.apiKey,ne),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,y.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?me._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,y.Z)(function*(){if(p.persistence===h)return;const A=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,A?p.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,A="authUser"){return(0,y.Z)(function*(){if(!p.length)return new oe(Pt(lt),h,A);const G=(yield Promise.all(p.map(function(){var Tn=(0,y.Z)(function*(Gn){if(yield Gn._isAvailable())return Gn});return function(Gn){return Tn.apply(this,arguments)}}()))).filter(Tn=>Tn);let ne=G[0]||Pt(lt);const $e=ue(A,h.config.apiKey,h.name);let It=null;for(const Tn of p)try{const Gn=yield Tn._get($e);if(Gn){const Xr=me._fromJSON(h,Gn);Tn!==ne&&(It=Xr),ne=Tn;break}}catch{}const tn=G.filter(Tn=>Tn._shouldAllowMigration);return ne._shouldAllowMigration&&tn.length?(ne=tn[0],It&&(yield ne._set($e,It.toJSON())),yield Promise.all(p.map(function(){var Tn=(0,y.Z)(function*(Gn){if(Gn!==ne)try{yield Gn._remove($e)}catch{}});return function(Gn){return Tn.apply(this,arguments)}}())),new oe(ne,h,A)):new oe(ne,h,A)})()}}function Ee(b){const h=b.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(fe(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Ge(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(te(h))return"Blackberry";if(be(h))return"Webos";if(Le(h))return"Safari";if((h.includes("chrome/")||Nt(h))&&!h.includes("edge/"))return"Chrome";if(ve(h))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function Ge(b=(0,V.z$)()){return/firefox\//i.test(b)}function Le(b=(0,V.z$)()){const h=b.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Nt(b=(0,V.z$)()){return/crios\//i.test(b)}function fe(b=(0,V.z$)()){return/iemobile/i.test(b)}function ve(b=(0,V.z$)()){return/android/i.test(b)}function te(b=(0,V.z$)()){return/blackberry/i.test(b)}function be(b=(0,V.z$)()){return/webos/i.test(b)}function st(b=(0,V.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function An(b=(0,V.z$)()){return st(b)||ve(b)||be(b)||te(b)||/windows phone/i.test(b)||fe(b)}function Ii(b,h=[]){let p;switch(b){case"Browser":p=Ee((0,V.z$)());break;case"Worker":p=`${Ee((0,V.z$)())}-${b}`;break;default:p=b}const A=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${X.Jn}/${A}`}class ns{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const A=ne=>new Promise(($e,It)=>{try{$e(h(ne))}catch(tn){It(tn)}});A.onAbort=p,this.queue.push(A);const G=this.queue.length-1;return()=>{this.queue[G]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,y.Z)(function*(){if(p.auth.currentUser===h)return;const A=[];try{for(const G of p.queue)yield G(h),G.onAbort&&A.push(G.onAbort)}catch(G){A.reverse();for(const ne of A)try{ne()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:G?.message})}})()}}class Ri{constructor(h,p,A){this.app=h,this.heartbeatServiceProvider=p,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fi(this),this.idTokenSubscription=new Fi(this),this.beforeStateQueue=new ns(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(h,p){var A=this;return p&&(this._popupRedirectResolver=Pt(p)),this._initializationPromise=this.queue((0,y.Z)(function*(){var G,ne;if(!A._deleted&&(A.persistenceManager=yield oe.create(A,h),!A._deleted)){if(null!==(G=A._popupRedirectResolver)&&void 0!==G&&G._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(p),A.lastNotifiedUid=(null===(ne=A.currentUser)||void 0===ne?void 0:ne.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,y.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,y.Z)(function*(){var A;const G=yield p.assertedPersistence.getCurrentUser();let ne=G,$e=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const It=null===(A=p.redirectUser)||void 0===A?void 0:A._redirectEventId,tn=ne?._redirectEventId,Tn=yield p.tryRedirectSignIn(h);(!It||It===tn)&&Tn?.user&&(ne=Tn.user,$e=!0)}if(!ne)return p.directlySetCurrentUser(null);if(!ne._redirectEventId){if($e)try{yield p.beforeStateQueue.runMiddleware(ne)}catch(It){ne=G,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(It))}return ne?p.reloadAndSetCurrentUserOrClear(ne):p.directlySetCurrentUser(null)}return we(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ne._redirectEventId?p.directlySetCurrentUser(ne):p.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var p=this;return(0,y.Z)(function*(){let A=null;try{A=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,y.Z)(function*(){try{yield ke(h)}catch(A){if("auth/network-request-failed"!==A?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function bt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var h=this;return(0,y.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,y.Z)(function*(){const A=h?(0,V.m9)(h):null;return A&&we(A.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(A&&A._clone(p))})()}_updateCurrentUser(h,p=!1){var A=this;return(0,y.Z)(function*(){if(!A._deleted)return h&&we(A.tenantId===h.tenantId,A,"tenant-id-mismatch"),p||(yield A.beforeStateQueue.runMiddleware(h)),A.queue((0,y.Z)(function*(){yield A.directlySetCurrentUser(h),A.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,y.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,y.Z)(function*(){yield p.assertedPersistence.setPersistence(Pt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new V.LL("auth","Firebase",h())}onAuthStateChanged(h,p,A){return this.registerStateListener(this.authStateSubscription,h,p,A)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,A){return this.registerStateListener(this.idTokenSubscription,h,p,A)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var A=this;return(0,y.Z)(function*(){const G=yield A.getOrInitRedirectPersistenceManager(p);return null===h?G.removeCurrentUser():G.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,y.Z)(function*(){if(!p.redirectPersistenceManager){const A=h&&Pt(h)||p._popupRedirectResolver;we(A,p,"argument-error"),p.redirectPersistenceManager=yield oe.create(p,[Pt(A._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,y.Z)(function*(){var A,G;return p._isInitialized&&(yield p.queue((0,y.Z)(function*(){}))),(null===(A=p._currentUser)||void 0===A?void 0:A._redirectEventId)===h?p._currentUser:(null===(G=p.redirectUser)||void 0===G?void 0:G._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,y.Z)(function*(){if(h===p.currentUser)return p.queue((0,y.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,A,G){if(this._deleted)return()=>{};const ne="function"==typeof p?p:p.next.bind(p),$e=this._isInitialized?Promise.resolve():this._initializationPromise;return we($e,this,"internal-error"),$e.then(()=>ne(this.currentUser)),"function"==typeof p?h.addObserver(p,A,G):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,y.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,y.Z)(function*(){var p;const A={"X-Client-Version":h.clientVersion};h.app.options.appId&&(A["X-Firebase-gmpid"]=h.app.options.appId);const G=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return G&&(A["X-Firebase-Client"]=G),A})()}}function _r(b){return(0,V.m9)(b)}class Fi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,V.ne)(p=>this.observer=p)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ri(b){const h=b.indexOf(":");return h<0?"":b.substr(0,h+1)}function Nr(b){if(!b)return null;const h=Number(b);return isNaN(h)?null:h}class hi{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Me("not implemented")}_getIdTokenResponse(h){return Me("not implemented")}_linkToIdToken(h,p){return Me("not implemented")}_getReauthenticationResolver(h){return Me("not implemented")}}function Ar(b,h){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,y.Z)(function*(b,h){return Kt(b,"POST","/v1/accounts:signInWithIdp",function un(b,h){return b.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:b.tenantId}):h}(b,h))})).apply(this,arguments)}class On extends hi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new On(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Ze("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:G}=p,ne=(0,ae._T)(p,["providerId","signInMethod"]);if(!A||!G)return null;const $e=new On(A,G);return $e.idToken=ne.idToken||void 0,$e.accessToken=ne.accessToken||void 0,$e.secret=ne.secret,$e.nonce=ne.nonce,$e.pendingToken=ne.pendingToken||null,$e}_getIdTokenResponse(h){return Ar(h,this.buildRequest())}_linkToIdToken(h,p){const A=this.buildRequest();return A.idToken=p,Ar(h,A)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ar(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,V.xO)(p)}return h}}class Fs{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Jn extends Fs{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}let Do=(()=>{class b extends Jn{constructor(){super("facebook.com")}static credential(p){return On._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return b.credential(p.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})();class Vi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,A,G=!1){return(0,y.Z)(function*(){const ne=yield me._fromIdTokenResponse(h,A,G),$e=os(A);return new Vi({user:ne,providerId:$e,_tokenResponse:A,operationType:p})})()}static _forOperation(h,p,A){return(0,y.Z)(function*(){yield h._updateTokensIfNecessary(A,!0);const G=os(A);return new Vi({user:h,providerId:G,_tokenResponse:A,operationType:p})})()}}function os(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}class Zs extends V.ZR{constructor(h,p,A,G){var ne;super(p.code,p.message),this.operationType=A,this.user=G,Object.setPrototypeOf(this,Zs.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:p.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(h,p,A,G){return new Zs(h,p,A,G)}}function Ra(b,h,p,A){return("reauthenticate"===h?p._getReauthenticationResolver(b):p._getIdTokenResponse(b)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Zs._fromErrorAndOperation(b,ne,h,A):ne})}function ms(b,h){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,y.Z)(function*(b,h,p=!1){const A=yield $n(b,h._linkToIdToken(b.auth,yield b.getIdToken()),p);return Vi._forOperation(b,"link",A)})).apply(this,arguments)}function Vs(b,h){return $s.apply(this,arguments)}function $s(){return($s=(0,y.Z)(function*(b,h,p=!1){const{auth:A}=b,G="reauthenticate";try{const ne=yield $n(b,Ra(A,G,h,b),p);we(ne.idToken,A,"internal-error");const $e=Yt(ne.idToken);we($e,A,"internal-error");const{sub:It}=$e;return we(b.uid===It,A,"user-mismatch"),Vi._forOperation(b,G,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&Ze(A,"user-mismatch"),ne}})).apply(this,arguments)}function wa(b,h){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,y.Z)(function*(b,h,p=!1){const A="signIn",G=yield Ra(b,A,h),ne=yield Vi._fromIdTokenResponse(b,A,G);return p||(yield b._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function Rs(b){return(0,V.m9)(b).signOut()}const Je="__sak";class D{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Je,"1"),this.storage.removeItem(Je),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const g=(()=>{class b extends D{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,A)=>this.onStorageEvent(p,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function U(){const b=(0,V.z$)();return Le(b)||st(b)}()&&function Ir(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=An(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const A of Object.keys(this.listeners)){const G=this.storage.getItem(A),ne=this.localCache[A];G!==ne&&p(A,ne,G)}}onStorageEvent(p,A=!1){if(!p.key)return void this.forAllChangedKeys((It,tn,Tn)=>{this.notifyListeners(It,Tn)});const G=p.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const It=this.storage.getItem(G);if(p.newValue!==It)null!==p.newValue?this.storage.setItem(G,p.newValue):this.storage.removeItem(G);else if(this.localCache[G]===p.newValue&&!A)return}const ne=()=>{const It=this.storage.getItem(G);!A&&this.localCache[G]===It||this.notifyListeners(G,It)},$e=this.storage.getItem(G);!function In(){return(0,V.w1)()&&10===document.documentMode}()||$e===p.newValue||p.newValue===p.oldValue?ne():setTimeout(ne,10)}notifyListeners(p,A){this.localCache[p]=A;const G=this.listeners[p];if(G)for(const ne of Array.from(G))ne(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,A,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:A,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(A)}_removeListener(p,A){this.listeners[p]&&(this.listeners[p].delete(A),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,A){var G=()=>super._set,ne=this;return(0,y.Z)(function*(){yield G().call(ne,p,A),ne.localCache[p]=JSON.stringify(A)})()}_get(p){var A=()=>super._get,G=this;return(0,y.Z)(function*(){const ne=yield A().call(G,p);return G.localCache[p]=JSON.stringify(ne),ne})()}_remove(p){var A=()=>super._remove,G=this;return(0,y.Z)(function*(){yield A().call(G,p),delete G.localCache[p]})()}}return b.type="LOCAL",b})(),B=(()=>{class b extends D{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,A){}_removeListener(p,A){}}return b.type="SESSION",b})();let he=(()=>{class b{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const A=this.receivers.find(ne=>ne.isListeningto(p));if(A)return A;const G=new b(p);return this.receivers.push(G),G}isListeningto(p){return this.eventTarget===p}handleEvent(p){var A=this;return(0,y.Z)(function*(){const G=p,{eventId:ne,eventType:$e,data:It}=G.data,tn=A.handlersMap[$e];if(!tn?.size)return;G.ports[0].postMessage({status:"ack",eventId:ne,eventType:$e});const Tn=Array.from(tn).map(function(){var Xr=(0,y.Z)(function*(Aa){return Aa(G.origin,It)});return function(Aa){return Xr.apply(this,arguments)}}()),Gn=yield function Z(b){return Promise.all(b.map(function(){var h=(0,y.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(A){return{fulfilled:!1,reason:A}}});return function(p){return h.apply(this,arguments)}}()))}(Tn);G.ports[0].postMessage({status:"done",eventId:ne,eventType:$e,response:Gn})})()}_subscribe(p,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(A)}_unsubscribe(p,A){this.handlersMap[p]&&A&&this.handlersMap[p].delete(A),(!A||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function pe(b="",h=10){let p="";for(let A=0;A<h;A++)p+=Math.floor(10*Math.random());return b+p}class Ne{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,A=50){var G=this;return(0,y.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let $e,It;return new Promise((tn,Tn)=>{const Gn=pe("",20);ne.port1.start();const Xr=setTimeout(()=>{Tn(new Error("unsupported_event"))},A);It={messageChannel:ne,onMessage(Aa){const fa=Aa;if(fa.data.eventId===Gn)switch(fa.data.status){case"ack":clearTimeout(Xr),$e=setTimeout(()=>{Tn(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),tn(fa.data.response);break;default:clearTimeout(Xr),clearTimeout($e),Tn(new Error("invalid_response"))}}},G.handlers.add(It),ne.port1.addEventListener("message",It.onMessage),G.target.postMessage({eventType:h,eventId:Gn,data:p},[ne.port2])}).finally(()=>{It&&G.removeMessageHandler(It)})})()}}function We(){return window}function Tt(){return typeof We().WorkerGlobalScope<"u"&&"function"==typeof We().importScripts}function Wt(){return(Wt=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xt="firebaseLocalStorageDb",Xn=1,xn="firebaseLocalStorage",At="fbase_key";class Pr{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ki(b,h){return b.transaction([xn],h?"readwrite":"readonly").objectStore(xn)}function ai(){const b=indexedDB.open(Xt,Xn);return new Promise((h,p)=>{b.addEventListener("error",()=>{p(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(xn,{keyPath:At})}catch(G){p(G)}}),b.addEventListener("success",(0,y.Z)(function*(){const A=b.result;A.objectStoreNames.contains(xn)?h(A):(A.close(),yield function $i(){const b=indexedDB.deleteDatabase(Xt);return new Pr(b).toPromise()}(),h(yield ai()))}))})}function Ci(b,h,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,y.Z)(function*(b,h,p){const A=ki(b,!0).put({[At]:h,value:p});return new Pr(A).toPromise()})).apply(this,arguments)}function ro(){return(ro=(0,y.Z)(function*(b,h){const p=ki(b,!1).get(h),A=yield new Pr(p).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function vs(b,h){const p=ki(b,!0).delete(h);return new Pr(p).toPromise()}const Gt=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,y.Z)(function*(){return p.db||(p.db=yield ai()),p.db})()}_withRetries(p){var A=this;return(0,y.Z)(function*(){let G=0;for(;;)try{const ne=yield A._openDb();return yield p(ne)}catch(ne){if(G++>3)throw ne;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,y.Z)(function*(){return Tt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,y.Z)(function*(){p.receiver=he._getInstance(function dn(){return Tt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var A=(0,y.Z)(function*(G,ne){return{keyProcessed:(yield p._poll()).includes(ne.key)}});return function(G,ne){return A.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var A=(0,y.Z)(function*(G,ne){return["keyChanged"]});return function(G,ne){return A.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,y.Z)(function*(){var A,G;if(p.activeServiceWorker=yield function Sn(){return Wt.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ne(p.activeServiceWorker);const ne=yield p.sender._send("ping",{},800);ne&&null!==(A=ne[0])&&void 0!==A&&A.fulfilled&&null!==(G=ne[0])&&void 0!==G&&G.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var A=this;return(0,y.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function gt(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:p},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ai();return yield Ci(p,Je,"1"),yield vs(p,Je),!0}catch{}return!1})()}_withPendingWrite(p){var A=this;return(0,y.Z)(function*(){A.pendingWrites++;try{yield p()}finally{A.pendingWrites--}})()}_set(p,A){var G=this;return(0,y.Z)(function*(){return G._withPendingWrite((0,y.Z)(function*(){return yield G._withRetries(ne=>Ci(ne,p,A)),G.localCache[p]=A,G.notifyServiceWorker(p)}))})()}_get(p){var A=this;return(0,y.Z)(function*(){const G=yield A._withRetries(ne=>function qr(b,h){return ro.apply(this,arguments)}(ne,p));return A.localCache[p]=G,G})()}_remove(p){var A=this;return(0,y.Z)(function*(){return A._withPendingWrite((0,y.Z)(function*(){return yield A._withRetries(G=>vs(G,p)),delete A.localCache[p],A.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,y.Z)(function*(){const A=yield p._withRetries($e=>{const It=ki($e,!1).getAll();return new Pr(It).toPromise()});if(!A)return[];if(0!==p.pendingWrites)return[];const G=[],ne=new Set;for(const{fbase_key:$e,value:It}of A)ne.add($e),JSON.stringify(p.localCache[$e])!==JSON.stringify(It)&&(p.notifyListeners($e,It),G.push($e));for(const $e of Object.keys(p.localCache))p.localCache[$e]&&!ne.has($e)&&(p.notifyListeners($e,null),G.push($e));return G})()}notifyListeners(p,A){this.localCache[p]=A;const G=this.listeners[p];if(G)for(const ne of Array.from(G))ne(A)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(A)}_removeListener(p,A){this.listeners[p]&&(this.listeners[p].delete(A),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Ei(b){return`__${b}${Math.floor(1e6*Math.random())}`}function so(b,h){return h?Pt(h):(we(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}Ei("rcb"),new _t(3e4,6e4);class Lo extends hi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ar(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Ar(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Ar(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function ni(b){return wa(b.auth,new Lo(b),b.bypassAuthState)}function oo(b){const{auth:h,user:p}=b;return we(p,h,"internal-error"),Vs(p,new Lo(b),b.bypassAuthState)}function _s(b){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,y.Z)(function*(b){const{auth:h,user:p}=b;return we(p,h,"internal-error"),ms(p,new Lo(b),b.bypassAuthState)})).apply(this,arguments)}class ci{constructor(h,p,A,G,ne=!1){this.auth=h,this.resolver=A,this.user=G,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,y.Z)(function*(A,G){h.pendingPromise={resolve:A,reject:G};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(A,G){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,y.Z)(function*(){const{urlResponse:A,sessionId:G,postBody:ne,tenantId:$e,error:It,type:tn}=h;if(It)return void p.reject(It);const Tn={auth:p.auth,requestUri:A,sessionId:G,tenantId:$e||void 0,postBody:ne||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(tn)(Tn))}catch(Gn){p.reject(Gn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return ni;case"linkViaPopup":case"linkViaRedirect":return _s;case"reauthViaPopup":case"reauthViaRedirect":return oo;default:Ze(this.auth,"internal-error")}}resolve(h){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ao=new _t(2e3,1e4);function Uo(b,h,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,y.Z)(function*(b,h,p){const A=_r(b);!function Ae(b,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Ze(b,"argument-error"),de(b,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(b,h,Fs);const G=so(A,p);return new F(A,"signInViaPopup",h,G).executeNotNull()})).apply(this,arguments)}let F=(()=>{class b extends ci{constructor(p,A,G,ne,$e){super(p,A,ne,$e),this.provider=G,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var p=this;return(0,y.Z)(function*(){const A=yield p.execute();return we(A,p.auth,"internal-error"),A})()}onExecution(){var p=this;return(0,y.Z)(function*(){Ke(1===p.filter.length,"Popup operations only handle one event");const A=pe();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],A),p.authWindow.associatedEvent=A,p.resolver._originValidation(p.auth).catch(G=>{p.reject(G)}),p.resolver._isIframeWebStorageSupported(p.auth,G=>{G||p.reject(Pe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const p=()=>{var A,G;this.pollId=null!==(G=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==G&&G.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,ao.get())};p()}}return b.currentPopupAction=null,b})();const z="pendingRedirect",Q=new Map;class xe extends ci{constructor(h,p,A=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,A),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,y.Z)(function*(){let A=Q.get(p.auth._key());if(!A){try{const ne=(yield function pt(b,h){return qt.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;A=()=>Promise.resolve(ne)}catch(G){A=()=>Promise.reject(G)}Q.set(p.auth._key(),A)}return p.bypassAuthState||Q.set(p.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,A=this;return(0,y.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(A,h);if("unknown"!==h.type){if(h.eventId){const G=yield A.auth._redirectUserForId(h.eventId);if(G)return A.user=G,p().call(A,h);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function qt(){return(qt=(0,y.Z)(function*(b,h){const p=function Yo(b){return ue(z,b.config.apiKey,b.name)}(h),A=function _o(b){return Pt(b._redirectPersistence)}(b);if(!(yield A._isAvailable()))return!1;const G="true"===(yield A._get(p));return yield A._remove(p),G})).apply(this,arguments)}function ps(b,h){Q.set(b._key(),h)}function fn(b,h){return En.apply(this,arguments)}function En(){return(En=(0,y.Z)(function*(b,h,p=!1){const A=_r(b),G=so(A,h),$e=yield new xe(A,G,p).execute();return $e&&!p&&(delete $e.user._redirectEventId,yield A._persistUserIfCurrent($e.user),yield A._setRedirectUser(null,h)),$e})).apply(this,arguments)}class Vo{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(h,A)&&(p=!0,this.sendToConsumer(h,A),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function bc(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qo(b);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var A;if(h.error&&!Qo(h)){const G=(null===(A=h.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";p.onError(Pe(this.auth,G))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const A=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&A}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ji(h))}saveEventToCache(h){this.cachedEventUids.add(ji(h)),this.lastProcessedEventTime=Date.now()}}function ji(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(h=>h).join("-")}function Qo({type:b,error:h}){return"unknown"===b&&"auth/no-auth-event"===h?.code}function Es(){return(Es=(0,y.Z)(function*(b,h={}){return Dt(b,"GET","/v1/projects",h)})).apply(this,arguments)}const li=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Er=/^https?/;function nu(){return nu=(0,y.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:h}=yield function Qr(b){return Es.apply(this,arguments)}(b);for(const p of h)try{if(uo(p))return}catch{}Ze(b,"unauthorized-domain")}),nu.apply(this,arguments)}function uo(b){const h=Ve(),{protocol:p,hostname:A}=new URL(h);if(b.startsWith("chrome-extension://")){const $e=new URL(b);return""===$e.hostname&&""===A?"chrome-extension:"===p&&b.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&$e.hostname===A}if(!Er.test(p))return!1;if(li.test(b))return A===b;const G=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(A)}const Ps=new _t(3e4,6e4);function Tc(){const b=We().___jsl;if(b?.H)for(const h of Object.keys(b.H))if(b.H[h].r=b.H[h].r||[],b.H[h].L=b.H[h].L||[],b.H[h].r=[...b.H[h].L],b.CP)for(let p=0;p<b.CP.length;p++)b.CP[p]=null}let Sc=null;function bl(b){return Sc=Sc||function wi(b){return new Promise((h,p)=>{var A,G,ne;function $e(){Tc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Tc(),p(Pe(b,"network-request-failed"))},timeout:Ps.get()})}if(null!==(G=null===(A=We().gapi)||void 0===A?void 0:A.iframes)&&void 0!==G&&G.Iframe)h(gapi.iframes.getContext());else{if(null===(ne=We().gapi)||void 0===ne||!ne.load){const It=Ei("iframefcb");return We()[It]=()=>{gapi.load?$e():p(Pe(b,"network-request-failed"))},function Yi(b){return new Promise((h,p)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=h,A.onerror=G=>{const ne=Pe("internal-error");ne.customData=G,p(ne)},A.type="text/javascript",A.charset="UTF-8",function zr(){var b,h;return null!==(h=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==h?h:document}().appendChild(A)})}(`https://apis.google.com/js/api.js?onload=${It}`).catch(tn=>p(tn))}$e()}}).catch(h=>{throw Sc=null,h})}(b),Sc}const Va=new _t(5e3,15e3),Cc="__/auth/iframe",Tl="emulator/auth/iframe",Au={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ph=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oh(b){const h=b.config;we(h.authDomain,b,"auth-domain-config-required");const p=h.emulator?Bt(h,Tl):`https://${b.config.authDomain}/${Cc}`,A={apiKey:h.apiKey,appName:b.name,v:X.Jn},G=Ph.get(b.config.apiHost);G&&(A.eid=G);const ne=b._getFrameworks();return ne.length&&(A.fw=ne.join(",")),`${p}?${(0,V.xO)(A).slice(1)}`}function Sl(){return Sl=(0,y.Z)(function*(b){const h=yield bl(b),p=We().gapi;return we(p,b,"internal-error"),h.open({where:document.body,url:Oh(b),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Au,dontclear:!0},A=>new Promise(function(){var G=(0,y.Z)(function*(ne,$e){yield A.restyle({setHideOnLeave:!1});const It=Pe(b,"network-request-failed"),tn=We().setTimeout(()=>{$e(It)},Va.get());function Tn(){We().clearTimeout(tn),ne(A)}A.ping(Tn).then(Tn,()=>{$e(It)})});return function(ne,$e){return G.apply(this,arguments)}}()))}),Sl.apply(this,arguments)}const Xu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sd=500,Ac=600,Mu="_blank",Mc="http://localhost";class $a{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Rc="__/auth/handler",Ju="emulator/auth/handler";function Cl(b,h,p,A,G,ne){we(b.config.authDomain,b,"auth-domain-config-required"),we(b.config.apiKey,b,"invalid-api-key");const $e={apiKey:b.config.apiKey,appName:b.name,authType:p,redirectUrl:A,v:X.Jn,eventId:G};if(h instanceof Fs){h.setDefaultLanguage(b.languageCode),$e.providerId=h.providerId||"",(0,V.xb)(h.getCustomParameters())||($e.customParameters=JSON.stringify(h.getCustomParameters()));for(const[tn,Tn]of Object.entries(ne||{}))$e[tn]=Tn}if(h instanceof Jn){const tn=h.getScopes().filter(Tn=>""!==Tn);tn.length>0&&($e.scopes=tn.join(","))}b.tenantId&&($e.tid=b.tenantId);const It=$e;for(const tn of Object.keys(It))void 0===It[tn]&&delete It[tn];return`${function xc({config:b}){return b.emulator?Bt(b,Ju):`https://${b.authDomain}/${Rc}`}(b)}?${(0,V.xO)(It).slice(1)}`}const ja="webStorageSupport",Ad=class Cd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B,this._completeRedirectFn=fn,this._overrideRedirectResult=ps}_openPopup(h,p,A,G){var ne=this;return(0,y.Z)(function*(){var $e;Ke(null===($e=ne.eventManagers[h._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const It=Cl(h,p,A,Ve(),G);return function Ws(b,h,p,A=Sd,G=Ac){const ne=Math.max((window.screen.availHeight-G)/2,0).toString(),$e=Math.max((window.screen.availWidth-A)/2,0).toString();let It="";const tn=Object.assign(Object.assign({},Xu),{width:A.toString(),height:G.toString(),top:ne,left:$e}),Tn=(0,V.z$)().toLowerCase();p&&(It=Nt(Tn)?Mu:p),Ge(Tn)&&(h=h||Mc,tn.scrollbars="yes");const Gn=Object.entries(tn).reduce((Aa,[fa,pa])=>`${Aa}${fa}=${pa},`,"");if(function Rt(b=(0,V.z$)()){var h;return st(b)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Tn)&&"_self"!==It)return function Xo(b,h){const p=document.createElement("a");p.href=b,p.target=h;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(A)}(h||"",It),new $a(null);const Xr=window.open(h||"",It,Gn);we(Xr,b,"popup-blocked");try{Xr.focus()}catch{}return new $a(Xr)}(h,It,pe())})()}_openRedirect(h,p,A,G){var ne=this;return(0,y.Z)(function*(){return yield ne._originValidation(h),function rt(b){We().location.href=b}(Cl(h,p,A,Ve(),G)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:G,promise:ne}=this.eventManagers[p];return G?Promise.resolve(G):(Ke(ne,"If manager is not set, promise should be"),ne)}const A=this.initAndGetManager(h);return this.eventManagers[p]={promise:A},A.catch(()=>{delete this.eventManagers[p]}),A}initAndGetManager(h){var p=this;return(0,y.Z)(function*(){const A=yield function ru(b){return Sl.apply(this,arguments)}(h),G=new Vo(h);return A.register("authEvent",ne=>(we(ne?.authEvent,h,"invalid-auth-event"),{status:G.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:G},p.iframes[h._key()]=A,G})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(ja,{type:ja},G=>{var ne;const $e=null===(ne=G?.[0])||void 0===ne?void 0:ne[ja];void 0!==$e&&p(!!$e),Ze(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Dl(b){return nu.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return An()||Le()||st()}};var Al="@firebase/auth";class Ml{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,y.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(A=>{h(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ha=(0,V.Pz)("authIdTokenMaxAge")||300;let Nc=null;const iu=b=>function(){var h=(0,y.Z)(function*(p){const A=p&&(yield p.getIdTokenResult()),G=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(G&&G>ha)return;const ne=A?.token;Nc!==ne&&(Nc=ne,yield fetch(b,{method:ne?"POST":"DELETE",headers:ne?{Authorization:`Bearer ${ne}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function Rd(b=(0,X.Mq)()){const h=(0,X.qX)(b,"auth");if(h.isInitialized())return h.getImmediate();const p=function on(b,h){const p=(0,X.qX)(b,"auth");if(p.isInitialized()){const G=p.getImmediate(),ne=p.getOptions();if((0,V.vZ)(ne,h??{}))return G;Ze(G,"already-initialized")}return p.initialize({options:h})}(b,{popupRedirectResolver:Ad,persistence:[Gt,g,B]}),A=(0,V.Pz)("authTokenSyncURL");if(A){const ne=iu(A);(function to(b,h,p){(0,V.m9)(b).beforeAuthStateChanged(h,p)})(p,ne,()=>ne(p.currentUser)),function Na(b,h,p,A){(0,V.m9)(b).onIdTokenChanged(h,p,A)}(p,$e=>ne($e))}const G=(0,V.q4)("auth");return G&&function ho(b,h,p){const A=_r(b);we(A._canInitEmulator,A,"emulator-config-failed"),we(/^https?:\/\//.test(h),A,"invalid-emulator-scheme");const G=!!p?.disableWarnings,ne=ri(h),{host:$e,port:It}=function Hn(b){const h=ri(b),p=/(\/\/)?([^?#/]+)/.exec(b.substr(h.length));if(!p)return{host:"",port:null};const A=p[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(A);if(G){const ne=G[1];return{host:ne,port:Nr(A.substr(ne.length+1))}}{const[ne,$e]=A.split(":");return{host:ne,port:Nr($e)}}}(h);A.config.emulator={url:`${ne}//${$e}${null===It?"":`:${It}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:$e,port:It,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function Dr(){function b(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(p,`http://${G}`),p}!function Oc(b){(0,X.Xd)(new ce.wA("auth",(h,{options:p})=>{const A=h.getProvider("app").getImmediate(),G=h.getProvider("heartbeat"),{apiKey:ne,authDomain:$e}=A.options;return((It,tn)=>{we(ne&&!ne.includes(":"),"invalid-api-key",{appName:It.name}),we(!$e?.includes(":"),"argument-error",{appName:It.name});const Tn={apiKey:ne,authDomain:$e,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ii(b)},Gn=new Ri(It,tn,Tn);return function kt(b,h){const p=h?.persistence||[],A=(Array.isArray(p)?p:[p]).map(Pt);h?.errorMap&&b._updateErrorMap(h.errorMap),b._initializeWithPersistence(A,h?.popupRedirectResolver)}(Gn,p),Gn})(A,G)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,A)=>{h.getProvider("auth-internal").initialize()})),(0,X.Xd)(new ce.wA("auth-internal",h=>{const p=_r(h.getProvider("auth").getImmediate());return new Ml(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.KN)(Al,"0.21.5",function Md(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,X.KN)(Al,"0.21.5","esm2017")}("Browser")},8766:(xt,Re,O)=>{O.d(Re,{Lj:()=>Pe,X3:()=>Ze});var y=O(5861);const V=(Me,Ke)=>Ke.some(Ft=>Me instanceof Ft);let X,se;const ee=new WeakMap,L=new WeakMap,q=new WeakMap,j=new WeakMap,Y=new WeakMap;let je={get(Me,Ke,Ft){if(Me instanceof IDBTransaction){if("done"===Ke)return L.get(Me);if("objectStoreNames"===Ke)return Me.objectStoreNames||q.get(Me);if("store"===Ke)return Ft.objectStoreNames[1]?void 0:Ft.objectStore(Ft.objectStoreNames[0])}return He(Me[Ke])},set:(Me,Ke,Ft)=>(Me[Ke]=Ft,!0),has:(Me,Ke)=>Me instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in Me};function Se(Me){return"function"==typeof Me?function ot(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...Ke){return Me.apply(Ce(this),Ke),He(ee.get(this))}:function(...Ke){return He(Me.apply(Ce(this),Ke))}:function(Ke,...Ft){const Pt=Me.call(Ce(this),Ke,...Ft);return q.set(Pt,Ke.sort?Ke.sort():[Ke]),He(Pt)}}(Me):(Me instanceof IDBTransaction&&function _e(Me){if(L.has(Me))return;const Ke=new Promise((Ft,Pt)=>{const on=()=>{Me.removeEventListener("complete",kt),Me.removeEventListener("error",Ve),Me.removeEventListener("abort",Ve)},kt=()=>{Ft(),on()},Ve=()=>{Pt(Me.error||new DOMException("AbortError","AbortError")),on()};Me.addEventListener("complete",kt),Me.addEventListener("error",Ve),Me.addEventListener("abort",Ve)});L.set(Me,Ke)}(Me),V(Me,function ae(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,je):Me)}function He(Me){if(Me instanceof IDBRequest)return function re(Me){const Ke=new Promise((Ft,Pt)=>{const on=()=>{Me.removeEventListener("success",kt),Me.removeEventListener("error",Ve)},kt=()=>{Ft(He(Me.result)),on()},Ve=()=>{Pt(Me.error),on()};Me.addEventListener("success",kt),Me.addEventListener("error",Ve)});return Ke.then(Ft=>{Ft instanceof IDBCursor&&ee.set(Ft,Me)}).catch(()=>{}),Y.set(Ke,Me),Ke}(Me);if(j.has(Me))return j.get(Me);const Ke=Se(Me);return Ke!==Me&&(j.set(Me,Ke),Y.set(Ke,Me)),Ke}const Ce=Me=>Y.get(Me);function Ze(Me,Ke,{blocked:Ft,upgrade:Pt,blocking:on,terminated:kt}={}){const Ve=indexedDB.open(Me,Ke),Ye=He(Ve);return Pt&&Ve.addEventListener("upgradeneeded",ut=>{Pt(He(Ve.result),ut.oldVersion,ut.newVersion,He(Ve.transaction))}),Ft&&Ve.addEventListener("blocked",()=>Ft()),Ye.then(ut=>{kt&&ut.addEventListener("close",()=>kt()),on&&ut.addEventListener("versionchange",()=>on())}).catch(()=>{}),Ye}function Pe(Me,{blocked:Ke}={}){const Ft=indexedDB.deleteDatabase(Me);return Ke&&Ft.addEventListener("blocked",()=>Ke()),He(Ft).then(()=>{})}const de=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],it=new Map;function we(Me,Ke){if(!(Me instanceof IDBDatabase)||Ke in Me||"string"!=typeof Ke)return;if(it.get(Ke))return it.get(Ke);const Ft=Ke.replace(/FromIndex$/,""),Pt=Ke!==Ft,on=Ae.includes(Ft);if(!(Ft in(Pt?IDBIndex:IDBObjectStore).prototype)||!on&&!de.includes(Ft))return;const kt=function(){var Ve=(0,y.Z)(function*(Ye,...ut){const mt=this.transaction(Ye,on?"readwrite":"readonly");let bt=mt.store;return Pt&&(bt=bt.index(ut.shift())),(yield Promise.all([bt[Ft](...ut),on&&mt.done]))[0]});return function(ut){return Ve.apply(this,arguments)}}();return it.set(Ke,kt),kt}!function ye(Me){je=Me(je)}(Me=>({...Me,get:(Ke,Ft,Pt)=>we(Ke,Ft)||Me.get(Ke,Ft,Pt),has:(Ke,Ft)=>!!we(Ke,Ft)||Me.has(Ke,Ft)}))},3414:(xt,Re,O)=>{O.d(Re,{R_:()=>Pe,o2:()=>ae});var y=O(8809),V=O(7952);const se=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"];function ae(de){return-1!==se.indexOf(de)}const ee=2,L=.16,q=.05,j=.05,Y=.15,re=5,_e=4,je=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ye({r:de,g:Ae,b:it}){const we=(0,y.py)(de,Ae,it);return{h:360*we.h,s:we.s,v:we.v}}function ot({r:de,g:Ae,b:it}){return`#${(0,y.vq)(de,Ae,it,!1)}`}function He(de,Ae,it){let we;return we=Math.round(de.h)>=60&&Math.round(de.h)<=240?it?Math.round(de.h)-ee*Ae:Math.round(de.h)+ee*Ae:it?Math.round(de.h)+ee*Ae:Math.round(de.h)-ee*Ae,we<0?we+=360:we>=360&&(we-=360),we}function Ce(de,Ae,it){if(0===de.h&&0===de.s)return de.s;let we;return we=it?de.s-L*Ae:Ae===_e?de.s+L:de.s+q*Ae,we>1&&(we=1),it&&Ae===re&&we>.1&&(we=.1),we<.06&&(we=.06),Number(we.toFixed(2))}function Ze(de,Ae,it){let we;return we=it?de.v+j*Ae:de.v-Y*Ae,we>1&&(we=1),Number(we.toFixed(2))}function Pe(de,Ae={}){const it=[],we=(0,V.uA)(de);for(let Me=re;Me>0;Me-=1){const Ke=ye(we),Ft=ot((0,V.uA)({h:He(Ke,Me,!0),s:Ce(Ke,Me,!0),v:Ze(Ke,Me,!0)}));it.push(Ft)}it.push(ot(we));for(let Me=1;Me<=_e;Me+=1){const Ke=ye(we),Ft=ot((0,V.uA)({h:He(Ke,Me),s:Ce(Ke,Me),v:Ze(Ke,Me)}));it.push(Ft)}return"dark"===Ae.theme?je.map(({index:Me,opacity:Ke})=>ot(function Se(de,Ae,it){const we=it/100;return{r:(Ae.r-de.r)*we+de.r,g:(Ae.g-de.g)*we+de.g,b:(Ae.b-de.b)*we+de.b}}((0,V.uA)(Ae.backgroundColor||"#141414"),(0,V.uA)(it[Me]),100*Ke))):it}},2536:(xt,Re,O)=>{O.d(Re,{jY:()=>ye,oS:()=>ot});var y=O(4650),V=O(7579),X=O(9300),se=O(9718),ae=O(5192),ce=O(3414),ee=O(8932),L=O(3187);const q=new y.OlP("nz-config"),j=`-ant-${Date.now()}-${Math.random()}`;function re(Se,He){const Ce=function Y(Se,He){const Ce={},Ze=(Ae,it)=>{let we=Ae.clone();return we=it?.(we)||we,we.toRgbString()},Pe=(Ae,it)=>{const we=new ae.C(Ae),Me=(0,ce.R_)(we.toRgbString());Ce[`${it}-color`]=Ze(we),Ce[`${it}-color-disabled`]=Me[1],Ce[`${it}-color-hover`]=Me[4],Ce[`${it}-color-active`]=Me[7],Ce[`${it}-color-outline`]=we.clone().setAlpha(.2).toRgbString(),Ce[`${it}-color-deprecated-bg`]=Me[1],Ce[`${it}-color-deprecated-border`]=Me[3]};if(He.primaryColor){Pe(He.primaryColor,"primary");const Ae=new ae.C(He.primaryColor),it=(0,ce.R_)(Ae.toRgbString());it.forEach((Me,Ke)=>{Ce[`primary-${Ke+1}`]=Me}),Ce["primary-color-deprecated-l-35"]=Ze(Ae,Me=>Me.lighten(35)),Ce["primary-color-deprecated-l-20"]=Ze(Ae,Me=>Me.lighten(20)),Ce["primary-color-deprecated-t-20"]=Ze(Ae,Me=>Me.tint(20)),Ce["primary-color-deprecated-t-50"]=Ze(Ae,Me=>Me.tint(50)),Ce["primary-color-deprecated-f-12"]=Ze(Ae,Me=>Me.setAlpha(.12*Me.getAlpha()));const we=new ae.C(it[0]);Ce["primary-color-active-deprecated-f-30"]=Ze(we,Me=>Me.setAlpha(.3*Me.getAlpha())),Ce["primary-color-active-deprecated-d-02"]=Ze(we,Me=>Me.darken(2))}return He.successColor&&Pe(He.successColor,"success"),He.warningColor&&Pe(He.warningColor,"warning"),He.errorColor&&Pe(He.errorColor,"error"),He.infoColor&&Pe(He.infoColor,"info"),`\n  :root {\n    ${Object.keys(Ce).map(Ae=>`--${Se}-${Ae}: ${Ce[Ae]};`).join("\n")}\n  }\n  `.trim()}(Se,He);(0,L.J8)()?(0,L.hq)(Ce,`${j}-dynamic-theme`):(0,ee.ZK)("NzConfigService: SSR do not support dynamic theme with css variables.")}const _e=function(Se){return void 0!==Se};let ye=(()=>{class Se{constructor(Ce){this.configUpdated$=new V.x,this.config=Ce||{},this.config.theme&&re(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme)}getConfig(){return this.config}getConfigForComponent(Ce){return this.config[Ce]}getConfigChangeEventForComponent(Ce){return this.configUpdated$.pipe((0,X.h)(Ze=>Ze===Ce),(0,se.h)(void 0))}set(Ce,Ze){this.config[Ce]={...this.config[Ce],...Ze},"theme"===Ce&&this.config.theme&&re(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme),this.configUpdated$.next(Ce)}}return Se.\u0275fac=function(Ce){return new(Ce||Se)(y.LFG(q,8))},Se.\u0275prov=y.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})();function ot(){return function(He,Ce,Ze){const Pe=`$$__zorroConfigDecorator__${Ce}`;return Object.defineProperty(He,Pe,{configurable:!0,writable:!0,enumerable:!1}),{get(){const de=Ze?.get?Ze.get.bind(this)():this[Pe],Ae=(this.propertyAssignCounter?.[Ce]||0)>1,it=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[Ce];return Ae&&_e(de)?de:_e(it)?it:de},set(de){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[Ce]=(this.propertyAssignCounter[Ce]||0)+1,Ze?.set?Ze.set.bind(this)(de):this[Pe]=de},configurable:!0,enumerable:!0}}}},153:(xt,Re,O)=>{O.d(Re,{N:()=>y});const y={isTestMode:!1}},8932:(xt,Re,O)=>{O.d(Re,{ZK:()=>ee});var y=O(4650),V=O(153);const X={};const ee=(...j)=>function ce(j,...Y){(V.N.isTestMode||(0,y.X6Q)()&&function ae(...j){const Y=j.reduce((re,_e)=>re+_e.toString(),"");return!X[Y]&&(X[Y]=!0,!0)}(...Y))&&j(...Y)}((...Y)=>console.warn("[NG-ZORRO]:",...Y),...j)},3187:(xt,Re,O)=>{O.d(Re,{DX:()=>ce,J8:()=>ir,Rn:()=>He,Sm:()=>ut,WX:()=>_e,YM:()=>Ye,Zu:()=>Yn,hq:()=>nn,kK:()=>ee,pW:()=>Ze,sw:()=>Y,tI:()=>Ft,ui:()=>Ve,yF:()=>ot});var y=O(1281),V=O(8932);function ce(ke){return typeof ke<"u"&&null!==ke}function ee(ke){return typeof ke>"u"||null===ke}function Y(ke){return(0,y.Ig)(ke)}function _e(ke){return(0,y.HM)(ke)}function ye(ke,tt){return function Et(ht,hn,Dn){const ct=`$$__zorroPropDecorator__${hn}`;return Object.prototype.hasOwnProperty.call(ht,ct)&&(0,V.ZK)(`The prop "${ct}" is already exist, it will be overrided by ${ke} decorator.`),Object.defineProperty(ht,ct,{configurable:!0,writable:!0}),{get(){return Dn&&Dn.get?Dn.get.bind(this)():this[ct]},set(nt){Dn&&Dn.set&&Dn.set.bind(this)(tt(nt)),this[ct]=tt(nt)}}}}function ot(){return ye("InputBoolean",Y)}function He(ke){return ye("InputNumber",tt=>function re(ke,tt=0){return(0,y.t6)(ke)?Number(ke):tt}(tt,ke))}function Ze(ke){if(!ke.getClientRects().length)return{top:0,left:0};const tt=ke.getBoundingClientRect(),Et=ke.ownerDocument.defaultView;return{top:tt.top+Et.pageYOffset,left:tt.left+Et.pageXOffset}}function Ft(ke){return!!ke&&"function"==typeof ke.then&&"function"==typeof ke.catch}function Ve(ke){return"number"==typeof ke&&isFinite(ke)}function Ye(ke,tt){return Math.round(ke*Math.pow(10,tt))/Math.pow(10,tt)}function ut(ke,tt=0){return ke.reduce((Et,ht)=>Et+ht,tt)}function ir(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}typeof window<"u"&&window;const Gr="rc-util-key";function an({mark:ke}={}){return ke?ke.startsWith("data-")?ke:`data-${ke}`:Gr}function Yt(ke){return ke.attachTo?ke.attachTo:document.querySelector("head")||document.body}function Ut(ke,tt={}){if(!ir())return null;const Et=document.createElement("style");tt.csp?.nonce&&(Et.nonce=tt.csp?.nonce),Et.innerHTML=ke;const ht=Yt(tt),{firstChild:hn}=ht;return tt.prepend&&ht.prepend?ht.prepend(Et):tt.prepend&&hn?ht.insertBefore(Et,hn):ht.appendChild(Et),Et}const $n=new Map;function nn(ke,tt,Et={}){const ht=Yt(Et);if(!$n.has(ht)){const ct=Ut("",Et),{parentNode:nt}=ct;$n.set(ht,nt),nt.removeChild(ct)}const hn=function jn(ke,tt={}){const Et=Yt(tt);return Array.from($n.get(Et)?.children||[]).find(ht=>"STYLE"===ht.tagName&&ht.getAttribute(an(tt))===ke)}(tt,Et);if(hn)return Et.csp?.nonce&&hn.nonce!==Et.csp?.nonce&&(hn.nonce=Et.csp?.nonce),hn.innerHTML!==ke&&(hn.innerHTML=ke),hn;const Dn=Ut(ke,Et);return Dn?.setAttribute(an(Et),tt),Dn}function Yn(ke,tt,Et){return{[`${ke}-status-success`]:"success"===tt,[`${ke}-status-warning`]:"warning"===tt,[`${ke}-status-error`]:"error"===tt,[`${ke}-status-validating`]:"validating"===tt,[`${ke}-has-feedback`]:Et}}},5861:(xt,Re,O)=>{function y(X,se,ae,ce,ee,L,q){try{var j=X[L](q),Y=j.value}catch(re){return void ae(re)}j.done?se(Y):Promise.resolve(Y).then(ce,ee)}function V(X){return function(){var se=this,ae=arguments;return new Promise(function(ce,ee){var L=X.apply(se,ae);function q(Y){y(L,ce,ee,q,j,"next",Y)}function j(Y){y(L,ce,ee,q,j,"throw",Y)}q(void 0)})}}O.d(Re,{Z:()=>V})}},xt=>{xt(xt.s=4394)}]);